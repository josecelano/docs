<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>BlockCypher Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all_nosearch.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["shell","javascript","python","php"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
			<a href="http://www.blockcypher.com/">
				<img src="images/logo.svg" />
			</a>
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="javascript">JavaScript</a>
              <a href="#" data-language-name="python">Python</a>
              <a href="#" data-language-name="php">PHP</a>
        </div>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://accounts.blockcypher.com/'>Register for a Free Token</a></li>
            <li>Docs Powered by <a href="https://github.com/tripit/slate">Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>
<pre class="highlight shell"><code><span class="c">#  _               _                  </span>
<span class="c"># |_) |  _   _ |  /     ._  |_   _  ._</span>
<span class="c"># |_) | (_) (_ |&lt; \_ \/ |_) | | (/_ | </span>
<span class="c">#                    /  |             </span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">//  _               _                  </span>
<span class="c1">// |_) |  _   _ |  /     ._  |_   _  ._</span>
<span class="c1">// |_) | (_) (_ |&lt; \_ \/ |_) | | (/_ | </span>
<span class="c1">//                    /  |             </span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="sd">/**
 *  _               _
 * |_) |  _   _ |  /     ._  |_   _  ._
 * |_) | (_) (_ |&lt; \_ \/ |_) | | (/_ |
 *                   /  |
 */</span>

</code></pre>

<p>Welcome to <a href="http://www.blockcypher.com/">BlockCypher&rsquo;s</a> API documentation! BlockCypher is a simple, mostly RESTful JSON API for interacting with blockchains, accessed over HTTP or HTTPS from the <a href="https://api.blockcypher.com/v1/btc/main">api.blockcypher.com</a> domain. Currently, BlockCypher supports Bitcoin, Bitcoin Testnet3, Litecoin, Dogecoin, Urocoin, and BlockCypher&rsquo;s Test Chain (more about BlockCypher&rsquo;s Test Chain <a href="#testing">below</a>).</p>

<p>BlockCypher&rsquo;s API provides a superset of the endpoints you&rsquo;d find in reference implementations, in addition to some special features that make BlockCypher uniquely powerful, like our unconfirmed transaction <a href="#confidence-factor">Confidence Factor</a>, dependable WebHook or WebSockets-based <a href="#events-and-hooks">Events</a>, <a href="#microtransaction-api">On-Chain Microtransactions</a>, and <a href="#payment-forwarding">Payment Forwarding</a>.</p>

<p>Consequently, if you&rsquo;re familiar with a blockchain&rsquo;s reference implementation, you&rsquo;ll feel at home using BlockCypher, but without worrying about scaling or implementation challenges. And if you&rsquo;re not familiar&mdash;with the reference implementations or blockchains in general&mdash;BlockCypher&rsquo;s API is a great way to dip your toes into blockchain development, without a lengthy setup process. In either case, BlockCypher has 99.99% up-time, and maintains an expressive, logical API that you&rsquo;ll love.</p>

<h2 id="documentation-structure">Documentation Structure</h2>
<pre class="highlight shell"><code>man curl | grep -A 3 <span class="s2">"DESCRIPTION"</span>

DESCRIPTION
curl is a tool to transfer data from or to a server, using one of the supported protocols <span class="o">(</span>DICT, FILE, FTP, FTPS, GOPHER, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, POP3, POP3S, RTMP, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, TELNET and TFTP<span class="o">)</span>. The <span class="nb">command </span>is designed to work without user interaction.
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// JavaScript examples use JQuery and can be run directly in your browser</span>
<span class="c1">// console (ctrl+shift+i or cmd+shift+i).</span>
<span class="c1">// Porting them to node.js should be trivial, replacing JQuery methods with</span>
<span class="c1">// request.js for example.</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Welcome to BlockCypher'</span><span class="p">);</span>
</code></pre>
<pre class="highlight python"><code><span class="n">To</span> <span class="n">see</span> <span class="n">detailed</span> <span class="n">python</span> <span class="n">code</span> <span class="n">snippets</span><span class="p">,</span> <span class="n">check</span> <span class="n">the</span> <span class="n">official</span> <span class="n">python</span> <span class="n">repository</span><span class="p">:</span>
<span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">blockcypher</span><span class="o">/</span><span class="n">blockcypher</span><span class="o">-</span><span class="n">python</span>
</code></pre>
<pre class="highlight php"><code>PHP Client
----------

REQUIREMENTS
- PHP 5.4+
- ext-curl
- ext-gmp
- ext-mcrypt
- Composer
- Git

INSTALL SAMPLES
git clone https://github.com/blockcypher/php-client.git
cd php-client

RUNNING SAMPLES ON CONSOLE
php -f .\sample\docs-sample\address-api\address-endpoint.php
Log file is generate in the folder when you run the command


To see detailed PHP client info, check the official PHP repository:
https://github.com/blockcypher/php-client
</code></pre>

<p>In these docs you&rsquo;ll find everything you need to leverage BlockCypher for your applications. For all officially supported languages, you&rsquo;ll see code samples, in addition to basic cURL requests/responses for every endpoint. You can switch between cURL/language samples via the selector in the upper right. We&rsquo;re working on supporting more languages, but if you&rsquo;re working on your own language library, definitely let us know: we&rsquo;d love to add more community supported libraries here.</p>

<aside class="notice">
Currently, we only have cURL, JavaScript, and Python code samples on this page, but are working on adding more samples from our <a href="#blockcypher-supported-language-sdks">supported languages</a> soon!
</aside>

<h3 id="in-browser-code-examples">In-Browser Code Examples</h3>

<p>We know many learn more from code examples than specific reference documentation, which is why we have code samples in our official languages. In addition, we have a number of in-browser code examples for particular use cases, which you can see here:</p>

<ul>
<li><a href="/data/samples/browse-chain.html" target="_blank">Browse the Blockchain</a></li>
<li><a href="/data/samples/nodejs-webhook.html" target="_blank">Using WebHooks</a></li>
<li><a href="/data/samples/create-tx.html" target="_blank">Sending a Simple Transaction</a></li>
<li><a href="/data/samples/multisig-tx.html" target="_blank">Create Multisig Transactions</a></li>
</ul>

<h3 id="changelog-and-errors">Changelog and Errors</h3>

<p>Our documentation is powered by <a href="https://pages.github.com/">GitHub Pages</a> and <a href="https://github.com/tripit/slate">Slate</a>, which makes viewing changes as simple as checking the <a href="https://github.com/blockcypher/documentation/commits/master">git commit history.</a>. If there&rsquo;s an error or you&rsquo;d like to suggest a change, please consider submitting a pull request to benefit the broader BlockCypher community.</p>

<h2 id="api-versions">API Versions</h2>

<p>All API calls are versioned, and the current BlockCypher API is v1. We will never introduce any breaking changes within v1, but we may add new, non-breaking features from time to time.</p>

<h2 id="blockcypher-supported-language-sdks">BlockCypher Supported Language SDKs</h2>

<p>BlockCypher has client SDKs for the following languages:</p>

<ul>
<li><strong>Ruby</strong> <a href="https://github.com/blockcypher/ruby-client">https://github.com/blockcypher/ruby-client</a></li>
<li><strong>Python</strong> <a href="https://github.com/blockcypher/blockcypher-python">https://github.com/blockcypher/blockcypher-python</a></li>
<li><strong>Java</strong> <a href="https://github.com/blockcypher/java-client">https://github.com/blockcypher/java-client</a></li>
</ul>

<p>These client SDKs are under development, but are still officially supported:</p>

<ul>
<li><strong>Node.js</strong> <a href="https://github.com/blockcypher/node-client">https://github.com/blockcypher/node-client</a></li>
<li><strong>PHP</strong> <a href="https://github.com/blockcypher/php-client">https://github.com/blockcypher/php-client</a></li>
</ul>

<p>If you&rsquo;re using these languages, we strongly encourage you to use an official SDK. Of course, all our API calls are standard HTTP endpoints using JSON formatted responses, so any language (or cURL from the command-line) will work just fine.</p>

<h3 id="unofficial-libraries">Unofficial Libraries</h3>

<p>These client SDKs were made by members of the community, and are not officially supported by BlockCypher. As such, BlockCypher cannot guarantee that they&rsquo;re fully up to date, but we hope they will provide a nice jumping-off point for developers using these languages. We&rsquo;ll endeavor to keep this list updated, if any of these prove obsolete. If there&rsquo;s enough support for a particular language, we&rsquo;ll work with the community to turn it into an officially supported SDK.</p>

<ul>
<li><strong>.NET</strong>: <a href="https://github.com/bscheiman/BlockCypher">https://github.com/bscheiman/BlockCypher</a></li>
<li><strong>Go</strong>: <a href="https://github.com/acityinohio/blockcy">https://github.com/acityinohio/blockcy</a></li>
</ul>

<h2 id="restful-resources">RESTful Resources</h2>
<pre class="highlight shell"><code>curl https://api.blockcypher.com/v1/btc/main

<span class="o">{</span>
  <span class="s2">"name"</span>: <span class="s2">"BTC.main"</span>,
  <span class="s2">"height"</span>: 360060,
  <span class="s2">"hash"</span>: <span class="s2">"000000000000000000bf56ff4a81e399374a68344a64d6681039412de78366b8"</span>,
  <span class="s2">"time"</span>: <span class="s2">"2015-06-08T22:57:08.260165627Z"</span>,
  <span class="s2">"latest_url"</span>: <span class="s2">"https://api.blockcypher.com/v1/btc/main/blocks/000000000000000000bf56ff4a81e399374a68344a64d6681039412de78366b8"</span>,
  <span class="s2">"previous_hash"</span>: <span class="s2">"000000000000000011c9511ae1265d34d3c16fff6e8f94380425833b3d0ae5d8"</span>,
  <span class="s2">"previous_url"</span>: <span class="s2">"https://api.blockcypher.com/v1/btc/main/blocks/000000000000000011c9511ae1265d34d3c16fff6e8f94380425833b3d0ae5d8"</span>,
  <span class="s2">"peer_count"</span>: 239,
  <span class="s2">"unconfirmed_count"</span>: 617,
  <span class="s2">"high_fee_per_kb"</span>: 46086,
  <span class="s2">"medium_fee_per_kb"</span>: 29422,
  <span class="s2">"low_fee_per_kb"</span>: 12045,
  <span class="s2">"last_fork_height"</span>: 359865,
  <span class="s2">"last_fork_hash"</span>: <span class="s2">"00000000000000000aa6462fd9faf94712ce1b5a944dc666f491101c996beab9"</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'https://api.blockcypher.com/v1/btc/main'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span>
<span class="o">&gt;</span> <span class="p">{</span>
<span class="o">&gt;</span>   <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"BTC.main"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"height"</span><span class="p">:</span> <span class="mi">355578</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"hash"</span><span class="p">:</span> <span class="s2">"00000000000000000a0b253f20709b0c77d8a56aa8db632ecbdc7381816504cd"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"time"</span><span class="p">:</span> <span class="s2">"2015-05-08T23:12:55.243311146Z"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"latest_url"</span><span class="p">:</span> <span class="s2">"https://api.blockcypher.com/v1/btc/main/blocks/00000000000000000a0b253f20709b0c77d8a56aa8db632ecbdc7381816504cd"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"previous_hash"</span><span class="p">:</span> <span class="s2">"00000000000000000acef50ef89494493b4a08a8419588e1e3e20cd73bc85a6b"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"previous_url"</span><span class="p">:</span> <span class="s2">"https://api.blockcypher.com/v1/btc/main/blocks/00000000000000000acef50ef89494493b4a08a8419588e1e3e20cd73bc85a6b"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"peer_count"</span><span class="p">:</span> <span class="mi">250</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"unconfirmed_count"</span><span class="p">:</span> <span class="mi">637</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"high_fee_per_kb"</span><span class="p">:</span> <span class="mi">45768</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"medium_fee_per_kb"</span><span class="p">:</span> <span class="mi">29415</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"low_fee_per_kb"</span><span class="p">:</span> <span class="mi">12045</span>
<span class="o">&gt;</span> <span class="p">}</span>
</code></pre>
<pre class="highlight python"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.blockcypher.com/v1/btc/main'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s">'high_fee_per_kb'</span><span class="p">:</span> <span class="mi">48419</span><span class="p">,</span>
 <span class="s">'latest_url'</span><span class="p">:</span> <span class="s">'https://api.blockcypher.com/v1/btc/main/blocks/00000000000000000783cf9ef8177b407976990117d03762efe7d3fdfe44d6a3'</span><span class="p">,</span>
 <span class="s">'previous_hash'</span><span class="p">:</span> <span class="s">'0000000000000000097689df71fb60cbbade7cddcaa35b6f4c9cb97b08a7a155'</span><span class="p">,</span>
 <span class="s">'last_fork_height'</span><span class="p">:</span> <span class="mi">359865</span><span class="p">,</span>
 <span class="s">'time'</span><span class="p">:</span> <span class="s">'2015-06-08T20:02:59.668542728Z'</span><span class="p">,</span>
 <span class="s">'unconfirmed_count'</span><span class="p">:</span> <span class="mi">602</span><span class="p">,</span>
 <span class="s">'peer_count'</span><span class="p">:</span> <span class="mi">250</span><span class="p">,</span>
 <span class="s">'height'</span><span class="p">:</span> <span class="mi">360042</span><span class="p">,</span>
 <span class="s">'previous_url'</span><span class="p">:</span> <span class="s">'https://api.blockcypher.com/v1/btc/main/blocks/0000000000000000097689df71fb60cbbade7cddcaa35b6f4c9cb97b08a7a155'</span><span class="p">,</span>
 <span class="s">'medium_fee_per_kb'</span><span class="p">:</span> <span class="mi">29283</span><span class="p">,</span>
 <span class="s">'hash'</span><span class="p">:</span> <span class="s">'00000000000000000783cf9ef8177b407976990117d03762efe7d3fdfe44d6a3'</span><span class="p">,</span>
 <span class="s">'name'</span><span class="p">:</span> <span class="s">'BTC.main'</span><span class="p">,</span>
 <span class="s">'low_fee_per_kb'</span><span class="p">:</span> <span class="mi">12047</span><span class="p">,</span>
 <span class="s">'last_fork_hash'</span><span class="p">:</span> <span class="s">'00000000000000000aa6462fd9faf94712ce1b5a944dc666f491101c996beab9'</span><span class="p">}</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\chain-api\ChainEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\Chain</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$chain</span> <span class="o">=</span> <span class="nx">Chain</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">'BTC.main'</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">{</span>
  <span class="s2">"name"</span><span class="o">:</span><span class="s2">"BTC.main"</span><span class="p">,</span>
  <span class="s2">"height"</span><span class="o">:</span><span class="mi">360602</span><span class="p">,</span>
  <span class="s2">"hash"</span><span class="o">:</span><span class="s2">"00000000000000000a1268afd1eb419817106a37c9a87852228cadb752a64f2a"</span><span class="p">,</span>
  <span class="s2">"time"</span><span class="o">:</span><span class="s2">"2015-06-12T13:09:56.69966089Z"</span><span class="p">,</span>
  <span class="s2">"latest_url"</span><span class="o">:</span><span class="s2">"https://api.blockcypher.com/v1/btc/main/blocks/00000000000000000a1268afd1eb419817106a37c9a87852228cadb752a64f2a"</span><span class="p">,</span>
  <span class="s2">"previous_hash"</span><span class="o">:</span><span class="s2">"00000000000000000cea706491da61bc755a1250d7260becff5aafc9d26613f2"</span><span class="p">,</span>
  <span class="s2">"previous_url"</span><span class="o">:</span><span class="s2">"https://api.blockcypher.com/v1/btc/main/blocks/00000000000000000cea706491da61bc755a1250d7260becff5aafc9d26613f2"</span><span class="p">,</span>
  <span class="s2">"peer_count"</span><span class="o">:</span><span class="mi">250</span><span class="p">,</span>
  <span class="s2">"unconfirmed_count"</span><span class="o">:</span><span class="mi">1794</span><span class="p">,</span>
  <span class="s2">"high_fee_per_kb"</span><span class="o">:</span><span class="mi">40018</span><span class="p">,</span>
  <span class="s2">"medium_fee_per_kb"</span><span class="o">:</span><span class="mi">26652</span><span class="p">,</span>
  <span class="s2">"low_fee_per_kb"</span><span class="o">:</span><span class="mi">12299</span><span class="p">,</span>
  <span class="s2">"last_fork_height"</span><span class="o">:</span><span class="mi">360362</span><span class="p">,</span>
  <span class="s2">"last_fork_hash"</span><span class="o">:</span><span class="s2">"000000000000000002d5cf67bfaa92ba5b371c1590eb48d25031c669ef6233a0"</span>
<span class="p">}</span>
</code></pre>

<p>Almost all resources exist under a given blockchain, and follow this pattern:</p>

<p><code class="prettyprint">https://api.blockcypher.com/$API_VERSION/$COIN/$CHAIN/</code></p>

<p>Currently, there&rsquo;s only one version of the API (v1). Thus, here&rsquo;s an exhaustive list of blockchains and their corresponding resources:</p>

<table><thead>
<tr>
<th>Coin</th>
<th>Chain</th>
<th>Resource</th>
</tr>
</thead><tbody>
<tr>
<td>Bitcoin</td>
<td>Main</td>
<td><code class="prettyprint">api.blockcypher.com/v1/btc/main</code></td>
</tr>
<tr>
<td>Bitcoin</td>
<td>Testnet3</td>
<td><code class="prettyprint">api.blockcypher.com/v1/btc/test3</code></td>
</tr>
<tr>
<td>Dogecoin</td>
<td>Main</td>
<td><code class="prettyprint">api.blockcypher.com/v1/doge/main</code></td>
</tr>
<tr>
<td>Litecoin</td>
<td>Main</td>
<td><code class="prettyprint">api.blockcypher.com/v1/ltc/main</code></td>
</tr>
<tr>
<td>Urocoin</td>
<td>Main</td>
<td><code class="prettyprint">api.blockcypher.com/v1/uro/main</code></td>
</tr>
<tr>
<td>BlockCypher</td>
<td>Test</td>
<td><code class="prettyprint">api.blockcypher.com/v1/bcy/test</code></td>
</tr>
</tbody></table>

<aside class="notice">
Unless otherwise noted, all descriptions of direct HTTP requests will assume one of these base resources prepends it. But you can always see the full call in the cURL code sample.
</aside>

<aside class="success">
Our API <b>always</b> returns values in satoshis, or the lowest non-divisible unit in non-Bitcoin blockchains. As a friendly reminder, there are 10^8 satoshis in a single bitcoin (100,000,000s = 1BTC), 10^8 base units per litecoin, and 10^8 koinus per dogecoin (100,000,000k = 1DOGE).
</aside>

<h2 id="rate-limits-and-tokens">Rate Limits and Tokens</h2>

<p>We want everyone to try BlockCypher with as little friction as possible, which is why you don&rsquo;t need a token to get started. However, we do rate-limit non-registered users to maintain fidelity for registered users:</p>

<ul>
<li>Classic requests, up to 5 requests/sec and 600 requests/hr</li>
<li>WebHooks and WebSockets, up to 600 requests/hr</li>
</ul>

<aside class="warning">
If you exceed these limits as a non-registered user, your requests will return an HTTP Status Code 429!
</aside>

<p>Please <a href="http://acccounts.blockcypher.com/">register for a user token</a> if your usage exceeds those limits, or if you want to preventively avoid the rate limits. Our future pricing plan will be tiered based on usage and volume. We will have a free tier and an extended free plan for our early users. To request higher limits or SLAs, please <a href="mailto:contact@blockcypher.com">email us.</a></p>
<pre class="highlight shell"><code><span class="c"># Adding your token as URL parameter</span>
curl https://api.blockcypher.com/v1/btc/main?token<span class="o">=</span><span class="nv">$YOURTOKEN</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Adding your token as URL parameter</span>
<span class="kr">const</span> <span class="nx">TOKEN</span> <span class="o">=</span> <span class="s1">'YOUR_TOKEN'</span><span class="p">;</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'https://api.blockcypher.com/v1/btc/main?token='</span><span class="o">+</span><span class="nx">TOKEN</span><span class="p">);</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Adding your token as URL parameter</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s">'token'</span><span class="p">:</span> <span class="s">'YOUR_TOKEN'</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.blockcypher.com/v1/btc/main'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\Chain</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="c1"># Adding your token as client credential to API context
</span><span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1"># Use $apiContext as function param or set as default ApiContext 
</span></code></pre>

<p>Once you have your token, you can append it to all your requests like any other URL parameter if you&rsquo;re using cURL, or through the appropriate method in the language SDK you&rsquo;re using.</p>

<h2 id="batching">Batching</h2>
<pre class="highlight shell"><code><span class="c"># Batching blocks 5, 6, and 7</span>
curl https://api.blockcypher.com/v1/btc/main/blocks/5;6;7

<span class="o">[{</span>
<span class="s2">"hash"</span>: <span class="s2">"000000003031a0e73735690c5a1ff2a4be82553b2a12b776fbd3a215dc8f778d"</span>,
<span class="s2">"height"</span>: 6,
<span class="s2">"chain"</span>: <span class="s2">"BTC.main"</span>,
<span class="s2">"total"</span>: 0,
<span class="s2">"fees"</span>: 0,
<span class="s2">"ver"</span>: 1,
<span class="s2">"time"</span>: <span class="s2">"2009-01-09T03:29:49Z"</span>,
...,
<span class="o">}</span>,
<span class="o">{</span>
<span class="s2">"hash"</span>: <span class="s2">"000000009b7262315dbf071787ad3656097b892abffd1f95a1a022f896f533fc"</span>,
<span class="s2">"height"</span>: 5,
<span class="s2">"chain"</span>: <span class="s2">"BTC.main"</span>,
<span class="s2">"total"</span>: 0,
<span class="s2">"fees"</span>: 0,
<span class="s2">"ver"</span>: 1,
<span class="s2">"time"</span>: <span class="s2">"2009-01-09T03:23:48Z"</span>,
...,
<span class="o">}</span>,
<span class="o">{</span>
<span class="s2">"hash"</span>: <span class="s2">"0000000071966c2b1d065fd446b1e485b2c9d9594acd2007ccbd5441cfc89444"</span>,
<span class="s2">"height"</span>: 7,
<span class="s2">"chain"</span>: <span class="s2">"BTC.main"</span>,
<span class="s2">"total"</span>: 0,
<span class="s2">"fees"</span>: 0,
<span class="s2">"ver"</span>: 1,
<span class="s2">"time"</span>: <span class="s2">"2009-01-09T03:39:29Z"</span>,
...,
<span class="o">}]</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Batching blocks 5, 6, and 7</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'https://api.blockcypher.com/v1/btc/main/blocks/5;6;7'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">);});</span>
<span class="o">&gt;</span> <span class="p">[{</span>
<span class="o">&gt;</span> <span class="s2">"hash"</span><span class="p">:</span> <span class="s2">"000000003031a0e73735690c5a1ff2a4be82553b2a12b776fbd3a215dc8f778d"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"height"</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"chain"</span><span class="p">:</span> <span class="s2">"BTC.main"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"total"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"fees"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"ver"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"time"</span><span class="p">:</span> <span class="s2">"2009-01-09T03:29:49Z"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="p">...,</span>
<span class="o">&gt;</span> <span class="p">},</span>
<span class="o">&gt;</span> <span class="p">{</span>
<span class="o">&gt;</span> <span class="s2">"hash"</span><span class="p">:</span> <span class="s2">"000000009b7262315dbf071787ad3656097b892abffd1f95a1a022f896f533fc"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"height"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"chain"</span><span class="p">:</span> <span class="s2">"BTC.main"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"total"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"fees"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"ver"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"time"</span><span class="p">:</span> <span class="s2">"2009-01-09T03:23:48Z"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="p">...,</span>
<span class="o">&gt;</span> <span class="p">},</span>
<span class="o">&gt;</span> <span class="p">{</span>
<span class="o">&gt;</span> <span class="s2">"hash"</span><span class="p">:</span> <span class="s2">"0000000071966c2b1d065fd446b1e485b2c9d9594acd2007ccbd5441cfc89444"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"height"</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"chain"</span><span class="p">:</span> <span class="s2">"BTC.main"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"total"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"fees"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"ver"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"time"</span><span class="p">:</span> <span class="s2">"2009-01-09T03:39:29Z"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="p">...,</span>
<span class="o">&gt;</span> <span class="p">}]</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Batching blocks 5, 6, and 7</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.blockcypher.com/v1/btc/main/blocks/5;6;7'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">[{</span><span class="s">'bits'</span><span class="p">:</span> <span class="mi">486604799</span><span class="p">,</span>
  <span class="s">'n_tx'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">'txids'</span><span class="p">:</span> <span class="p">[</span><span class="s">'8aa673bc752f2851fd645d6a0a92917e967083007d9c1684f9423b100540673f'</span><span class="p">],</span>
  <span class="s">'fees'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s">'total'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s">'mrkl_root'</span><span class="p">:</span> <span class="s">'8aa673bc752f2851fd645d6a0a92917e967083007d9c1684f9423b100540673f'</span><span class="p">,</span>
  <span class="s">'time'</span><span class="p">:</span> <span class="s">'2009-01-09T03:39:29Z'</span><span class="p">,</span>
  <span class="s">'prev_block_url'</span><span class="p">:</span> <span class="s">'https://api.blockcypher.com/v1/btc/main/blocks/000000003031a0e73735690c5a1ff2a4be82553b2a12b776fbd3a215dc8f778d'</span><span class="p">,</span>
  <span class="s">'depth'</span><span class="p">:</span> <span class="mi">360035</span><span class="p">,</span>
  <span class="s">'hash'</span><span class="p">:</span> <span class="s">'0000000071966c2b1d065fd446b1e485b2c9d9594acd2007ccbd5441cfc89444'</span><span class="p">,</span>
  <span class="s">'height'</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="s">'tx_url'</span><span class="p">:</span> <span class="s">'https://api.blockcypher.com/v1/btc/main/txs/'</span><span class="p">,</span>
  <span class="s">'prev_block'</span><span class="p">:</span> <span class="s">'000000003031a0e73735690c5a1ff2a4be82553b2a12b776fbd3a215dc8f778d'</span><span class="p">,</span>
  <span class="s">'ver'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">'chain'</span><span class="p">:</span> <span class="s">'BTC.main'</span><span class="p">,</span>
  <span class="s">'nonce'</span><span class="p">:</span> <span class="mi">2258412857</span><span class="p">,</span>
  <span class="s">'received_time'</span><span class="p">:</span> <span class="s">'2009-01-09T03:39:29Z'</span><span class="p">},</span>
 <span class="p">{</span><span class="s">'bits'</span><span class="p">:</span> <span class="mi">486604799</span><span class="p">,</span>
  <span class="s">'n_tx'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">'txids'</span><span class="p">:</span> <span class="p">[</span><span class="s">'20251a76e64e920e58291a30d4b212939aae976baca40e70818ceaa596fb9d37'</span><span class="p">],</span>
  <span class="s">'fees'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s">'total'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s">'mrkl_root'</span><span class="p">:</span> <span class="s">'20251a76e64e920e58291a30d4b212939aae976baca40e70818ceaa596fb9d37'</span><span class="p">,</span>
  <span class="s">'time'</span><span class="p">:</span> <span class="s">'2009-01-09T03:29:49Z'</span><span class="p">,</span>
  <span class="s">'prev_block_url'</span><span class="p">:</span> <span class="s">'https://api.blockcypher.com/v1/btc/main/blocks/000000009b7262315dbf071787ad3656097b892abffd1f95a1a022f896f533fc'</span><span class="p">,</span>
  <span class="s">'depth'</span><span class="p">:</span> <span class="mi">360036</span><span class="p">,</span>
  <span class="s">'hash'</span><span class="p">:</span> <span class="s">'000000003031a0e73735690c5a1ff2a4be82553b2a12b776fbd3a215dc8f778d'</span><span class="p">,</span>
  <span class="s">'height'</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
  <span class="s">'tx_url'</span><span class="p">:</span> <span class="s">'https://api.blockcypher.com/v1/btc/main/txs/'</span><span class="p">,</span>
  <span class="s">'prev_block'</span><span class="p">:</span> <span class="s">'000000009b7262315dbf071787ad3656097b892abffd1f95a1a022f896f533fc'</span><span class="p">,</span>
  <span class="s">'ver'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">'chain'</span><span class="p">:</span> <span class="s">'BTC.main'</span><span class="p">,</span>
  <span class="s">'nonce'</span><span class="p">:</span> <span class="mi">2538380312</span><span class="p">,</span>
  <span class="s">'received_time'</span><span class="p">:</span> <span class="s">'2009-01-09T03:29:49Z'</span><span class="p">},</span>
 <span class="p">{</span><span class="s">'bits'</span><span class="p">:</span> <span class="mi">486604799</span><span class="p">,</span>
  <span class="s">'n_tx'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">'txids'</span><span class="p">:</span> <span class="p">[</span><span class="s">'63522845d294ee9b0188ae5cac91bf389a0c3723f084ca1025e7d9cdfe481ce1'</span><span class="p">],</span>
  <span class="s">'fees'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s">'total'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s">'mrkl_root'</span><span class="p">:</span> <span class="s">'63522845d294ee9b0188ae5cac91bf389a0c3723f084ca1025e7d9cdfe481ce1'</span><span class="p">,</span>
  <span class="s">'time'</span><span class="p">:</span> <span class="s">'2009-01-09T03:23:48Z'</span><span class="p">,</span>
  <span class="s">'prev_block_url'</span><span class="p">:</span> <span class="s">'https://api.blockcypher.com/v1/btc/main/blocks/000000004ebadb55ee9096c9a2f8880e09da59c0d68b1c228da88e48844a1485'</span><span class="p">,</span>
  <span class="s">'depth'</span><span class="p">:</span> <span class="mi">360037</span><span class="p">,</span>
  <span class="s">'hash'</span><span class="p">:</span> <span class="s">'000000009b7262315dbf071787ad3656097b892abffd1f95a1a022f896f533fc'</span><span class="p">,</span>
  <span class="s">'height'</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="s">'tx_url'</span><span class="p">:</span> <span class="s">'https://api.blockcypher.com/v1/btc/main/txs/'</span><span class="p">,</span>
  <span class="s">'prev_block'</span><span class="p">:</span> <span class="s">'000000004ebadb55ee9096c9a2f8880e09da59c0d68b1c228da88e48844a1485'</span><span class="p">,</span>
  <span class="s">'ver'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">'chain'</span><span class="p">:</span> <span class="s">'BTC.main'</span><span class="p">,</span>
  <span class="s">'nonce'</span><span class="p">:</span> <span class="mi">2011431709</span><span class="p">,</span>
  <span class="s">'received_time'</span><span class="p">:</span> <span class="s">'2009-01-09T03:23:48Z'</span><span class="p">}]</span>

<span class="c"># Note, when constructing the URL programatically you can use more pythonic syntax:</span>
<span class="n">base_url</span> <span class="o">=</span> <span class="s">'https://api.blockcypher.com/v1/btc/main/blocks/'</span>
<span class="n">full_url</span> <span class="o">=</span> <span class="n">base_url</span> <span class="o">+</span> <span class="s">';'</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">])</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\introduction\Batching.php
// Batching blocks 5, 6, and 7
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$blocks</span> <span class="o">=</span> <span class="nx">\BlockCypher\Api\Block</span><span class="o">::</span><span class="na">getMultiple</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">'5'</span><span class="p">,</span> <span class="s1">'6'</span><span class="p">,</span> <span class="s1">'7'</span><span class="p">),</span> <span class="k">array</span><span class="p">(),</span> <span class="nv">$apiContexts</span><span class="p">[</span><span class="s1">'BTC.main'</span><span class="p">]);</span>

<span class="p">[{</span>
<span class="s2">"hash"</span><span class="o">:</span> <span class="s2">"000000003031a0e73735690c5a1ff2a4be82553b2a12b776fbd3a215dc8f778d"</span><span class="p">,</span>
<span class="s2">"height"</span><span class="o">:</span> <span class="mi">6</span><span class="p">,</span>
<span class="s2">"chain"</span><span class="o">:</span> <span class="s2">"BTC.main"</span><span class="p">,</span>
<span class="s2">"total"</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="s2">"fees"</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="s2">"ver"</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="s2">"time"</span><span class="o">:</span> <span class="s2">"2009-01-09T03:29:49Z"</span><span class="p">,</span>
<span class="o">...</span><span class="p">,</span>
<span class="p">},</span>
<span class="p">{</span>
<span class="s2">"hash"</span><span class="o">:</span> <span class="s2">"000000009b7262315dbf071787ad3656097b892abffd1f95a1a022f896f533fc"</span><span class="p">,</span>
<span class="s2">"height"</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="s2">"chain"</span><span class="o">:</span> <span class="s2">"BTC.main"</span><span class="p">,</span>
<span class="s2">"total"</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="s2">"fees"</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="s2">"ver"</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="s2">"time"</span><span class="o">:</span> <span class="s2">"2009-01-09T03:23:48Z"</span><span class="p">,</span>
<span class="o">...</span><span class="p">,</span>
<span class="p">},</span>
<span class="p">{</span>
<span class="s2">"hash"</span><span class="o">:</span> <span class="s2">"0000000071966c2b1d065fd446b1e485b2c9d9594acd2007ccbd5441cfc89444"</span><span class="p">,</span>
<span class="s2">"height"</span><span class="o">:</span> <span class="mi">7</span><span class="p">,</span>
<span class="s2">"chain"</span><span class="o">:</span> <span class="s2">"BTC.main"</span><span class="p">,</span>
<span class="s2">"total"</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="s2">"fees"</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="s2">"ver"</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="s2">"time"</span><span class="o">:</span> <span class="s2">"2009-01-09T03:39:29Z"</span><span class="p">,</span>
<span class="o">...</span><span class="p">,</span>
<span class="p">}]</span>

<span class="c1"># Note, when constructing the block array (first param) programatically you can use alternative syntax like:
</span><span class="nv">$blockList</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'5'</span><span class="p">,</span> <span class="s1">'6'</span><span class="p">,</span> <span class="s1">'7'</span><span class="p">);</span>
<span class="nv">$blockList</span> <span class="o">=</span> <span class="nb">explode</span><span class="p">(</span><span class="s2">";"</span><span class="p">,</span> <span class="s2">"5;6;7"</span><span class="p">);</span>
<span class="nv">$blockList</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">];</span> <span class="c1">// PHP 5.4
</span></code></pre>

<p>All endpoints that can retrieve a single <a href="#objects">Object</a> can be batched to return multiple objects. If you&rsquo;re cURLing the API directly, batching simply requires appending each identifier to the previous one using a semicolon (check the code pane for an example). The results are aggregated in a JSON array and may not be ordered, especially for bigger batches. But this shouldn&rsquo;t matter, as the requested identifiers are always present in the returned objects. The other supported client SDKs batch differently, but each idiomatic to their respective language (check the code pane examples in each library).</p>

<aside class="notice">
The maximum number of elements that can be batched in a single call is 100.
</aside>

<p>When cURLing BlockCypher, batching also works when the identifiers aren&rsquo;t the last part of the URL; e.g., this URL will return the balances of three separate addresses:</p>

<p><code class="prettyprint">http://api.blockcypher.com/v1/btc/main/addrs/1J38WorKngZLJvA7qMin9g5jqUfTQUBZNE;1JP8FqoXtCMrR1sZc2McLWmHxENox1Y1PV;1ENn7XmqXNnReiQEFHhBGzfiv5gAyBj7r1/balance</code></p>

<aside class="warning">
Since the default, non-registered <a href="#rate-limits-and-tokens">rate limit</a> per second is 5, larger batches require an API token. To use larger batches <a href="https://accounts.blockcypher.com/">please register.</a>
</aside>

<h2 id="testing">Testing</h2>

<p>We offer two different options for testing your blockchain application: Bitcoin Testnet3, and BlockCypher&rsquo;s Test Chain. We offer automated faucets for both Testnet3 and BlockCypher&rsquo;s Test Chain, but we recommend using BlockCypher&rsquo;s Test Chain for a variety of reasons:</p>

<ul>
<li>It&rsquo;s nearly identical in characteristics to Bitcoin Main, with a few differences listed below.</li>
<li>The chain is private (no data is broadcasted, only BlockCypher mines the transactions), making it much more predictable than the Bitcoin&rsquo;s testnet (which is frequently under attack).</li>
<li>New blocks get built every minute, confirming the transactions that have been created using our transaction API.</li>
<li>The prefix for standard addreses is &lsquo;B&rsquo; or &#39;C&rsquo; (0x1B). The prefix for multisig addresses is &rsquo;D&rsquo; (0x1F).</li>
</ul>

<p>In case you missed the <a href="#restful-resources">Resources section</a>, the BlockCypher Test Chain is accessible from this resource:</p>

<p><code class="prettyprint">https://api.blockcypher.com/v1/bcy/test</code></p>

<h3 id="test-faucets">Test Faucets</h3>

<p>To help facilitate automated testing in your applications, a faucet endpoint is available on both BlockCypher&rsquo;s Test Chain and Bitcoin Testnet3. Calling the faucet endpoint, along with passing a valid address, will automatically create&mdash;and propagate&mdash;a new transaction funding the address with the amount you provide.</p>

<p>The faucets can be used from your browser if you want to play with them before automating:</p>

<ul>
<li><a href="https://accounts.blockcypher.com/testnet-faucet">Bitcoin Testnet Faucet</a></li>
<li><a href="https://accounts.blockcypher.com/blockcypher-faucet">BlockCypher Test Chain Faucet</a></li>
</ul>
<pre class="highlight shell"><code><span class="c"># Make new address; returns private key/public key/address</span>
curl -X POST http://api.blockcypher.com/v1/bcy/test/addrs?token<span class="o">=</span><span class="nv">$YOURTOKEN</span>

<span class="o">{</span>
<span class="s2">"private"</span>: <span class="s2">"26415016a2fb49f51aef161cb35bd537be07b75a6ac1e297d3b7a370cc85433b"</span>,
<span class="s2">"public"</span>: <span class="s2">"02c572d062fefcc8c3e1bf5016450addcedb89cd7e4507d8a323f327b4ad1018e0"</span>,
<span class="s2">"address"</span>: <span class="s2">"CFqoZmZ3ePwK5wnkhxJjJAQKJ82C7RJdmd"</span>
<span class="o">}</span>

<span class="c"># Fund prior address with faucet</span>
curl -d <span class="s1">'{"address": "CFqoZmZ3ePwK5wnkhxJjJAQKJ82C7RJdmd", "amount": 100000}'</span> http://api.blockcypher.com/v1/bcy/test/faucet?token<span class="o">=</span><span class="nv">$YOURTOKEN</span>
<span class="o">{</span>
<span class="s2">"tx_ref"</span>: <span class="s2">"02dbf5585d438a1cba82a9041dd815635a6b0df684225cb5271e11397a759479"</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Make new address; returns private key/public key/address</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'http://api.blockcypher.com/v1/bcy/test/addrs?token=$YOUR_TOKEN'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span>
<span class="o">&gt;</span> <span class="p">{</span>
<span class="o">&gt;</span> <span class="s2">"private"</span><span class="p">:</span> <span class="s2">"26415016a2fb49f51aef161cb35bd537be07b75a6ac1e297d3b7a370cc85433b"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"public"</span><span class="p">:</span> <span class="s2">"02c572d062fefcc8c3e1bf5016450addcedb89cd7e4507d8a323f327b4ad1018e0"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"address"</span><span class="p">:</span> <span class="s2">"CFqoZmZ3ePwK5wnkhxJjJAQKJ82C7RJdmd"</span>
<span class="o">&gt;</span> <span class="p">}</span>

<span class="c1">// Fund prior address with faucet</span>
<span class="kd">var</span> <span class="nx">req</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span><span class="s2">"address"</span><span class="p">:</span> <span class="s2">"CFqoZmZ3ePwK5wnkhxJjJAQKJ82C7RJdmd"</span><span class="p">,</span> <span class="s2">"amount"</span><span class="p">:</span> <span class="mi">100000</span><span class="p">})</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'http://api.blockcypher.com/v1/bcy/test/faucet?token=$YOUR_TOKEN'</span><span class="p">,</span> <span class="nx">req</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span>
<span class="o">&gt;</span> <span class="p">{</span>
<span class="o">&gt;</span>   <span class="s2">"tx_ref"</span><span class="p">:</span> <span class="s2">"02dbf5585d438a1cba82a9041dd815635a6b0df684225cb5271e11397a759479"</span>
<span class="o">&gt;</span> <span class="p">}</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Fund existing address with faucet</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">json</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">'address'</span><span class="p">:</span> <span class="s">'CFqoZmZ3ePwK5wnkhxJjJAQKJ82C7RJdmd'</span><span class="p">,</span> <span class="s">'amount'</span><span class="p">:</span> <span class="mi">100000</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s">'token'</span><span class="p">:</span> <span class="s">'YOUR_TOKEN'</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'http://api.blockcypher.com/v1/bcy/test/faucet'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s">'tx_ref'</span><span class="p">:</span> <span class="s">'b2ecfb5e40f3923b07819f1a386a538e86cc6ce59ae7a59533df487f622d1cbb'</span><span class="p">}</span>

</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Make new address; returns private key/public key/address
// Run on console:
// php -f .\sample\introduction\GenerateBcyAddress.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\AddressKeyChain</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'test'</span><span class="p">,</span> <span class="s1">'bcy'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$addressKeyChain</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AddressKeyChain</span><span class="p">();</span>

<span class="c1">// For Sample Purposes Only.
</span><span class="nv">$request</span> <span class="o">=</span> <span class="k">clone</span> <span class="nv">$addressKeyChain</span><span class="p">;</span>

<span class="nv">$addressKeyChain</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">{</span>
  <span class="s2">"private"</span><span class="o">:</span><span class="s2">"40e0d6e6210307b9b9d0113bceb9b8c5be6b9e010a03e07f25f75f462ed00a90"</span><span class="p">,</span>
  <span class="s2">"public"</span><span class="o">:</span><span class="s2">"03bd50fc57b1cdf3badbdf0662a4bb54b4d7a0b96eb27cc216b01503b8bf29b29e"</span><span class="p">,</span>
  <span class="s2">"address"</span><span class="o">:</span><span class="s2">"Bxi1GmU6xgqgyBEzugcqFZRLyJd1cpEv2S"</span><span class="p">,</span>
  <span class="s2">"wif"</span><span class="o">:</span><span class="s2">"BqW9QJ24VFcEvDp8UvYvLTnDxn1SjpxsvTeysPAjBW6BX9NggYfr"</span>
<span class="p">}</span>

<span class="o">&lt;?</span><span class="nx">php</span>

<span class="c1">// Fund prior address with faucet
// Run on console:
// php -f .\sample\introduction\FundBcyAddressWithFaucetShortVersion.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\Faucet</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'test'</span><span class="p">,</span> <span class="s1">'bcy'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$faucetResponse</span> <span class="o">=</span> <span class="nx">Faucet</span><span class="o">::</span><span class="na">fundAddress</span><span class="p">(</span><span class="s1">'Bxi1GmU6xgqgyBEzugcqFZRLyJd1cpEv2S'</span><span class="p">,</span> <span class="mi">100000</span><span class="p">,</span> <span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">{</span>
  <span class="s2">"tx_ref"</span><span class="o">:</span><span class="s2">"0fa68cf5c39dbd918a5ca49fc092be36b8bcece83cbfed919ad6c77b5f24cceb"</span>
<span class="p">}</span>
</code></pre>

<p>This example shows how to leverage the faucet to programmatically fund addresses, to test your applications. While the example used BlockCypher&rsquo;s Test Chain, the same example could have used Bitcoin Testnet3 and worked the exact same way.</p>

<aside class="notice">
You need <a href="https://accounts.blockcypher.com/">a token</a> to use test faucets.
</aside>

<aside class="warning">
On the BlockCypher Test Chain, the faucet will refuse to fund an address with more than 50 billion BlockCypher satoshis and will not fund more than 10 million BlockCypher satoshis at a time. On Bitcoin Testnet3 those numbers are adjusted to 10 million and 500,000 testnet satoshis respectively.
</aside>

          <h1 id="objects">Objects</h1>
<pre class="highlight shell"><code><span class="c"># All cURL'd Objects are JSON:</span>

<span class="o">{</span>
    key: value,
    key: value,
<span class="o">}</span>
</code></pre>
<pre class="highlight python"><code></code></pre>
<pre class="highlight php"><code>// All PHP client Objects are listed in:
// https://github.com/blockcypher/php-client/tree/master/lib/BlockCypher/Api
</code></pre>

<p>Before diving into BlockCypher&rsquo;s endpoints, this section details all the Objects exposed and expected by the API. Some of you might be more interested in the endpoints themselves, in which case, feel free to <a href="#blockchain-api">skip to the next section.</a> But for others, a section dedicated to all of BlockCypher&rsquo;s Objects might prove a useful overview, especially if you&rsquo;re new to Blockchain development in general. And in either case, this section provides a comprehensive reference for Objects in the API. For each Object there&rsquo;s a description and a link to a germane API endpoint.</p>

<aside class="notice">
Objects sometimes contain <b>attributes</b> that are <b><i>optional.</i></b> These are always noted in the <b>description</b>. In these cases, the Object may not be guaranteed to include that <b>attribute</b> in its response.
</aside>

<h2 id="blockchain">Blockchain</h2>
<pre class="highlight shell"><code>curl https://api.blockcypher.com/v1/btc/main

<span class="o">{</span>
  <span class="s2">"name"</span>: <span class="s2">"BTC.main"</span>,
  <span class="s2">"height"</span>: 360060,
  <span class="s2">"hash"</span>: <span class="s2">"000000000000000000bf56ff4a81e399374a68344a64d6681039412de78366b8"</span>,
  <span class="s2">"time"</span>: <span class="s2">"2015-06-08T22:57:08.260165627Z"</span>,
  <span class="s2">"latest_url"</span>: <span class="s2">"https://api.blockcypher.com/v1/btc/main/blocks/000000000000000000bf56ff4a81e399374a68344a64d6681039412de78366b8"</span>,
  <span class="s2">"previous_hash"</span>: <span class="s2">"000000000000000011c9511ae1265d34d3c16fff6e8f94380425833b3d0ae5d8"</span>,
  <span class="s2">"previous_url"</span>: <span class="s2">"https://api.blockcypher.com/v1/btc/main/blocks/000000000000000011c9511ae1265d34d3c16fff6e8f94380425833b3d0ae5d8"</span>,
  <span class="s2">"peer_count"</span>: 239,
  <span class="s2">"unconfirmed_count"</span>: 617,
  <span class="s2">"high_fee_per_kb"</span>: 46086,
  <span class="s2">"medium_fee_per_kb"</span>: 29422,
  <span class="s2">"low_fee_per_kb"</span>: 12045,
  <span class="s2">"last_fork_height"</span>: 359865,
  <span class="s2">"last_fork_hash"</span>: <span class="s2">"00000000000000000aa6462fd9faf94712ce1b5a944dc666f491101c996beab9"</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code></code></pre>
<pre class="highlight python"><code></code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\chain-api\ChainEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\Chain</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$chain</span> <span class="o">=</span> <span class="nx">Chain</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">'BTC.main'</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">{</span>
  <span class="s2">"name"</span><span class="o">:</span><span class="s2">"BTC.main"</span><span class="p">,</span>
  <span class="s2">"height"</span><span class="o">:</span><span class="mi">361290</span><span class="p">,</span>
  <span class="s2">"hash"</span><span class="o">:</span><span class="s2">"0000000000000000152195979e99e62bcd9366e7d32653a343501aae119bfaf8"</span><span class="p">,</span>
  <span class="s2">"time"</span><span class="o">:</span><span class="s2">"2015-06-17T09:13:23.000955233Z"</span><span class="p">,</span>
  <span class="s2">"latest_url"</span><span class="o">:</span><span class="s2">"https://api.blockcypher.com/v1/btc/main/blocks/0000000000000000152195979e99e62bcd9366e7d32653a343501aae119bfaf8"</span><span class="p">,</span>
  <span class="s2">"previous_hash"</span><span class="o">:</span><span class="s2">"00000000000000000c077eebd15261811bd9ea7c9784ae5482636b5e529ce932"</span><span class="p">,</span>
  <span class="s2">"previous_url"</span><span class="o">:</span><span class="s2">"https://api.blockcypher.com/v1/btc/main/blocks/00000000000000000c077eebd15261811bd9ea7c9784ae5482636b5e529ce932"</span><span class="p">,</span>
  <span class="s2">"peer_count"</span><span class="o">:</span><span class="mi">250</span><span class="p">,</span>
  <span class="s2">"unconfirmed_count"</span><span class="o">:</span><span class="mi">733</span><span class="p">,</span>
  <span class="s2">"high_fee_per_kb"</span><span class="o">:</span><span class="mi">45024</span><span class="p">,</span>
  <span class="s2">"medium_fee_per_kb"</span><span class="o">:</span><span class="mi">26134</span><span class="p">,</span>
  <span class="s2">"low_fee_per_kb"</span><span class="o">:</span><span class="mi">12490</span><span class="p">,</span>
  <span class="s2">"last_fork_height"</span><span class="o">:</span><span class="mi">360362</span><span class="p">,</span>
  <span class="s2">"last_fork_hash"</span><span class="o">:</span><span class="s2">"000000000000000002d5cf67bfaa92ba5b371c1590eb48d25031c669ef6233a0"</span>
<span class="p">}</span>
</code></pre>

<p>A Blockchain represents the current state of a particular blockchain from the <a href="#restful-resources">Coin/Chain resources</a> that BlockCypher supports. Typically returned from the <a href="#chain-endpoint">Chain API endpoint</a>.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>The name of the blockchain represented, in the form of $COIN.$CHAIN.</td>
</tr>
<tr>
<td><strong>height</strong></td>
<td><em>integer</em></td>
<td>The current height of the blockchain; i.e., the number of blocks in the blockchain.</td>
</tr>
<tr>
<td><strong>hash</strong></td>
<td><em>string</em></td>
<td>The hash of the latest confirmed block in the blockchain; in Bitcoin, the <a href="https://en.bitcoin.it/wiki/Block_hashing_algorithm">hashing function is SHA256(SHA256(block))</a>.</td>
</tr>
<tr>
<td><strong>time</strong></td>
<td><a href="https://tools.ietf.org/html/rfc3339"><em>time</em></a></td>
<td>The time of the latest update to the blockchain; typically when the latest block was added.</td>
</tr>
<tr>
<td><strong>latest_url</strong></td>
<td><em>url</em></td>
<td>The BlockCypher URL to query for more information on the latest confirmed block; returns a <a href="#block">Block</a>.</td>
</tr>
<tr>
<td><strong>previous_hash</strong></td>
<td><em>string</em></td>
<td>The hash of the second-to-latest confirmed block in the blockchain.</td>
</tr>
<tr>
<td><strong>previous_url</strong></td>
<td><em>url</em></td>
<td>The BlockCypher URL to query for more information on the second-to-latest confirmed block; returns a <a href="#block">Block</a>.</td>
</tr>
<tr>
<td><strong>peer_count</strong></td>
<td><em>integer</em></td>
<td><em>N/A, will be deprecated soon</em>.</td>
</tr>
<tr>
<td><strong>high_fee_per_kb</strong></td>
<td><em>integer</em></td>
<td>A rolling average of the fee (in satoshis) paid per kilobyte for transactions to be confirmed within 1 to 2 blocks.</td>
</tr>
<tr>
<td><strong>medium_fee_per_kb</strong></td>
<td><em>integer</em></td>
<td>A rolling average of the fee (in satoshis) paid per kilobyte for transactions to be confirmed within 3 to 6 blocks.</td>
</tr>
<tr>
<td><strong>low_fee_per_kb</strong></td>
<td><em>integer</em></td>
<td>A rolling average of the fee (in satoshis) paid per kilobyte for transactions to be confirmed in 7 or more blocks.</td>
</tr>
<tr>
<td><strong>unconfirmed_count</strong></td>
<td><em>integer</em></td>
<td>Number of unconfirmed transactions in memory pool (likely to be included in next block).</td>
</tr>
<tr>
<td><strong>last_fork_height</strong></td>
<td><em>integer</em></td>
<td><strong><em>Optional</em></strong> The current height of the latest fork to the blockchain; when no competing blockchain fork present, not returned with endpoints that return Blockchains.</td>
</tr>
<tr>
<td><strong>last_fork_hash</strong></td>
<td><em>string</em></td>
<td><strong><em>Optional</em></strong> The hash of the latest confirmed block in the latest fork of the blockchain; when no competing blockchain fork present, not returned with endpoints that return Blockchains.</td>
</tr>
</tbody></table>

<h2 id="block">Block</h2>
<pre class="highlight shell"><code>curl https://api.blockcypher.com/v1/btc/main/blocks/0000000000000000189bba3564a63772107b5673c940c16f12662b3e8546b412

<span class="o">{</span>
<span class="s2">"hash"</span>: <span class="s2">"0000000000000000189bba3564a63772107b567..."</span>,
<span class="s2">"height"</span>: 294322,
<span class="s2">"chain"</span>: <span class="s2">"BTC.main"</span>,
<span class="s2">"total"</span>: 1146652915,
<span class="s2">"fees"</span>: 130999,
<span class="s2">"ver"</span>: 2,
<span class="s2">"time"</span>: <span class="s2">"2014-04-05T07:49:18Z"</span>,
<span class="s2">"received_time"</span>: <span class="s2">"2014-04-05T07:49:18Z"</span>,
<span class="s2">"bits"</span>: 419486617,
<span class="s2">"nonce"</span>: 1225187768,
<span class="s2">"n_tx"</span>: 10,
<span class="s2">"prev_block"</span>: <span class="s2">"0000000000000000ced0958bd27720b71d3..."</span>,
<span class="s2">"mrkl_root"</span>: <span class="s2">"359d624d37aee1efa5662b7f5dbc390e996d..."</span>,
<span class="s2">"txids"</span>: <span class="o">[</span>
    <span class="s2">"32b3b86e40d996b1f281e24e8d4af2ceacbf874c403836..."</span>,
    <span class="s2">"1579f716359ba1a207f70248135f5e5fadf539be1dcf53..."</span>,
    ...,
<span class="o">]</span>,
<span class="s2">"depth"</span>: 61793,
<span class="s2">"prev_block_url"</span>: <span class="s2">"https://api.blockcypher.com/v1/btc/main/blocks/0000000000000000ced0958bd27720b71d32c5847e40660aaca39f33c298abb0"</span>,
<span class="s2">"tx_url"</span>: <span class="s2">"https://api.blockcypher.com/v1/btc/main/txs/"</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code></code></pre>
<pre class="highlight python"><code></code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\block-api\BlockHashEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\Block</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$block</span> <span class="o">=</span> <span class="nx">Block</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">'0000000000000000189bba3564a63772107b5673c940c16f12662b3e8546b412'</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">{</span>
  <span class="s2">"hash"</span><span class="o">:</span><span class="s2">"0000000000000000189bba3564a63772107b5673c940c16f12662b3e8546b412"</span><span class="p">,</span>
  <span class="s2">"height"</span><span class="o">:</span><span class="mi">294322</span><span class="p">,</span>
  <span class="s2">"chain"</span><span class="o">:</span><span class="s2">"BTC.main"</span><span class="p">,</span>
  <span class="s2">"total"</span><span class="o">:</span><span class="mi">1146652915</span><span class="p">,</span>
  <span class="s2">"fees"</span><span class="o">:</span><span class="mi">130999</span><span class="p">,</span>
  <span class="s2">"ver"</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span>
  <span class="s2">"time"</span><span class="o">:</span><span class="s2">"2014-04-05T07:49:18Z"</span><span class="p">,</span>
  <span class="s2">"received_time"</span><span class="o">:</span><span class="s2">"2014-04-05T07:49:18Z"</span><span class="p">,</span>
  <span class="s2">"bits"</span><span class="o">:</span><span class="mi">419486617</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="o">:</span><span class="mi">1225187768</span><span class="p">,</span>
  <span class="s2">"n_tx"</span><span class="o">:</span><span class="mi">10</span><span class="p">,</span>
  <span class="s2">"prev_block"</span><span class="o">:</span><span class="s2">"0000000000000000ced0958bd27720b71d32c5847e40660aaca39f33c298abb0"</span><span class="p">,</span>
  <span class="s2">"mrkl_root"</span><span class="o">:</span><span class="s2">"359d624d37aee1efa5662b7f5dbc390e996d561afc8148e8d716cf6ad765a952"</span><span class="p">,</span>
  <span class="s2">"txids"</span><span class="o">:</span><span class="p">[</span>
    <span class="s2">"32b3b86e40d996b1f281e24e8d4af2ceacbf874c4038369cc21baa807409b277"</span><span class="p">,</span>
    <span class="s2">"1579f716359ba1a207f70248135f5e5fadf539be1dcf5300613aedcb6577d287"</span><span class="p">,</span>
    <span class="o">...</span>
  <span class="p">],</span>
  <span class="s2">"depth"</span><span class="o">:</span><span class="mi">66968</span><span class="p">,</span>
  <span class="s2">"prev_block_url"</span><span class="o">:</span><span class="s2">"https://api.blockcypher.com/v1/btc/main/blocks/0000000000000000ced0958bd27720b71d32c5847e40660aaca39f33c298abb0"</span><span class="p">,</span>
  <span class="s2">"tx_url"</span><span class="o">:</span><span class="s2">"https://api.blockcypher.com/v1/btc/main/txs/"</span>
<span class="p">}</span>
</code></pre>

<p>A Block represents the current state of a particular block from a <a href="#blockchain">Blockchain</a>. Typically returned from the <a href="#block-hash-endpoint">Block Hash</a> and <a href="#block-height-endpoint">Block Height</a> endpoints.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>hash</strong></td>
<td><em>string</em></td>
<td>The hash of the block; in Bitcoin, the <a href="https://en.bitcoin.it/wiki/Block_hashing_algorithm">hashing function is SHA256(SHA256(block))</a></td>
</tr>
<tr>
<td><strong>height</strong></td>
<td><em>integer</em></td>
<td>The height of the block in the blockchain; i.e., there are <strong>height</strong> earlier blocks in its blockchain.</td>
</tr>
<tr>
<td><strong>depth</strong></td>
<td><em>integer</em></td>
<td>The depth of the block in the blockchain; i.e., there are <strong>depth</strong> later blocks in its blockchain.</td>
</tr>
<tr>
<td><strong>chain</strong></td>
<td><em>string</em></td>
<td>The name of the blockchain represented, in the form of $COIN.$CHAIN</td>
</tr>
<tr>
<td><strong>total</strong></td>
<td><em>integer</em></td>
<td>The total number of satoshis transacted in this block.</td>
</tr>
<tr>
<td><strong>fees</strong></td>
<td><em>integer</em></td>
<td>The total number of fees&mdash;in satoshis&mdash;collected by miners in this block.</td>
</tr>
<tr>
<td><strong>ver</strong></td>
<td><em>integer</em></td>
<td>Block version. In Bitcoin, per <a href="https://github.com/bitcoin/bips/blob/master/bip-0034.mediawiki">BIP34</a> the last version 1 block was at height 227835.</td>
</tr>
<tr>
<td><strong>time</strong></td>
<td><a href="https://tools.ietf.org/html/rfc3339"><em>time</em></a></td>
<td>Recorded time at which block was built. <em>Note: Miners rarely post accurate clock times.</em></td>
</tr>
<tr>
<td><strong>received_time</strong></td>
<td><a href="https://tools.ietf.org/html/rfc3339"><em>time</em></a></td>
<td>The time BlockCypher&rsquo;s servers receive the block. Our servers&rsquo; clock is continuously adjusted and accurate.</td>
</tr>
<tr>
<td><strong>bits</strong></td>
<td><em>integer</em></td>
<td>The block-encoded <a href="https://en.bitcoin.it/wiki/Difficulty">difficulty target</a>.</td>
</tr>
<tr>
<td><strong>nonce</strong></td>
<td><em>integer</em></td>
<td>The <a href="https://en.bitcoin.it/wiki/Nonce">number used by a miner</a> to generate this block.</td>
</tr>
<tr>
<td><strong>n_tx</strong></td>
<td><em>integer</em></td>
<td>Number of transactions in this block.</td>
</tr>
<tr>
<td><strong>prev_block</strong></td>
<td><em>string</em></td>
<td>The hash of the previous block in the blockchain.</td>
</tr>
<tr>
<td><strong>prev_block_url</strong></td>
<td><em>url</em></td>
<td>The BlockCypher URL to query for more information on the previous block.</td>
</tr>
<tr>
<td><strong>tx_url</strong></td>
<td><em>url</em></td>
<td>The base BlockCypher URL to receive transaction details. To get more details about specific transactions, you must concatenate this URL with the desired transaction hash(es).</td>
</tr>
<tr>
<td><strong>mrkl_root</strong></td>
<td><em>string</em></td>
<td>The <a href="https://bitcoin.stackexchange.com/questions/10479/what-is-the-merkle-root">Merkle root</a> of this block.</td>
</tr>
<tr>
<td><strong>txids</strong></td>
<td><em>array[string]</em></td>
<td>An array of transaction hashes in this block. By default, only 20 are included.</td>
</tr>
<tr>
<td><strong>next_txids</strong></td>
<td><em>url</em></td>
<td><strong><em>Optional</em></strong> If there are more transactions that couldn&rsquo;t fit in the <strong>txids</strong> array, this is the BlockCypher URL to query the next set of transactions (within a Block object).</td>
</tr>
</tbody></table>

<h2 id="tx">TX</h2>
<pre class="highlight shell"><code>curl https://api.blockcypher.com/v1/btc/main/txs/f854aebae95150b379cc1187d848d58225f3c4157fe992bcd166f58bd5063449

<span class="o">{</span>
<span class="s2">"block_hash"</span>: <span class="s2">"0000000000000000c504bdea36e531d80..."</span>,
<span class="s2">"block_height"</span>: 293000,
<span class="s2">"hash"</span>: <span class="s2">"f854aebae95150b379cc1187d848d58225f3c41..."</span>,
<span class="s2">"addresses"</span>: <span class="o">[</span>
    <span class="s2">"13XXaBufpMvqRqLkyDty1AXqueZHVe6iyy"</span>,
    <span class="s2">"19YtzZdcfs1V2ZCgyRWo8i2wLT8ND1Tu4L"</span>,
    <span class="s2">"1BNiazBzCxJacAKo2yL83Wq1VJ18AYzNHy"</span>,
    <span class="s2">"1GbMfYui17L5m6sAy3L3WXAtf1P32bxJXq"</span>,
    <span class="s2">"1N2f642sbgCMbNtXFajz9XDACDFnFzdXzV"</span>
<span class="o">]</span>,
<span class="s2">"total"</span>: 70320221545,
<span class="s2">"fees"</span>: 0,
<span class="s2">"size"</span>: 636,
<span class="s2">"preference"</span>: <span class="s2">"low"</span>,
<span class="s2">"relayed_by"</span>: <span class="s2">""</span>,
<span class="s2">"confirmed"</span>: <span class="s2">"2014-03-29T01:29:19Z"</span>,
<span class="s2">"received"</span>: <span class="s2">"2014-03-29T01:29:19Z"</span>,
<span class="s2">"ver"</span>: 1,
<span class="s2">"lock_time"</span>: 0,
<span class="s2">"double_spend"</span>: <span class="nb">false</span>,
<span class="s2">"vin_sz"</span>: 4,
<span class="s2">"vout_sz"</span>: 1,
<span class="s2">"confirmations"</span>: 63171,
<span class="s2">"confidence"</span>: 1,
<span class="s2">"inputs"</span>: <span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"prev_hash"</span>: <span class="s2">"583910b7bf90ab802e22e5c25a89..."</span>,
        <span class="s2">"output_index"</span>: 1,
        <span class="s2">"script"</span>: <span class="s2">"4830450220504b1ccfddf508422bdd8..."</span>,
        <span class="s2">"output_value"</span>: 16450000,
        <span class="s2">"sequence"</span>: 4294967295,
        <span class="s2">"addresses"</span>: <span class="o">[</span>
            <span class="s2">"1GbMfYui17L5m6sAy3L3WXAtf1P32bxJXq"</span>
        <span class="o">]</span>,
        <span class="s2">"script_type"</span>: <span class="s2">"pay-to-pubkey-hash"</span>
    <span class="o">}</span>,
    ...,
    ...,
<span class="o">]</span>,
<span class="s2">"outputs"</span>: <span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"value"</span>: 70320221545,
        <span class="s2">"script"</span>: <span class="s2">"76a914e6aad9d712c419ea8febf009a..."</span>,
        <span class="s2">"spent_by"</span>: <span class="s2">"35832d6c70b98b54e9a53ab2d5117..."</span>,
        <span class="s2">"addresses"</span>: <span class="o">[</span>
            <span class="s2">"1N2f642sbgCMbNtXFajz9XDACDFnFzdXzV"</span>
        <span class="o">]</span>,
        <span class="s2">"script_type"</span>: <span class="s2">"pay-to-pubkey-hash"</span>
    <span class="o">}</span>
<span class="o">]</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code></code></pre>
<pre class="highlight python"><code></code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\transaction-api\TransactionHashEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\Transaction</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$transaction</span> <span class="o">=</span> <span class="nx">Transaction</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">'f854aebae95150b379cc1187d848d58225f3c4157fe992bcd166f58bd5063449'</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">{</span>
<span class="s2">"block_hash"</span><span class="o">:</span> <span class="s2">"0000000000000000c504bdea36e531d80..."</span><span class="p">,</span>
<span class="s2">"block_height"</span><span class="o">:</span> <span class="mi">293000</span><span class="p">,</span>
<span class="s2">"hash"</span><span class="o">:</span> <span class="s2">"f854aebae95150b379cc1187d848d58225f3c41..."</span><span class="p">,</span>
<span class="s2">"addresses"</span><span class="o">:</span> <span class="p">[</span>
    <span class="s2">"13XXaBufpMvqRqLkyDty1AXqueZHVe6iyy"</span><span class="p">,</span>
    <span class="s2">"19YtzZdcfs1V2ZCgyRWo8i2wLT8ND1Tu4L"</span><span class="p">,</span>
    <span class="s2">"1BNiazBzCxJacAKo2yL83Wq1VJ18AYzNHy"</span><span class="p">,</span>
    <span class="s2">"1GbMfYui17L5m6sAy3L3WXAtf1P32bxJXq"</span><span class="p">,</span>
    <span class="s2">"1N2f642sbgCMbNtXFajz9XDACDFnFzdXzV"</span>
<span class="p">],</span>
<span class="s2">"total"</span><span class="o">:</span> <span class="mi">70320221545</span><span class="p">,</span>
<span class="s2">"fees"</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="s2">"size"</span><span class="o">:</span> <span class="mi">636</span><span class="p">,</span>
<span class="s2">"preference"</span><span class="o">:</span> <span class="s2">"low"</span><span class="p">,</span>
<span class="s2">"relayed_by"</span><span class="o">:</span> <span class="s2">""</span><span class="p">,</span>
<span class="s2">"confirmed"</span><span class="o">:</span> <span class="s2">"2014-03-29T01:29:19Z"</span><span class="p">,</span>
<span class="s2">"received"</span><span class="o">:</span> <span class="s2">"2014-03-29T01:29:19Z"</span><span class="p">,</span>
<span class="s2">"ver"</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="s2">"lock_time"</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="s2">"double_spend"</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
<span class="s2">"vin_sz"</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="s2">"vout_sz"</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="s2">"confirmations"</span><span class="o">:</span> <span class="mi">63171</span><span class="p">,</span>
<span class="s2">"confidence"</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="s2">"inputs"</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">"prev_hash"</span><span class="o">:</span> <span class="s2">"583910b7bf90ab802e22e5c25a89..."</span><span class="p">,</span>
        <span class="s2">"output_index"</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">"script"</span><span class="o">:</span> <span class="s2">"4830450220504b1ccfddf508422bdd8..."</span><span class="p">,</span>
        <span class="s2">"output_value"</span><span class="o">:</span> <span class="mi">16450000</span><span class="p">,</span>
        <span class="s2">"sequence"</span><span class="o">:</span> <span class="mi">4294967295</span><span class="p">,</span>
        <span class="s2">"addresses"</span><span class="o">:</span> <span class="p">[</span>
            <span class="s2">"1GbMfYui17L5m6sAy3L3WXAtf1P32bxJXq"</span>
        <span class="p">],</span>
        <span class="s2">"script_type"</span><span class="o">:</span> <span class="s2">"pay-to-pubkey-hash"</span>
    <span class="p">},</span>
    <span class="o">...</span><span class="p">,</span>
    <span class="o">...</span><span class="p">,</span>
<span class="p">],</span>
<span class="s2">"outputs"</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">"value"</span><span class="o">:</span> <span class="mi">70320221545</span><span class="p">,</span>
        <span class="s2">"script"</span><span class="o">:</span> <span class="s2">"76a914e6aad9d712c419ea8febf009a..."</span><span class="p">,</span>
        <span class="s2">"spent_by"</span><span class="o">:</span> <span class="s2">"35832d6c70b98b54e9a53ab2d5117..."</span><span class="p">,</span>
        <span class="s2">"addresses"</span><span class="o">:</span> <span class="p">[</span>
            <span class="s2">"1N2f642sbgCMbNtXFajz9XDACDFnFzdXzV"</span>
        <span class="p">],</span>
        <span class="s2">"script_type"</span><span class="o">:</span> <span class="s2">"pay-to-pubkey-hash"</span>
    <span class="p">}</span>
<span class="p">]</span>
<span class="p">}</span>
</code></pre>

<p>A TX represents the current state of a particular transaction from either a <a href="#block">Block</a> within a <a href="#blockchain">Blockchain</a>, or an unconfirmed transaction that has yet to be included in a <a href="#block">Block</a>. Typically returned from the <a href="#unconfirmed-transactions-endpoint">Unconfirmed Transactions</a> and <a href="#transaction-hash">Transaction Hash</a> endpoints.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>block_height</strong></td>
<td><em>integer</em></td>
<td>Height of the block that contains this transaction. If this is an unconfirmed transaction, it will equal -1.</td>
</tr>
<tr>
<td><strong>hash</strong></td>
<td><em>string</em></td>
<td>The hash of the transaction. While reasonably unique, using hashes as identifiers may be <a href="https://en.bitcoin.it/wiki/Transaction_Malleability">unsafe</a>.</td>
</tr>
<tr>
<td><strong>addresses</strong></td>
<td><em>array[string]</em></td>
<td>Array of bitcoin public addresses involved in the transaction.</td>
</tr>
<tr>
<td><strong>total</strong></td>
<td><em>integer</em></td>
<td>The total number of satoshis exchanged in this transaction.</td>
</tr>
<tr>
<td><strong>fees</strong></td>
<td><em>integer</em></td>
<td>The total number of fees&mdash;in satoshis&mdash;collected by miners in this transaction.</td>
</tr>
<tr>
<td><strong>size</strong></td>
<td><em>integer</em></td>
<td>The size of the transaction in bytes.</td>
</tr>
<tr>
<td><strong>preference</strong></td>
<td><em>string</em></td>
<td>The likelihood that this transaction will make it to the next block; reflects the preference level miners have to include this transaction. Can be high, medium or low.</td>
</tr>
<tr>
<td><strong>relayed_by</strong></td>
<td><em>string</em></td>
<td>Address of the peer that sent BlockCypher&rsquo;s servers this transaction.</td>
</tr>
<tr>
<td><strong>received</strong></td>
<td><a href="https://tools.ietf.org/html/rfc3339"><em>time</em></a></td>
<td>Time this transaction was received by BlockCypher&rsquo;s servers.</td>
</tr>
<tr>
<td><strong>ver</strong></td>
<td><em>integer</em></td>
<td>Version number, <a href="https://en.bitcoin.it/wiki/Transaction">typically 1 for Bitcoin transactions.</a></td>
</tr>
<tr>
<td><strong>lock_time</strong></td>
<td><em>integer</em></td>
<td>Time when transaction can be valid. Can be interpreted in two ways: if less than 500 million, refers to block height. If more, refers to Unix epoch time.</td>
</tr>
<tr>
<td><strong>double_spend</strong></td>
<td><em>bool</em></td>
<td>True if this is an attempted double spend; false otherwise.</td>
</tr>
<tr>
<td><strong>vin_sz</strong></td>
<td><em>integer</em></td>
<td>Total number of inputs in the transaction.</td>
</tr>
<tr>
<td><strong>vout_sz</strong></td>
<td><em>integer</em></td>
<td>Total number of outputs in the transaction.</td>
</tr>
<tr>
<td><strong>confirmations</strong></td>
<td><em>integer</em></td>
<td>Number of subsequent blocks, including the block the transaction is in. Unconfirmed transactions have 0 confirmations.</td>
</tr>
<tr>
<td><strong>confidence</strong></td>
<td><em>float</em></td>
<td>The percentage chance this transaction will be included in the next block, if unconfirmed. For more information, check the section on <a href="#confidence-factor">Confidence Factor.</a></td>
</tr>
<tr>
<td><strong>inputs</strong></td>
<td><em>array[<a href="#txinput">TXInput</a>]</em></td>
<td><a href="#txinput">TXInput</a> Array, limited to 20 by default.</td>
</tr>
<tr>
<td><strong>outputs</strong></td>
<td><em>array[<a href="#txoutput">TXOutput</a>]</em></td>
<td><a href="#txoutput">TXOutput</a> Array, limited to 20 by default.</td>
</tr>
<tr>
<td><strong>confirmed</strong></td>
<td><a href="https://tools.ietf.org/html/rfc3339"><em>time</em></a></td>
<td><strong><em>Optional</em></strong> Time at which transaction was included in a block; only present for confirmed transactions.</td>
</tr>
<tr>
<td><strong>receive_count</strong></td>
<td><em>integer</em></td>
<td><strong><em>Optional</em></strong> Number of peers that have sent this transaction to BlockCypher; only present for unconfirmed transactions.</td>
</tr>
<tr>
<td><strong>change_address</strong></td>
<td><em>string</em></td>
<td><strong><em>Optional</em></strong> Address BlockCypher will use to send back your change, if you <a href="#creating-transactions">constructed this transaction</a>. If not set, defaults to the address from which the coins were originally sent.</td>
</tr>
<tr>
<td><strong>block_hash</strong></td>
<td><em>string</em></td>
<td><strong><em>Optional</em></strong>  Hash of the block that contains this transaction; only present for confirmed transactions.</td>
</tr>
<tr>
<td><strong>double_of</strong></td>
<td><em>string</em></td>
<td><strong><em>Optional</em></strong> If this transaction is a double-spend (i.e. <strong>double_spend</strong> == true) then this is the hash of the transaction it&rsquo;s double-spending.</td>
</tr>
<tr>
<td><strong>hex</strong></td>
<td><em>string</em></td>
<td><strong><em>Optional</em></strong> Hex-encoded bytes of the transaction, as sent over the network.</td>
</tr>
</tbody></table>

<h2 id="txinput">TXInput</h2>
<pre class="highlight shell"><code><span class="o">{</span>
<span class="s2">"prev_hash"</span>: <span class="s2">"e5c9be87798b0fa8ad55a22b5d731d6f50d72bffaa6179f9999499e57388cc33"</span>,
<span class="s2">"output_index"</span>: 1,
<span class="s2">"script"</span>: <span class="s2">"004730440220689409a16c98fa1659cae4c20..."</span>,
<span class="s2">"output_value"</span>: 2450698356,
<span class="s2">"sequence"</span>: 4294967295,
<span class="s2">"addresses"</span>: <span class="o">[</span>
    <span class="s2">"34ch2jrhYXDFsLK1FZQ3SjqgFRnX8mGC5W"</span>
<span class="o">]</span>,
<span class="s2">"script_type"</span>: <span class="s2">"pay-to-script-hash"</span>,
<span class="s2">"age"</span>: 5
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code></code></pre>
<pre class="highlight python"><code></code></pre>
<pre class="highlight php"><code>{
"prev_hash": "e5c9be87798b0fa8ad55a22b5d731d6f50d72bffaa6179f9999499e57388cc33",
"output_index": 1,
"script": "004730440220689409a16c98fa1659cae4c20...",
"output_value": 2450698356,
"sequence": 4294967295,
"addresses": [
    "34ch2jrhYXDFsLK1FZQ3SjqgFRnX8mGC5W"
],
"script_type": "pay-to-script-hash",
"age": 5
}
</code></pre>

<p>A TXInput represents an input consumed within a transaction. Typically found within an array in a <a href="#tx">TX</a>. In most cases, TXInputs are from previous <a href="https://bitcoin.org/en/glossary/unspent-transaction-output">UTXOs</a>, with the most prominent exceptions being attempted double-spend and <a href="https://bitcoin.org/en/glossary/coinbase">coinbase</a> inputs.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>prev_hash</strong></td>
<td><em>string</em></td>
<td>The previous transaction hash where this input was an output. Not present for <a href="https://bitcoin.org/en/glossary/coinbase">coinbase</a> transactions.</td>
</tr>
<tr>
<td><strong>output_index</strong></td>
<td><em>integer</em></td>
<td>The index of the output being spent within the previous transaction. Not present for <a href="https://bitcoin.org/en/glossary/coinbase">coinbase</a> transactions.</td>
</tr>
<tr>
<td><strong>output_value</strong></td>
<td><em>integer</em></td>
<td>The value of the output being spent within the previous transaction. Not present for <a href="https://bitcoin.org/en/glossary/coinbase">coinbase</a> transactions.</td>
</tr>
<tr>
<td><strong>script_type</strong></td>
<td><em>string</em></td>
<td>The type of script that encumbers the output corresponding to this input.</td>
</tr>
<tr>
<td><strong>script</strong></td>
<td><em>string</em></td>
<td>Raw hexadecimal encoding of the script.</td>
</tr>
<tr>
<td><strong>addresses</strong></td>
<td><em>array[string]</em></td>
<td>An array of public addresses associated with the output of the previous transaction.</td>
</tr>
<tr>
<td><strong>sequence</strong></td>
<td><em>integer</em></td>
<td>Legacy 4-byte <a href="https://bitcoin.org/en/glossary/sequence-number">sequence number</a>, not usually relevant unless dealing with locktime encumbrances.</td>
</tr>
<tr>
<td><strong>age</strong></td>
<td><em>integer</em></td>
<td><strong><em>Optional</em></strong> Number of confirmations of the previous transaction for which this input was an output. Currently, only returned in unconfirmed transactions.</td>
</tr>
</tbody></table>

<h2 id="txoutput">TXOutput</h2>
<pre class="highlight shell"><code><span class="o">{</span>
<span class="s2">"value"</span>: 70320221545,
<span class="s2">"script"</span>: <span class="s2">"76a914e6aad9d712c419ea8febf009a3f3bfdd8d222fac88ac"</span>,
<span class="s2">"spent_by"</span>: <span class="s2">"35832d6c70b98b54e9a53ab2d51176eb19ad11bc4505d6bb1ea6c51a68cb92ee"</span>,
<span class="s2">"addresses"</span>: <span class="o">[</span>
    <span class="s2">"1N2f642sbgCMbNtXFajz9XDACDFnFzdXzV"</span>
<span class="o">]</span>,
<span class="s2">"script_type"</span>: <span class="s2">"pay-to-pubkey-hash"</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code></code></pre>
<pre class="highlight python"><code></code></pre>
<pre class="highlight php"><code>{
"value": 70320221545,
"script": "76a914e6aad9d712c419ea8febf009a3f3bfdd8d222fac88ac",
"spent_by": "35832d6c70b98b54e9a53ab2d51176eb19ad11bc4505d6bb1ea6c51a68cb92ee",
"addresses": [
    "1N2f642sbgCMbNtXFajz9XDACDFnFzdXzV"
],
"script_type": "pay-to-pubkey-hash"
}
</code></pre>

<p>A TXOutput represents an output created by a transaction. Typically found within an array in a <a href="#tx">TX</a>.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>value</strong></td>
<td><em>int</em></td>
<td>Value in this transaction output, in satoshis.</td>
</tr>
<tr>
<td><strong>script</strong></td>
<td><em>string</em></td>
<td>Raw hexadecimal encoding of the encumbrance script for this output.</td>
</tr>
<tr>
<td><strong>addresses</strong></td>
<td><em>array[string]</em></td>
<td>Addresses that correspond to this output; typically this will only have a single address, and you can think of this output as having &ldquo;sent&rdquo; <strong>value</strong> to the address contained herein.</td>
</tr>
<tr>
<td><strong>script_type</strong></td>
<td><em>string</em></td>
<td>The type of encumbrance script used for this output.</td>
</tr>
<tr>
<td><strong>spent_by</strong></td>
<td><em>string</em></td>
<td><strong><em>Optional</em></strong> The transaction hash that spent this output. Only returned for outputs that have been spent.</td>
</tr>
</tbody></table>

<h2 id="txconfidence">TXConfidence</h2>
<pre class="highlight shell"><code>curl https://api.blockcypher.com/v1/btc/main/txs/43fa951e1bea87c282f6725cf8bdc08bb48761396c3af8dd5a41a085ab62acc9/confidence

<span class="o">{</span>
<span class="s2">"age_millis"</span>: 12725,
<span class="s2">"receive_count"</span>: 666,
<span class="s2">"confidence"</span>: 0.9901509730004237,
<span class="s2">"txhash"</span>: <span class="s2">"43fa951e1bea87c282f6725cf8bdc08bb48761396c3af8dd5a41a085ab62acc9"</span>,
<span class="s2">"txurl"</span>: <span class="s2">"https://api.blockcypher.com/v1/btc/main/txs/43fa951e1bea87c282f6725cf8bdc08bb48761396c3af8dd5a41a085ab62acc9"</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code></code></pre>
<pre class="highlight python"><code></code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\confidence-factor\TransactionConfidenceEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\TransactionConfidence</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$txConfidence</span> <span class="o">=</span> <span class="nx">TransactionConfidence</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">'43fa951e1bea87c282f6725cf8bdc08bb48761396c3af8dd5a41a085ab62acc9'</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">{</span>
  <span class="s2">"age_millis"</span><span class="o">:</span><span class="mi">2188284017</span><span class="p">,</span>
  <span class="s2">"receive_count"</span><span class="o">:-</span><span class="mi">1</span><span class="p">,</span>
  <span class="s2">"confidence"</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span>
  <span class="s2">"txhash"</span><span class="o">:</span><span class="s2">"43fa951e1bea87c282f6725cf8bdc08bb48761396c3af8dd5a41a085ab62acc9"</span><span class="p">,</span>
  <span class="s2">"txurl"</span><span class="o">:</span><span class="s2">"https://api.blockcypher.com/v1/btc/main/txs/43fa951e1bea87c282f6725cf8bdc08bb48761396c3af8dd5a41a085ab62acc9"</span>
<span class="p">}</span>
</code></pre>

<p>A TXConfidence represents information about the confidence that an unconfirmed transaction will make it into the next block. Typically used as a return object from the <a href="#transaction-confidence-endpoint">Transaction Confidence Endpoint.</a></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>age_millis</strong></td>
<td><em>integer</em></td>
<td>The age of the transaction in milliseconds, based on the earliest time BlockCypher saw it relayed in the network.</td>
</tr>
<tr>
<td><strong>receive_count</strong></td>
<td><em>integer</em></td>
<td>Number of peers that have sent this transaction to BlockCypher; only positive for unconfirmed transactions. -1 for confirmed transactions.</td>
</tr>
<tr>
<td><strong>confidence</strong></td>
<td><em>float</em></td>
<td>A number from 0 to 1 representing BlockCypher&rsquo;s confidence that the transaction will make it into the next block.</td>
</tr>
<tr>
<td><strong>txhash</strong></td>
<td><em>string</em></td>
<td>The hash of the transaction. While reasonably unique, using hashes as identifiers may be <a href="https://en.bitcoin.it/wiki/Transaction_Malleability">unsafe</a>.</td>
</tr>
<tr>
<td><strong>txurl</strong></td>
<td><em>url</em></td>
<td>The BlockCypher URL one can use to query more detailed information about this transaction.</td>
</tr>
</tbody></table>

<h2 id="txref">TXRef</h2>
<pre class="highlight shell"><code><span class="o">{</span>
<span class="s2">"tx_hash"</span>: <span class="s2">"14b1052855bbf6561bc4db8aa501762e7cc1e86994dda9e782a6b73b1ce0dc1e"</span>,
<span class="s2">"block_height"</span>: 302013,
<span class="s2">"tx_input_n"</span>: -1,
<span class="s2">"tx_output_n"</span>: 0,
<span class="s2">"value"</span>: 20213,
<span class="s2">"spent"</span>: <span class="nb">false</span>,
<span class="s2">"confirmations"</span>: 54405,
<span class="s2">"confirmed"</span>: <span class="s2">"2014-05-22T03:46:25Z"</span>,
<span class="s2">"double_spend"</span>: <span class="nb">false</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code></code></pre>
<pre class="highlight python"><code></code></pre>
<pre class="highlight php"><code>{
  "tx_hash": "14b1052855bbf6561bc4db8aa501762e7cc1e86994dda9e782a6b73b1ce0dc1e",
  "block_height": 302013,
  "tx_input_n": -1,
  "tx_output_n": 0,
  "value": 20213,
  "spent": false,
  "confirmations": 54405,
  "confirmed": "2014-05-22T03:46:25Z",
  "double_spend": false
}
</code></pre>

<p>A TXRef object represents summarized data about a transaction input or output. Typically found in an array within an <a href="#address">Address</a> object, which is usually returned from the standard <a href="#address-endpoint">Address Endpoint</a>.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>block_height</strong></td>
<td><em>integer</em></td>
<td>Height of the block that contains this transaction. If this is an unconfirmed transaction, it will equal -1.</td>
</tr>
<tr>
<td><strong>tx_hash</strong></td>
<td><em>string</em></td>
<td>The hash of the transaction containing this input or output. While reasonably unique, using hashes as identifiers may be <a href="https://en.bitcoin.it/wiki/Transaction_Malleability">unsafe</a>.</td>
</tr>
<tr>
<td><strong>tx_input_n</strong></td>
<td><em>integer</em></td>
<td>Index of the input in the transaction. It&rsquo;s a negative number for an output.</td>
</tr>
<tr>
<td><strong>tx_output_n</strong></td>
<td><em>integer</em></td>
<td>Index of the output in the transaction. It&rsquo;s a negative number for an input.</td>
</tr>
<tr>
<td><strong>value</strong></td>
<td><em>integer</em></td>
<td>The value transfered by this input/output in satoshis exchanged in this transaction.</td>
</tr>
<tr>
<td><strong>preference</strong></td>
<td><em>string</em></td>
<td>The likelihood that this transaction will make it to the next block; reflects the preference level miners have to include this transaction. Can be high, medium or low.</td>
</tr>
<tr>
<td><strong>spent</strong></td>
<td><em>bool</em></td>
<td>True if this output was spent; false otherwise.</td>
</tr>
<tr>
<td><strong>double_spend</strong></td>
<td><em>bool</em></td>
<td>True if this is an attempted double spend; false otherwise.</td>
</tr>
<tr>
<td><strong>confirmations</strong></td>
<td><em>integer</em></td>
<td>Number of subsequent blocks, including the block the transaction is in. Unconfirmed transactions have 0 confirmations.</td>
</tr>
<tr>
<td><strong>confidence</strong></td>
<td><em>float</em></td>
<td><strong><em>Optional</em></strong> The percentage chance this transaction will be included in the next block, if unconfirmed. For more information, check the section on <a href="#confidence-factor">Confidence Factor.</a></td>
</tr>
<tr>
<td><strong>confirmed</strong></td>
<td><a href="https://tools.ietf.org/html/rfc3339"><em>time</em></a></td>
<td><strong><em>Optional</em></strong> Time at which transaction was included in a block; only present for confirmed transactions.</td>
</tr>
<tr>
<td><strong>spent_by</strong></td>
<td><em>string</em></td>
<td><strong><em>Optional</em></strong> The transaction hash that spent this output. Only returned for outputs that have been spent.</td>
</tr>
<tr>
<td><strong>received</strong></td>
<td><a href="https://tools.ietf.org/html/rfc3339"><em>time</em></a></td>
<td><strong><em>Optional</em></strong> Time this transaction was received by BlockCypher&rsquo;s servers; only present for unconfirmed transactions.</td>
</tr>
<tr>
<td><strong>receive_count</strong></td>
<td><em>integer</em></td>
<td><strong><em>Optional</em></strong> Number of peers that have sent this transaction to BlockCypher; only present for unconfirmed transactions.</td>
</tr>
<tr>
<td><strong>double_of</strong></td>
<td><em>string</em></td>
<td><strong><em>Optional</em></strong> If this transaction is a double-spend (i.e. <strong>double_spend</strong> == true) then this is the hash of the transaction it&rsquo;s double-spending.</td>
</tr>
</tbody></table>

<h2 id="txskeleton">TXSkeleton</h2>
<pre class="highlight shell"><code>curl -d <span class="s1">'{"inputs":[{"addresses": ["CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"]}],"outputs":[{"addresses": ["C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn"], "value": 1000000}]}'</span> https://api.blockcypher.com/v1/bcy/test/txs/new

<span class="o">{</span>
<span class="s2">"tx"</span>: <span class="o">{</span>
    <span class="s2">"block_height"</span>: -1,
    <span class="s2">"hash"</span>: <span class="s2">"f961dea839fd69653547a0308360..."</span>,
    <span class="s2">"addresses"</span>: <span class="o">[</span>
        <span class="s2">"1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD"</span>,
        <span class="s2">"1FGAsJFNgWvFz2tWQAnRq8S6fVX9Zmuxje"</span>,
        <span class="o">]</span>,
    <span class="s2">"total"</span>: 661116,
    <span class="s2">"fees"</span>: 10000,
    <span class="s2">"received"</span>: <span class="s2">"2014-04-20T23:52:21.069978821Z"</span>,
    ...
<span class="o">}</span>,
<span class="s2">"tosign"</span>: <span class="o">[</span>
    <span class="s2">"04779733bba8085dd86c21d86c..."</span>,
    <span class="s2">"0396ea6f1bf7493e738339bd72..."</span>
<span class="o">]</span>,
<span class="s2">"errors"</span>: <span class="o">[</span>
    <span class="o">{</span> <span class="s2">"error"</span>: <span class="s2">"..."</span> <span class="o">}</span>
<span class="o">]</span>,
<span class="s2">"signatures"</span>: <span class="o">[</span>
    <span class="s2">"a832bd21afc21..."</span>,
    <span class="s2">"0123ba82a273b..."</span>
<span class="o">]</span>,
<span class="s2">"pubkeys"</span>: <span class="o">[</span>
    <span class="s2">"02c8d29d..."</span>,
    <span class="s2">"02c9d27d..."</span>,
<span class="o">]</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code></code></pre>
<pre class="highlight python"><code></code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\transaction-api\NewTransactionEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\Transaction</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'test'</span><span class="p">,</span> <span class="s1">'bcy'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">// Create a new instance of Transaction object
</span><span class="nv">$tx</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Transaction</span><span class="p">();</span>

<span class="c1">// Tx inputs
</span><span class="nv">$input</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\BlockCypher\Api\Input</span><span class="p">();</span>
<span class="nv">$input</span><span class="o">-&gt;</span><span class="na">addAddress</span><span class="p">(</span><span class="s2">"C5vqMGme4FThKnCY44gx1PLgWr86uxRbDm"</span><span class="p">);</span>
<span class="nv">$tx</span><span class="o">-&gt;</span><span class="na">addInput</span><span class="p">(</span><span class="nv">$input</span><span class="p">);</span>
<span class="c1">// Tx outputs
</span><span class="nv">$output</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\BlockCypher\Api\Output</span><span class="p">();</span>
<span class="nv">$output</span><span class="o">-&gt;</span><span class="na">addAddress</span><span class="p">(</span><span class="s2">"C4MYFr4EAdqEeUKxTnPUF3d3whWcPMz1Fi"</span><span class="p">);</span>
<span class="nv">$tx</span><span class="o">-&gt;</span><span class="na">addOutput</span><span class="p">(</span><span class="nv">$output</span><span class="p">);</span>
<span class="c1">// Tx amount
</span><span class="nv">$output</span><span class="o">-&gt;</span><span class="na">setValue</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span> <span class="c1">// Satoshis
</span>
<span class="c1">// For Sample Purposes Only.
</span><span class="nv">$request</span> <span class="o">=</span> <span class="k">clone</span> <span class="nv">$tx</span><span class="p">;</span>

<span class="c1">// ### Create New Transaction
</span><span class="nv">$output</span> <span class="o">=</span> <span class="nv">$tx</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">{</span>
  <span class="s2">"tx"</span><span class="o">:</span><span class="p">{</span>
    <span class="s2">"block_height"</span><span class="o">:-</span><span class="mi">1</span><span class="p">,</span>
    <span class="s2">"hash"</span><span class="o">:</span><span class="s2">"edb785c310ea58c70245c9a89130efca8fb0a02d4bee47b18542986e7bf95806"</span><span class="p">,</span>
    <span class="s2">"addresses"</span><span class="o">:</span><span class="p">[</span>
      <span class="s2">"C5vqMGme4FThKnCY44gx1PLgWr86uxRbDm"</span><span class="p">,</span>
      <span class="s2">"C4MYFr4EAdqEeUKxTnPUF3d3whWcPMz1Fi"</span>
    <span class="p">],</span>
    <span class="s2">"total"</span><span class="o">:</span><span class="mi">5420100</span><span class="p">,</span>
    <span class="s2">"fees"</span><span class="o">:</span><span class="mi">12000</span><span class="p">,</span>
    <span class="s2">"size"</span><span class="o">:</span><span class="mi">119</span><span class="p">,</span>
    <span class="s2">"preference"</span><span class="o">:</span><span class="s2">"high"</span><span class="p">,</span>
    <span class="s2">"relayed_by"</span><span class="o">:</span><span class="s2">"88.7.90.149"</span><span class="p">,</span>
    <span class="s2">"received"</span><span class="o">:</span><span class="s2">"2015-06-17T10:23:02.475392139Z"</span><span class="p">,</span>
    <span class="s2">"ver"</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span>
    <span class="s2">"lock_time"</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="s2">"double_spend"</span><span class="o">:</span><span class="kc">false</span><span class="p">,</span>
    <span class="s2">"vin_sz"</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span>
    <span class="s2">"vout_sz"</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span>
    <span class="s2">"confirmations"</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="s2">"inputs"</span><span class="o">:</span><span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"prev_hash"</span><span class="o">:</span><span class="s2">"64e39fa5322ee604ad548dc5d4ae1a61b0a575278724d0df7e53dd334f5f13e3"</span><span class="p">,</span>
        <span class="s2">"output_index"</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span>
        <span class="s2">"script"</span><span class="o">:</span><span class="s2">""</span><span class="p">,</span>
        <span class="s2">"output_value"</span><span class="o">:</span><span class="mi">5432100</span><span class="p">,</span>
        <span class="s2">"sequence"</span><span class="o">:</span><span class="mi">4294967295</span><span class="p">,</span>
        <span class="s2">"addresses"</span><span class="o">:</span><span class="p">[</span>
          <span class="s2">"C5vqMGme4FThKnCY44gx1PLgWr86uxRbDm"</span>
        <span class="p">],</span>
        <span class="s2">"script_type"</span><span class="o">:</span><span class="s2">""</span><span class="p">,</span>
        <span class="s2">"age"</span><span class="o">:</span><span class="mi">0</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"outputs"</span><span class="o">:</span><span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"value"</span><span class="o">:</span><span class="mi">1000</span><span class="p">,</span>
        <span class="s2">"script"</span><span class="o">:</span><span class="s2">"76a9147b2b09ad46d95e177df6969a275db321c66cecf388ac"</span><span class="p">,</span>
        <span class="s2">"addresses"</span><span class="o">:</span><span class="p">[</span>
          <span class="s2">"C4MYFr4EAdqEeUKxTnPUF3d3whWcPMz1Fi"</span>
        <span class="p">],</span>
        <span class="s2">"script_type"</span><span class="o">:</span><span class="s2">"pay-to-pubkey-hash"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"value"</span><span class="o">:</span><span class="mi">5419100</span><span class="p">,</span>
        <span class="s2">"script"</span><span class="o">:</span><span class="s2">"76a9148c6f28c814116f1ae3d0940b2fb05a68a9507e8a88ac"</span><span class="p">,</span>
        <span class="s2">"addresses"</span><span class="o">:</span><span class="p">[</span>
          <span class="s2">"C5vqMGme4FThKnCY44gx1PLgWr86uxRbDm"</span>
        <span class="p">],</span>
        <span class="s2">"script_type"</span><span class="o">:</span><span class="s2">"pay-to-pubkey-hash"</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="s2">"tosign"</span><span class="o">:</span><span class="p">[</span>
    <span class="s2">"770af2c9a9b7b8b1998e36d4c1ce2b8fa3b9d4d6575679a513722d9f478177d2"</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre>

<p>A TXSkeleton is a convenience/wrapper Object that&rsquo;s used primarily when <a href="#creating-transactions">Creating Transactions</a> through the <a href="#new-transaction-endpoint">New</a> and <a href="#send-transaction-endpoint">Send</a> endpoints.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>tx</strong></td>
<td><em><a href="#tx">TX</a></em></td>
<td>A temporary <a href="#tx">TX</a>, usually returned fully filled but missing input scripts.</td>
</tr>
<tr>
<td><strong>tosign</strong></td>
<td><em>array[string]</em></td>
<td>Array of hex-encoded data for you to sign, one for each input.</td>
</tr>
<tr>
<td><strong>signatures</strong></td>
<td><em>array[string]</em></td>
<td>Array of signatures corresponding to all the data in <strong>tosign</strong>, typically provided by you.</td>
</tr>
<tr>
<td><strong>pubkeys</strong></td>
<td><em>array[string]</em></td>
<td>Array of public keys corresponding to each signature. In general, these are provided by you, and correspond to the signatures you provide.</td>
</tr>
<tr>
<td><strong>errors</strong></td>
<td><em>array[&ldquo;error&rdquo;:string]</em></td>
<td><strong><em>Optional</em></strong> Array of errors in the form <em>&ldquo;error&rdquo;:&ldquo;description-of-error&rdquo;</em>. This is only returned if there was an error in any stage of transaction generation, and is usually accompanied by a HTTP 400 code.</td>
</tr>
</tbody></table>

<h2 id="microtx">MicroTX</h2>
<pre class="highlight shell"><code><span class="o">{</span>
<span class="s2">"from_pubkey"</span>: <span class="s2">"03bb318b00de944086fad67ab78a832eb1bf26916053ecd3b14a3f48f9fbe0821f"</span>,
<span class="s2">"to_address"</span>: <span class="s2">"mrS82nWF3TCfhafSaKnmUUktGNYuTZn1Ap"</span>,
<span class="s2">"value_satoshis"</span>: 5000,
<span class="s2">"token"</span>: <span class="s2">"477a17a15d55b408038404a46c059ef9"</span>,
<span class="s2">"signatures"</span>: <span class="o">[</span>
    <span class="s2">"3045022100..."</span>
<span class="o">]</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code></code></pre>
<pre class="highlight python"><code></code></pre>
<pre class="highlight php"><code></code></pre>

<p>A MicroTX represents a streamlined&mdash;and typically much lower value&mdash;microtransaction, one which BlockCypher can sign for you if you send your private key. MicroTXs can also be signed on the client-side without ever sending your private key. You&rsquo;ll find these objects used in the <a href="#microtransaction-api">Microtransaction API.</a></p>

<aside class="notice">
Only one of these three fields is required for the microtransaction endpoint: <b>from_pubkey</b>, <b>from_private</b>, <b>from_wif</b> . If you send more than one, the API will return an error.
</aside>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>from_pubkey</strong></td>
<td><em>string</em></td>
<td>Hex-encoded public key from which you&rsquo;re sending coins.</td>
</tr>
<tr>
<td><strong>from_private</strong></td>
<td><em>string</em></td>
<td>Hex-encoded private key from which you&rsquo;re sending coins.</td>
</tr>
<tr>
<td><strong>from_wif</strong></td>
<td><em>string</em></td>
<td>WIF-encoded private key from which you&rsquo;re sending coins.</td>
</tr>
<tr>
<td><strong>to_address</strong></td>
<td><em>string</em></td>
<td>The target address to which you&rsquo;re sending coins.</td>
</tr>
<tr>
<td><strong>value_satoshis</strong></td>
<td><em>int</em></td>
<td>Value you&rsquo;re sending/you&rsquo;ve sent in satoshis.</td>
</tr>
<tr>
<td><strong>token</strong></td>
<td><em>string</em></td>
<td>Your <a href="http://accounts.blockcypher.com/">BlockCypher API token</a></td>
</tr>
<tr>
<td><strong>change_address</strong></td>
<td><em>string</em></td>
<td><strong><em>Optional</em></strong> Address BlockCypher will use to send back your change. If not set, defaults to the address from which the coins were originally sent. While not required, we recommend that you set a change address.</td>
</tr>
<tr>
<td><strong>wait_guarantee</strong></td>
<td><em>bool</em></td>
<td><strong><em>Optional</em></strong> If not set, defaults to <em>true</em>, which means the API will wait for BlockCypher to guarantee the transaction, using our <a href="#confidence-factor">Confidence Factor</a>. The guarantee usually takes around 8 seconds. If manually set to <em>false</em>, the Microtransaction endpoint will return as soon as the transaction is broadcast.</td>
</tr>
<tr>
<td><strong>tosign</strong></td>
<td><em>array[string]</em></td>
<td><strong><em>Optional</em></strong> Hex-encoded data for you to sign after initiating the microtransaction. Sent in reply to a microtransaction generated using <strong>from_pubkey</strong>/a public key.</td>
</tr>
<tr>
<td><strong>signatures</strong></td>
<td><em>array[string]</em></td>
<td><strong><em>Optional</em></strong> Hex-encoded signatures for you to send back after having received (and signed) <strong>tosign</strong>.</td>
</tr>
<tr>
<td><strong>inputs</strong></td>
<td><em>array[<a href="#txinput">TXInput</a>]</em></td>
<td><strong><em>Optional</em></strong> Partial list of inputs that will be used with this transaction. Only returned when using <strong>from_pubkey</strong>.</td>
</tr>
<tr>
<td><strong>outputs</strong></td>
<td><em>array[<a href="#txoutput">TXOutput</a>]</em></td>
<td><strong><em>Optional</em></strong> Partial list of outputs that will be used with this transaction. Only returned when using <strong>from_pubkey</strong>.</td>
</tr>
<tr>
<td><strong>fees</strong></td>
<td><em>integer</em></td>
<td><strong><em>Optional</em></strong> BlockCypher&rsquo;s optimally calculated fees for this MicroTX to guarantee swift 99% confirmation, only returned when using <strong>from_pubkey</strong>. BlockCypher pays these fees for the first 8,000 microtransactions, but like regular transactions, it is deducted from the source address thereafter.</td>
</tr>
<tr>
<td><strong>hash</strong></td>
<td><em>string</em></td>
<td><strong><em>Optional</em></strong> The hash of the finalized transaction, once sent.</td>
</tr>
</tbody></table>

<h2 id="address">Address</h2>
<pre class="highlight shell"><code>curl http://api.blockcypher.com/v1/btc/main/addrs/1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD

<span class="o">{</span>
<span class="s2">"address"</span>: <span class="s2">"1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD"</span>,
<span class="s2">"total_received"</span>: 4433416,
<span class="s2">"total_sent"</span>: 0,
<span class="s2">"balance"</span>: 4433416,
<span class="s2">"unconfirmed_balance"</span>: 0,
<span class="s2">"final_balance"</span>: 4433416,
<span class="s2">"n_tx"</span>: 7,
<span class="s2">"unconfirmed_n_tx"</span>: 0,
<span class="s2">"final_n_tx"</span>: 7,
<span class="s2">"txrefs"</span>: <span class="o">[</span>
    ...
<span class="o">]</span>,
<span class="s2">"unconfirmed_txrefs"</span>: <span class="o">[</span>
    ...
<span class="o">]</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code></code></pre>
<pre class="highlight python"><code></code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\address-api\AddressEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\Address</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$address</span> <span class="o">=</span> <span class="nx">Address</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">'1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD'</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">{</span>
  <span class="s2">"address"</span><span class="o">:</span><span class="s2">"1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD"</span><span class="p">,</span>
  <span class="s2">"total_received"</span><span class="o">:</span><span class="mi">4433416</span><span class="p">,</span>
  <span class="s2">"total_sent"</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span>
  <span class="s2">"balance"</span><span class="o">:</span><span class="mi">4433416</span><span class="p">,</span>
  <span class="s2">"unconfirmed_balance"</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span>
  <span class="s2">"final_balance"</span><span class="o">:</span><span class="mi">4433416</span><span class="p">,</span>
  <span class="s2">"n_tx"</span><span class="o">:</span><span class="mi">7</span><span class="p">,</span>
  <span class="s2">"unconfirmed_n_tx"</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span>
  <span class="s2">"final_n_tx"</span><span class="o">:</span><span class="mi">7</span><span class="p">,</span>
  <span class="s2">"txrefs"</span><span class="o">:</span><span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"tx_hash"</span><span class="o">:</span><span class="s2">"14b1052855bbf6561bc4db8aa501762e7cc1e86994dda9e782a6b73b1ce0dc1e"</span><span class="p">,</span>
      <span class="s2">"block_height"</span><span class="o">:</span><span class="mi">302013</span><span class="p">,</span>
      <span class="s2">"tx_input_n"</span><span class="o">:-</span><span class="mi">1</span><span class="p">,</span>
      <span class="s2">"tx_output_n"</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span>
      <span class="s2">"value"</span><span class="o">:</span><span class="mi">20213</span><span class="p">,</span>
      <span class="s2">"spent"</span><span class="o">:</span><span class="kc">false</span><span class="p">,</span>
      <span class="s2">"confirmations"</span><span class="o">:</span><span class="mi">58584</span><span class="p">,</span>
      <span class="s2">"confirmed"</span><span class="o">:</span><span class="s2">"2014-05-22T03:46:25Z"</span><span class="p">,</span>
      <span class="s2">"double_spend"</span><span class="o">:</span><span class="kc">false</span>
    <span class="p">},</span>
    <span class="o">...</span>
  <span class="p">],</span>
  <span class="s2">"tx_url"</span><span class="o">:</span><span class="s2">"https://api.blockcypher.com/v1/btc/main/txs/"</span>
<span class="p">}</span>
</code></pre>

<p>An Address represents a public address on a blockchain, and contains information about the state of balances and transactions related to this address. Typically returned from the <a href="#address-balance-endpoint">Address Balance</a>, <a href="#address-endpoint">Address</a>, and <a href="#address-detail-endpoint">Address Detail Endpoint</a>.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>address</strong></td>
<td><em>string</em></td>
<td>The requested address.</td>
</tr>
<tr>
<td><strong>total_received</strong></td>
<td><em>integer</em></td>
<td>Total amount of satoshis received by this address.</td>
</tr>
<tr>
<td><strong>total_sent</strong></td>
<td><em>integer</em></td>
<td>Total amount of satoshis sent by this address.</td>
</tr>
<tr>
<td><strong>balance</strong></td>
<td><em>integer</em></td>
<td>Balance of confirmed satoshis on this address. This is the difference between outputs and inputs on this address, but only for transactions that have been included into a block (i.e., for transactions whose confirmations &gt; 0).</td>
</tr>
<tr>
<td><strong>unconfirmed_balance</strong></td>
<td><em>integer</em></td>
<td>Balance of unconfirmed satoshis on this address. Can be negative (if unconfirmed transactions are just spending outputs). Only unconfirmed transactions (haven&rsquo;t made it into a block) are included.</td>
</tr>
<tr>
<td><strong>final_balance</strong></td>
<td><em>integer</em></td>
<td>Total balance of satoshis, including confirmed and unconfirmed transactions, for this address.</td>
</tr>
<tr>
<td><strong>n_tx</strong></td>
<td><em>integer</em></td>
<td>Number of confirmed transactions on this address. Only transactions that have made it into a block (confirmations &gt; 0) are counted.</td>
</tr>
<tr>
<td><strong>unconfirmed_n_tx</strong></td>
<td><em>integer</em></td>
<td>Number of unconfirmed transactions for this address. Only unconfirmed transactions (confirmations == 0) are counted.</td>
</tr>
<tr>
<td><strong>final_n_tx</strong></td>
<td><em>integer</em></td>
<td>Final number of transactions, including confirmed and unconfirmed transactions, for this address.</td>
</tr>
<tr>
<td><strong>tx_url</strong></td>
<td><em>url</em></td>
<td><strong><em>Optional</em></strong> To retrieve base URL transactions. To get the full URL, concatenate this URL with a transaction&rsquo;s hash.</td>
</tr>
<tr>
<td><strong>txs</strong></td>
<td><em>array[<a href="#tx">TX</a>]</em></td>
<td><strong><em>Optional</em></strong>  Array of full transaction details associated with this address. Usually only returned from the <a href="#address-detail">Address Detail Endpoint</a>.</td>
</tr>
<tr>
<td><strong>txrefs</strong></td>
<td><em>array[<a href="#txref">TXRef</a>]</em></td>
<td><strong><em>Optional</em></strong> Array of transaction inputs and outputs for this address. Usually only returned from the standard <a href="#address-endpoint">Address Endpoint</a>.</td>
</tr>
<tr>
<td><strong>unconfirmed_txrefs</strong></td>
<td><em>array[<a href="#txref">TXRef</a>]</em></td>
<td><strong><em>Optional</em></strong> All unconfirmed transaction inputs and outputs for this address. Usually only returned from the standard <a href="#address-endpoint">Address Endpoint</a>.</td>
</tr>
<tr>
<td><strong>hasMore</strong></td>
<td><em>bool</em></td>
<td><strong><em>Optional</em></strong> If <em>true</em>, then the Address object contains more transactions than shown. Useful for determining whether to poll the API for more transaction information.</td>
</tr>
</tbody></table>

<h2 id="addresskeychain">AddressKeychain</h2>
<pre class="highlight shell"><code>curl -X POST http://api.blockcypher.com/v1/btc/test3/addrs

<span class="o">{</span>
<span class="s2">"private"</span>: <span class="s2">"86751cb880a9a1addcc3b67979976158dd800afe9d14b68349921299b20c94dd"</span>,
<span class="s2">"public"</span>: <span class="s2">"03866586fbe3652eb219c5ed99c3fc72d125472248183f966e0673be08a1c543de"</span>,
<span class="s2">"address"</span>: <span class="s2">"n1ucSDLByN5GLLQuE7BMrtTWHwHtkaVkfA"</span>,
<span class="s2">"wif"</span>: <span class="s2">"cS64ygfjWjN73S78oUbJQeikDn9uS7KNWS1PL7NqeBUuF4UobnAy"</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code></code></pre>
<pre class="highlight python"><code></code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\address-api\GenerateAddressEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\AddressKeyChain</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$addressKeyChain</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AddressKeyChain</span><span class="p">();</span>

<span class="c1">// For Sample Purposes Only.
</span><span class="nv">$request</span> <span class="o">=</span> <span class="k">clone</span> <span class="nv">$addressKeyChain</span><span class="p">;</span>

<span class="nv">$addressKeyChain</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="nv">$apiContexts</span><span class="p">[</span><span class="s1">'BTC.main'</span><span class="p">]);</span>

<span class="p">{</span>
  <span class="s2">"private"</span><span class="o">:</span><span class="s2">"3f3cea5a7373011d6f51844bf986abe6950d7a30eaaab247fc951c3ea9f13705"</span><span class="p">,</span>
  <span class="s2">"public"</span><span class="o">:</span><span class="s2">"02d1c8ccc7131a3c39b9e7001741f68d339e5d6941caf31fe9f43b15d6cf09dcb9"</span><span class="p">,</span>
  <span class="s2">"address"</span><span class="o">:</span><span class="s2">"1rA7AB93qziWzHfTFXn5n3GYJ1mhkG8tn"</span><span class="p">,</span>
  <span class="s2">"wif"</span><span class="o">:</span><span class="s2">"KyLdumvGqB86v3D9sKqAMGhNXB1UtYSsxb9deH1nxpooskVF7Rgz"</span>
<span class="p">}</span>
</code></pre>

<p>An AddressKeychain represents an associated collection of public and private keys alongside their respective public address. Generally returned and used with the <a href="#generate-address-endpoint">Generate Address Endpoint</a>.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>address</strong></td>
<td><em>string</em></td>
<td>Standard address representation.</td>
</tr>
<tr>
<td><strong>public</strong></td>
<td><em>string</em></td>
<td>Hex-encoded Public key.</td>
</tr>
<tr>
<td><strong>private</strong></td>
<td><em>string</em></td>
<td>Hex-encoded Private key.</td>
</tr>
<tr>
<td><strong>wif</strong></td>
<td><em>string</em></td>
<td><a href="https://en.bitcoin.it/wiki/Wallet_import_format">Wallet import format</a>, a common encoding for the private key.</td>
</tr>
<tr>
<td><strong>pubkeys</strong></td>
<td><em>array[string]</em></td>
<td><strong><em>Optional</em></strong> Array of public keys to provide to generate a multisig address.</td>
</tr>
<tr>
<td><strong>script_type</strong></td>
<td><em>array[string]</em></td>
<td><strong><em>Optional</em></strong> If generating a multisig address, the type of multisig script; typically &ldquo;multisig-n-of-m&rdquo;, where n and m are integers.</td>
</tr>
</tbody></table>

<h2 id="wallet">Wallet</h2>
<pre class="highlight shell"><code>curl -d <span class="s1">'{"name": "alice","addresses": ["1JcX75oraJEmzXXHpDjRctw3BX6qDmFM8e"]}'</span> https://api.blockcypher.com/v1/btc/main/wallets?token<span class="o">=</span>YOURTOKEN

<span class="o">{</span>
<span class="s2">"token"</span>:<span class="s2">"YOURTOKEN"</span>,
<span class="s2">"name"</span>: <span class="s2">"alice"</span>,
<span class="s2">"addresses"</span>: <span class="o">[</span><span class="s2">"1JcX75oraJEmzXXHpDjRctw3BX6qDmFM8e"</span><span class="o">]</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code></code></pre>
<pre class="highlight python"><code></code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\wallet-api\CreateWalletEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\Wallet</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">// Create a new instance of Wallet object
</span><span class="nv">$wallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Wallet</span><span class="p">();</span>
<span class="nv">$wallet</span><span class="o">-&gt;</span><span class="na">setName</span><span class="p">(</span><span class="s1">'alice'</span><span class="p">);</span>
<span class="nv">$wallet</span><span class="o">-&gt;</span><span class="na">setAddresses</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s2">"1JcX75oraJEmzXXHpDjRctw3BX6qDmFM8e"</span>
<span class="p">));</span>

<span class="c1">// For Sample Purposes Only.
</span><span class="nv">$request</span> <span class="o">=</span> <span class="k">clone</span> <span class="nv">$wallet</span><span class="p">;</span>

<span class="nv">$wallet</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="k">array</span><span class="p">(),</span> <span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">{</span>
  <span class="s2">"token"</span><span class="o">:</span><span class="s2">"c0afcccdde5081d6429de37d16166ead"</span><span class="p">,</span>
  <span class="s2">"name"</span><span class="o">:</span><span class="s2">"alice"</span><span class="p">,</span>
  <span class="s2">"addresses"</span><span class="o">:</span><span class="p">[</span>
    <span class="s2">"1JcX75oraJEmzXXHpDjRctw3BX6qDmFM8e"</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre>

<p>A Wallet represents a list of addresses, and can be used interchangeably with all the <a href="#address-api">Address API</a> endpoints.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>token</strong></td>
<td><em>string</em></td>
<td>User token associated with this wallet.</td>
</tr>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>Name of the wallet.</td>
</tr>
<tr>
<td><strong>addresses</strong></td>
<td><em>array[string]</em></td>
<td>List of addresses associated with this wallet.</td>
</tr>
</tbody></table>

<h2 id="event">Event</h2>
<pre class="highlight shell"><code>curl https://api.blockcypher.com/v1/btc/main/hooks/399d0923-e920-48ee-8928-2051cbfbc369

<span class="o">{</span>
<span class="s2">"id"</span>: <span class="s2">"399d0923-e920-48ee-8928-2051cbfbc369"</span>
<span class="s2">"event"</span>: <span class="s2">"unconfirmed-tx"</span>,
<span class="s2">"address"</span>: <span class="s2">"15qx9ug952GWGTNn7Uiv6vode4RcGrRemh"</span>,
<span class="s2">"token"</span>: <span class="s2">"YOURTOKEN"</span>,
<span class="s2">"url"</span>: <span class="s2">"https://my.domain.com/callbacks/new-tx"</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code></code></pre>
<pre class="highlight python"><code></code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\hook-api\WebHookIdEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\WebHook</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$webHook</span> <span class="o">=</span> <span class="nx">WebHook</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">'d5ca3bd3-5dfb-477d-9fb4-ac3510af258d'</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">{</span>
  <span class="s2">"id"</span><span class="o">:</span><span class="s2">"d5ca3bd3-5dfb-477d-9fb4-ac3510af258d"</span><span class="p">,</span>
  <span class="s2">"token"</span><span class="o">:</span><span class="s2">"c0afcccdde5081d6429de37d16166ead"</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="o">:</span><span class="s2">"http://requestb.in/rwp6jirw?uniqid=5581998e19114"</span><span class="p">,</span>
  <span class="s2">"callback_errors"</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span>
  <span class="s2">"event"</span><span class="o">:</span><span class="s2">"unconfirmed-tx"</span><span class="p">,</span>
  <span class="s2">"hash"</span><span class="o">:</span><span class="s2">"2b17f5589528f97436b5d563635b4b27ca8980aa20c300abdc538f2a8bfa871b"</span><span class="p">,</span>
  <span class="s2">"filter"</span><span class="o">:</span><span class="s2">"event=unconfirmed-tx\u0026hash=2b17f5589528f97436b5d563635b4b27ca8980aa20c300abdc538f2a8bfa871b"</span>
<span class="p">}</span>
</code></pre>

<p>An Event represents a WebHooks or WebSockets-based notification request, as detailed in the <a href="#events-and-hooks">Events &amp; Hooks</a> section of the documentation.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>id</strong></td>
<td><em>string</em></td>
<td>Identifier of the event; generated when a new request is created.</td>
</tr>
<tr>
<td><strong>event</strong></td>
<td><em>string</em></td>
<td>Type of event; can be <em>unconfirmed-tx</em>, <em>new-block</em>, <em>confirmed-tx</em>, <em>tx-confirmation</em>, <em>double-spend-tx</em>.</td>
</tr>
<tr>
<td><strong>hash</strong></td>
<td><em>string</em></td>
<td><strong><em>optional</em></strong> Only objects with a matching hash will be sent. The hash can either be for a block or a transaction.</td>
</tr>
<tr>
<td><strong>wallet_name</strong></td>
<td><em>string</em></td>
<td><strong><em>optional</em></strong> Only transactions associated with the given wallet will be sent. If used, requires a user token.</td>
</tr>
<tr>
<td><strong>token</strong></td>
<td><em>string</em></td>
<td><strong><em>optional</em></strong> Required if wallet_name is used, though generally we advise users to include it (as they can reach API throttling thresholds rapidly).</td>
</tr>
<tr>
<td><strong>address</strong></td>
<td><em>string</em></td>
<td><strong><em>optional</em></strong> Only transactions associated with the given address will be sent. A wallet name can also be used instead of an address, which will then match on any address in the wallet.</td>
</tr>
<tr>
<td><strong>confirmations</strong></td>
<td><em>integer</em></td>
<td><strong><em>optional</em></strong>  Used in concert with the <em>tx-confirmation</em> event type to set the number of confirmations desired for which to receive an update. You&rsquo;ll receive an updated <a href="#tx">TX</a> for every confirmation up to this amount. The maximum allowed is 10; if not set, it will default to 6.</td>
</tr>
<tr>
<td><strong>script</strong></td>
<td><em>string</em></td>
<td><strong><em>optional</em></strong> Only transactions with an output script of the provided type will be sent. The recognized types of scripts are: <em>pay-to-pubkey-hash</em>, <em>pay-to-multi-pubkey-hash</em>, <em>pay-to-pubkey</em>, <em>pay-to-script-hash</em>, <em>null-data</em> (sometimes called OP_RETURN), <em>empty</em> or <em>unknown</em>.</td>
</tr>
<tr>
<td><strong>url</strong></td>
<td><em>url</em></td>
<td><strong><em>optional</em></strong> Callback URL for this Event&rsquo;s WebHook; not applicable for WebSockets usage.</td>
</tr>
</tbody></table>

<h2 id="paymentforward">PaymentForward</h2>
<pre class="highlight shell"><code>curl -d <span class="s1">'{"destination":"15qx9ug952GWGTNn7Uiv6vode4RcGrRemh","callback_url": "https://my.domain.com/callbacks/new-pay","process_fees_address": "1LWw6FdzNUcX8bnekMMZ7eofcGF7SXmbrL", "process_fees_percent": 0.1,"token":"YOURTOKEN"}'</span> http://api.blockcypher.com/v1/btc/main/payments

<span class="o">{</span>
<span class="s2">"input_address"</span>: <span class="s2">"16uKw7GsQSzfMaVTcT7tpFQkd7Rh9qcXWX"</span>,
<span class="s2">"destination"</span>: <span class="s2">"15qx9ug952GWGTNn7Uiv6vode4RcGrRemh"</span>,
<span class="s2">"callback_url"</span>: <span class="s2">"https://my.domain.com/callbacks/new-pay"</span>
<span class="s2">"process_fees_address"</span>: <span class="s2">"1LWw6FdzNUcX8bnekMMZ7eofcGF7SXmbrL"</span>,
<span class="s2">"process_fees_percent"</span>: 0.1,
<span class="s2">"token"</span>: <span class="s2">"YOURTOKEN"</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code></code></pre>
<pre class="highlight python"><code></code></pre>
<pre class="highlight php"><code></code></pre>

<p>A PaymentForward object represents a request set up through the <a href="#payment-forwarding">Payment Forwarding</a> service.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>id</strong></td>
<td><em>string</em></td>
<td>Identifier of the payment forwarding request; generated when a new request is created.</td>
</tr>
<tr>
<td><strong>token</strong></td>
<td><em>string</em></td>
<td>The mandatory user token.</td>
</tr>
<tr>
<td><strong>destination</strong></td>
<td><em>string</em></td>
<td>The required destination address for payment forwarding.</td>
</tr>
<tr>
<td><strong>input_address</strong></td>
<td><em>string</em></td>
<td>The address which will automatically forward to <strong>destination</strong>; generated when a new request is created.</td>
</tr>
<tr>
<td><strong>process_fees_address</strong></td>
<td><em>string</em></td>
<td><strong><em>Optional</em></strong> Address to forward processing fees, if specified. Allows you to receive a fee for your own services.</td>
</tr>
<tr>
<td><strong>process_fees_satoshis</strong></td>
<td><em>int</em></td>
<td><strong><em>Optional</em></strong> Fixed processing fee amount to be sent to the fee address. A fixed satoshi amount or a percentage is required if a <strong>process_fees_address</strong> has been specified.</td>
</tr>
<tr>
<td><strong>process_fees_percent</strong></td>
<td><em>float</em></td>
<td><strong><em>Optional</em></strong> Percentage of the transaction to be sent to the fee address. A fixed satoshi amount or a percentage is required if a <strong>process_fees_address</strong> has been specified.</td>
</tr>
<tr>
<td><strong>callback_url</strong></td>
<td><em>url</em></td>
<td><strong><em>Optional</em></strong> The URL to call anytime a new payment is forwarded.</td>
</tr>
<tr>
<td><strong>enable_confirmations</strong></td>
<td><em>bool</em></td>
<td><strong><em>Optional</em></strong> Whether to also call the <strong>callback_url</strong> with subsequent confirmations of the forwarding transactions. Automatically sets up a WebHook.</td>
</tr>
<tr>
<td><strong>mining_fees_satoshis</strong></td>
<td><em>int</em></td>
<td><strong><em>Optional</em></strong> Mining fee amount to include in the forwarding transaction, in satoshis. If not set, defaults to 10,000.</td>
</tr>
<tr>
<td><strong>transactions</strong></td>
<td><em>array[string]</em></td>
<td><strong><em>Optional</em></strong> History of forwarding transaction hashes for this payment forwarding request.</td>
</tr>
</tbody></table>

<h2 id="paymentforwardcallback">PaymentForwardCallback</h2>
<pre class="highlight shell"><code><span class="o">{</span>
<span class="s2">"value"</span>: 100000000,
<span class="s2">"input_address"</span>: <span class="s2">"16uKw7GsQSzfMaVTcT7tpFQkd7Rh9qcXWX"</span>,
<span class="s2">"destination"</span>: <span class="s2">"15qx9ug952GWGTNn7Uiv6vode4RcGrRemh"</span>,
<span class="s2">"input_transaction_hash"</span>: <span class="s2">"39bed5d..."</span>,
<span class="s2">"transaction_hash"</span>: <span class="s2">"1aa6103..."</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code></code></pre>
<pre class="highlight python"><code></code></pre>
<pre class="highlight php"><code></code></pre>

<p>A PaymentForwardCallback object represents the payload delivered to the optional <strong>callback_url</strong> in a <a href="#payment-forward">PaymentForward</a> request.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>value</strong></td>
<td><em>int</em></td>
<td>Amount sent to the destination address, in satoshis.</td>
</tr>
<tr>
<td><strong>input_address</strong></td>
<td><em>string</em></td>
<td>The intermediate address to which the payment was originally sent.</td>
</tr>
<tr>
<td><strong>destination</strong></td>
<td><em>string</em></td>
<td>The final destination address to which the payment will eventually be sent.</td>
</tr>
<tr>
<td><strong>input_transaction_hash</strong></td>
<td><em>string</em></td>
<td>The transaction hash representing the initial payment to the <strong>input_address</strong>.</td>
</tr>
<tr>
<td><strong>transaction_hash</strong></td>
<td><em>string</em></td>
<td>The transaction hash of the generated transaction that forwards the payment from the <strong>input_address</strong> to the <strong>destination.</strong></td>
</tr>
</tbody></table>

          <h1 id="blockchain-api">Blockchain API</h1>

<p>The first component&mdash;and highest level&mdash;of the BlockCypher API allows you to query general information about blockchain and blocks <a href="#restful-resources">based on the coin/chain resource</a> you&rsquo;ve selected for your endpoints.</p>

<p>If you&rsquo;re new to blockchains, you can think of the blockchain itself as an immutable, distributed ledger. Each block in the blockchain is like a &ldquo;page&rdquo; in the ledger containing information about transactions between parties. A great place to start understanding the mechanics behind blockchains is the <a href="http://bitcoin.org/bitcoin.pdf">original Bitcoin whitepaper.</a></p>

<h2 id="chain-endpoint">Chain Endpoint</h2>
<pre class="highlight shell"><code>curl https://api.blockcypher.com/v1/btc/main

<span class="o">{</span>
  <span class="s2">"name"</span>: <span class="s2">"BTC.main"</span>,
  <span class="s2">"height"</span>: 360060,
  <span class="s2">"hash"</span>: <span class="s2">"000000000000000000bf56ff4a81e399374a68344a64d6681039412de78366b8"</span>,
  <span class="s2">"time"</span>: <span class="s2">"2015-06-08T22:57:08.260165627Z"</span>,
  <span class="s2">"latest_url"</span>: <span class="s2">"https://api.blockcypher.com/v1/btc/main/blocks/000000000000000000bf56ff4a81e399374a68344a64d6681039412de78366b8"</span>,
  <span class="s2">"previous_hash"</span>: <span class="s2">"000000000000000011c9511ae1265d34d3c16fff6e8f94380425833b3d0ae5d8"</span>,
  <span class="s2">"previous_url"</span>: <span class="s2">"https://api.blockcypher.com/v1/btc/main/blocks/000000000000000011c9511ae1265d34d3c16fff6e8f94380425833b3d0ae5d8"</span>,
  <span class="s2">"peer_count"</span>: 239,
  <span class="s2">"unconfirmed_count"</span>: 617,
  <span class="s2">"high_fee_per_kb"</span>: 46086,
  <span class="s2">"medium_fee_per_kb"</span>: 29422,
  <span class="s2">"low_fee_per_kb"</span>: 12045,
  <span class="s2">"last_fork_height"</span>: 359865,
  <span class="s2">"last_fork_hash"</span>: <span class="s2">"00000000000000000aa6462fd9faf94712ce1b5a944dc666f491101c996beab9"</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'https://api.blockcypher.com/v1/btc/main'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span>
<span class="o">&gt;</span> <span class="p">{</span>
<span class="o">&gt;</span>   <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"BTC.main"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"height"</span><span class="p">:</span> <span class="mi">355578</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"hash"</span><span class="p">:</span> <span class="s2">"00000000000000000a0b253f20709b0c77d8a56aa8db632ecbdc7381816504cd"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"time"</span><span class="p">:</span> <span class="s2">"2015-05-08T23:12:55.243311146Z"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"latest_url"</span><span class="p">:</span> <span class="s2">"https://api.blockcypher.com/v1/btc/main/blocks/00000000000000000a0b253f20709b0c77d8a56aa8db632ecbdc7381816504cd"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"previous_hash"</span><span class="p">:</span> <span class="s2">"00000000000000000acef50ef89494493b4a08a8419588e1e3e20cd73bc85a6b"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"previous_url"</span><span class="p">:</span> <span class="s2">"https://api.blockcypher.com/v1/btc/main/blocks/00000000000000000acef50ef89494493b4a08a8419588e1e3e20cd73bc85a6b"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"peer_count"</span><span class="p">:</span> <span class="mi">250</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"unconfirmed_count"</span><span class="p">:</span> <span class="mi">637</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"high_fee_per_kb"</span><span class="p">:</span> <span class="mi">45768</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"medium_fee_per_kb"</span><span class="p">:</span> <span class="mi">29415</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"low_fee_per_kb"</span><span class="p">:</span> <span class="mi">12045</span>
<span class="o">&gt;</span> <span class="p">}</span>
</code></pre>
<pre class="highlight python"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.blockcypher.com/v1/btc/main'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s">'last_fork_height'</span><span class="p">:</span> <span class="mi">359865</span><span class="p">,</span>
 <span class="s">'time'</span><span class="p">:</span> <span class="s">'2015-06-08T23:03:49.126001425Z'</span><span class="p">,</span>
 <span class="s">'height'</span><span class="p">:</span> <span class="mi">360061</span><span class="p">,</span>
 <span class="s">'low_fee_per_kb'</span><span class="p">:</span> <span class="mi">12045</span><span class="p">,</span>
 <span class="s">'peer_count'</span><span class="p">:</span> <span class="mi">250</span><span class="p">,</span>
 <span class="s">'previous_hash'</span><span class="p">:</span> <span class="s">'000000000000000000bf56ff4a81e399374a68344a64d6681039412de78366b8'</span><span class="p">,</span>
 <span class="s">'hash'</span><span class="p">:</span> <span class="s">'00000000000000000b51219d4c56be4262dd7d1ca34045f6f5389634bab61e94'</span><span class="p">,</span>
 <span class="s">'name'</span><span class="p">:</span> <span class="s">'BTC.main'</span><span class="p">,</span>
 <span class="s">'latest_url'</span><span class="p">:</span> <span class="s">'https://api.blockcypher.com/v1/btc/main/blocks/00000000000000000b51219d4c56be4262dd7d1ca34045f6f5389634bab61e94'</span><span class="p">,</span>
 <span class="s">'last_fork_hash'</span><span class="p">:</span> <span class="s">'00000000000000000aa6462fd9faf94712ce1b5a944dc666f491101c996beab9'</span><span class="p">,</span>
 <span class="s">'unconfirmed_count'</span><span class="p">:</span> <span class="mi">693</span><span class="p">,</span>
 <span class="s">'previous_url'</span><span class="p">:</span> <span class="s">'https://api.blockcypher.com/v1/btc/main/blocks/000000000000000000bf56ff4a81e399374a68344a64d6681039412de78366b8'</span><span class="p">,</span>
 <span class="s">'high_fee_per_kb'</span><span class="p">:</span> <span class="mi">45997</span><span class="p">,</span>
 <span class="s">'medium_fee_per_kb'</span><span class="p">:</span> <span class="mi">29422</span><span class="p">}</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\chain-api\ChainEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\Chain</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$chain</span> <span class="o">=</span> <span class="nx">Chain</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">'BTC.main'</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">{</span>
  <span class="s2">"name"</span><span class="o">:</span><span class="s2">"BTC.main"</span><span class="p">,</span>
  <span class="s2">"height"</span><span class="o">:</span><span class="mi">360602</span><span class="p">,</span>
  <span class="s2">"hash"</span><span class="o">:</span><span class="s2">"00000000000000000a1268afd1eb419817106a37c9a87852228cadb752a64f2a"</span><span class="p">,</span>
  <span class="s2">"time"</span><span class="o">:</span><span class="s2">"2015-06-12T13:09:56.69966089Z"</span><span class="p">,</span>
  <span class="s2">"latest_url"</span><span class="o">:</span><span class="s2">"https://api.blockcypher.com/v1/btc/main/blocks/00000000000000000a1268afd1eb419817106a37c9a87852228cadb752a64f2a"</span><span class="p">,</span>
  <span class="s2">"previous_hash"</span><span class="o">:</span><span class="s2">"00000000000000000cea706491da61bc755a1250d7260becff5aafc9d26613f2"</span><span class="p">,</span>
  <span class="s2">"previous_url"</span><span class="o">:</span><span class="s2">"https://api.blockcypher.com/v1/btc/main/blocks/00000000000000000cea706491da61bc755a1250d7260becff5aafc9d26613f2"</span><span class="p">,</span>
  <span class="s2">"peer_count"</span><span class="o">:</span><span class="mi">250</span><span class="p">,</span>
  <span class="s2">"unconfirmed_count"</span><span class="o">:</span><span class="mi">1794</span><span class="p">,</span>
  <span class="s2">"high_fee_per_kb"</span><span class="o">:</span><span class="mi">40018</span><span class="p">,</span>
  <span class="s2">"medium_fee_per_kb"</span><span class="o">:</span><span class="mi">26652</span><span class="p">,</span>
  <span class="s2">"low_fee_per_kb"</span><span class="o">:</span><span class="mi">12299</span><span class="p">,</span>
  <span class="s2">"last_fork_height"</span><span class="o">:</span><span class="mi">360362</span><span class="p">,</span>
  <span class="s2">"last_fork_hash"</span><span class="o">:</span><span class="s2">"000000000000000002d5cf67bfaa92ba5b371c1590eb48d25031c669ef6233a0"</span>
<span class="p">}</span>
</code></pre>

<p>General information about a blockchain is available by GET-ing the <a href="#restful-resources">base resource</a>.</p>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/</td>
<td>GET</td>
<td><a href="#blockchain">Blockchain</a></td>
</tr>
</tbody></table>

<p>The returned object contains a litany of information about the blockchain, including its height, the time/hash of the latest block, and more.</p>

<p>For more detailed information about the data returned, check the <a href="#blockchain">Blockchain</a> object.</p>

<h2 id="block-hash-endpoint">Block Hash Endpoint</h2>
<pre class="highlight shell"><code>curl https://api.blockcypher.com/v1/btc/main/blocks/0000000000000000189bba3564a63772107b5673c940c16f12662b3e8546b412

<span class="o">{</span>
<span class="s2">"hash"</span>: <span class="s2">"0000000000000000189bba3564a63772107b567..."</span>,
<span class="s2">"height"</span>: 294322,
<span class="s2">"chain"</span>: <span class="s2">"BTC.main"</span>,
<span class="s2">"total"</span>: 1146652915,
<span class="s2">"fees"</span>: 130999,
<span class="s2">"ver"</span>: 2,
<span class="s2">"time"</span>: <span class="s2">"2014-04-05T07:49:18Z"</span>,
<span class="s2">"received_time"</span>: <span class="s2">"2014-04-05T07:49:18Z"</span>,
<span class="s2">"bits"</span>: 419486617,
<span class="s2">"nonce"</span>: 1225187768,
<span class="s2">"n_tx"</span>: 10,
<span class="s2">"prev_block"</span>: <span class="s2">"0000000000000000ced0958bd27720b71d3..."</span>,
<span class="s2">"mrkl_root"</span>: <span class="s2">"359d624d37aee1efa5662b7f5dbc390e996d..."</span>,
<span class="s2">"txids"</span>: <span class="o">[</span>
    <span class="s2">"32b3b86e40d996b1f281e24e8d4af2ceacbf874c403836..."</span>,
    <span class="s2">"1579f716359ba1a207f70248135f5e5fadf539be1dcf53..."</span>,
    ...,
<span class="o">]</span>,
<span class="s2">"depth"</span>: 61793,
<span class="s2">"prev_block_url"</span>: <span class="s2">"https://api.blockcypher.com/v1/btc/main/blocks/0000000000000000ced0958bd27720b71d32c5847e40660aaca39f33c298abb0"</span>,
<span class="s2">"tx_url"</span>: <span class="s2">"https://api.blockcypher.com/v1/btc/main/txs/"</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'https://api.blockcypher.com/v1/btc/main/blocks/0000000000000000189bba3564a63772107b5673c940c16f12662b3e8546b412'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span>
<span class="o">&gt;</span> <span class="p">{</span>
<span class="o">&gt;</span> <span class="s2">"hash"</span><span class="p">:</span> <span class="s2">"0000000000000000189bba3564a63772107b567..."</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"height"</span><span class="p">:</span> <span class="mi">294322</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"chain"</span><span class="p">:</span> <span class="s2">"BTC.main"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"total"</span><span class="p">:</span> <span class="mi">1146652915</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"fees"</span><span class="p">:</span> <span class="mi">130999</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"ver"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"time"</span><span class="p">:</span> <span class="s2">"2014-04-05T07:49:18Z"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"received_time"</span><span class="p">:</span> <span class="s2">"2014-04-05T07:49:18Z"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"bits"</span><span class="p">:</span> <span class="mi">419486617</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"nonce"</span><span class="p">:</span> <span class="mi">1225187768</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"n_tx"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"prev_block"</span><span class="p">:</span> <span class="s2">"0000000000000000ced0958bd27720b71d3..."</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"mrkl_root"</span><span class="p">:</span> <span class="s2">"359d624d37aee1efa5662b7f5dbc390e996d..."</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"txids"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>   <span class="s2">"32b3b86e40d996b1f281e24e8d4af2ceacbf874c403836..."</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"1579f716359ba1a207f70248135f5e5fadf539be1dcf53..."</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="p">...,</span>
<span class="o">&gt;</span> <span class="p">],</span>
<span class="o">&gt;</span> <span class="s2">"depth"</span><span class="p">:</span> <span class="mi">61793</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"prev_block_url"</span><span class="p">:</span> <span class="s2">"https://api.blockcypher.com/v1/btc/main/blocks/0000000000000000ced0958bd27720b71d32c5847e40660aaca39f33c298abb0"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"tx_url"</span><span class="p">:</span> <span class="s2">"https://api.blockcypher.com/v1/btc/main/txs/"</span>
<span class="o">&gt;</span> <span class="p">}</span>
</code></pre>
<pre class="highlight python"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.blockcypher.com/v1/btc/main/blocks/0000000000000000189bba3564a63772107b5673c940c16f12662b3e8546b412'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s">'tx_url'</span><span class="p">:</span> <span class="s">'https://api.blockcypher.com/v1/btc/main/txs/'</span><span class="p">,</span>
 <span class="s">'prev_block'</span><span class="p">:</span> <span class="s">'0000000000000000ced0958bd27720b71d32c5847e40660aaca39f33c298abb0'</span><span class="p">,</span>
 <span class="s">'depth'</span><span class="p">:</span> <span class="mi">65739</span><span class="p">,</span>
 <span class="s">'nonce'</span><span class="p">:</span> <span class="mi">1225187768</span><span class="p">,</span>
 <span class="s">'height'</span><span class="p">:</span> <span class="mi">294322</span><span class="p">,</span>
 <span class="s">'received_time'</span><span class="p">:</span> <span class="s">'2014-04-05T07:49:18Z'</span><span class="p">,</span>
 <span class="s">'mrkl_root'</span><span class="p">:</span> <span class="s">'359d624d37aee1efa5662b7f5dbc390e996d561afc8148e8d716cf6ad765a952'</span><span class="p">,</span>
 <span class="s">'ver'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
 <span class="s">'n_tx'</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
 <span class="s">'prev_block_url'</span><span class="p">:</span> <span class="s">'https://api.blockcypher.com/v1/btc/main/blocks/0000000000000000ced0958bd27720b71d32c5847e40660aaca39f33c298abb0'</span><span class="p">,</span>
 <span class="s">'hash'</span><span class="p">:</span> <span class="s">'0000000000000000189bba3564a63772107b5673c940c16f12662b3e8546b412'</span><span class="p">,</span>
 <span class="s">'chain'</span><span class="p">:</span> <span class="s">'BTC.main'</span><span class="p">,</span>
 <span class="s">'txids'</span><span class="p">:</span> <span class="p">[</span><span class="s">'32b3b86e40d996b1f281e24e8d4af2ceacbf874c4038369cc21baa807409b277'</span><span class="p">,</span>
  <span class="s">'1579f716359ba1a207f70248135f5e5fadf539be1dcf5300613aedcb6577d287'</span><span class="p">,</span>
  <span class="s">'dd1f183348eb41eaaa9ecf8012f9cca3ecbae41a6349f0cc4bfd2b1a497fa3d0'</span><span class="p">,</span>
  <span class="o">...</span><span class="p">,</span>
 <span class="s">'total'</span><span class="p">:</span> <span class="mi">1146652915</span><span class="p">,</span>
 <span class="s">'fees'</span><span class="p">:</span> <span class="mi">130999</span><span class="p">,</span>
 <span class="s">'bits'</span><span class="p">:</span> <span class="mi">419486617</span><span class="p">,</span>
 <span class="s">'time'</span><span class="p">:</span> <span class="s">'2014-04-05T07:49:18Z'</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span> <span class="n">master</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\block-api\BlockHashEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\Block</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$block</span> <span class="o">=</span> <span class="nx">Block</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">'0000000000000000189bba3564a63772107b5673c940c16f12662b3e8546b412'</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">{</span>
  <span class="s2">"hash"</span><span class="o">:</span><span class="s2">"0000000000000000c504bdea36e531d8089d324f2d936c86e3274f97f8a44328"</span><span class="p">,</span>
  <span class="s2">"height"</span><span class="o">:</span><span class="mi">293000</span><span class="p">,</span>
  <span class="s2">"chain"</span><span class="o">:</span><span class="s2">"BTC.main"</span><span class="p">,</span>
  <span class="s2">"total"</span><span class="o">:</span><span class="mi">288801092067</span><span class="p">,</span>
  <span class="s2">"fees"</span><span class="o">:</span><span class="mi">6635337</span><span class="p">,</span>
  <span class="s2">"ver"</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span>
  <span class="s2">"time"</span><span class="o">:</span><span class="s2">"2014-03-29T01:29:19Z"</span><span class="p">,</span>
  <span class="s2">"received_time"</span><span class="o">:</span><span class="s2">"2014-03-29T01:29:19Z"</span><span class="p">,</span>
  <span class="s2">"bits"</span><span class="o">:</span><span class="mi">419486617</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="o">:</span><span class="mi">704197304</span><span class="p">,</span>
  <span class="s2">"n_tx"</span><span class="o">:</span><span class="mi">373</span><span class="p">,</span>
  <span class="s2">"prev_block"</span><span class="o">:</span><span class="s2">"0000000000000000b358b3b54788547080f49ed52392c2ed32a241951e2c9d5f"</span><span class="p">,</span>
  <span class="s2">"mrkl_root"</span><span class="o">:</span><span class="s2">"5edf6a7e92e65d32843a79227042c215b875675fb92ff9613c90d6964fb069cd"</span><span class="p">,</span>
  <span class="s2">"txids"</span><span class="o">:</span><span class="p">[</span>
    <span class="s2">"7f00b52d075b3596cbd37ba5418640ace14a22ed6c5d154c4db5dd80e049b800"</span><span class="p">,</span>
    <span class="s2">"a90d9bc04a4e6be53e0ddc47b043625a0bdc849ef3bc05f551bc05336de3a87c"</span><span class="p">,</span>
    <span class="o">...</span>
  <span class="p">],</span>
  <span class="s2">"depth"</span><span class="o">:</span><span class="mi">67602</span><span class="p">,</span>
  <span class="s2">"prev_block_url"</span><span class="o">:</span><span class="s2">"https://api.blockcypher.com/v1/btc/main/blocks/0000000000000000b358b3b54788547080f49ed52392c2ed32a241951e2c9d5f"</span><span class="p">,</span>
  <span class="s2">"tx_url"</span><span class="o">:</span><span class="s2">"https://api.blockcypher.com/v1/btc/main/txs/"</span><span class="p">,</span>
  <span class="s2">"next_txids"</span><span class="o">:</span><span class="s2">"https://api.blockcypher.com/v1/btc/main/blocks/0000000000000000c504bdea36e531d8089d324f2d936c86e3274f97f8a44328?txstart=20\u0026limit=20"</span>
<span class="p">}</span>
</code></pre>

<p>If you want more data on a particular block, you can use the Block Hash endpoint.</p>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/blocks/$BLOCK_HASH</td>
<td>GET</td>
<td><a href="#block">Block</a></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Flag</th>
<th>Type</th>
<th>Effect</th>
</tr>
</thead><tbody>
<tr>
<td><strong>txstart</strong></td>
<td><em>integer</em></td>
<td>Filters response to only include transaction hashes after <strong>txstart</strong> in the block.</td>
</tr>
<tr>
<td><strong>limit</strong></td>
<td><em>integer</em></td>
<td>Filters response to only include a maximum of <strong>limit</strong> transactions hashes in the block. Maximum value allowed is 200.</td>
</tr>
</tbody></table>

<p>BLOCK_HASH is a <em>string</em> representing the hash of the block you&rsquo;re interested in querying, for example:</p>

<p><code class="prettyprint">0000000000000000189bba3564a63772107b5673c940c16f12662b3e8546b412</code></p>

<p>The returned object contains information about the block, including its height, the total amount of satoshis transacted within it, the number of transactions in it, and much more. For more detail on the data returned, check the <a href="#block">Block</a> object.</p>

<h2 id="block-height-endpoint">Block Height Endpoint</h2>
<pre class="highlight shell"><code>curl https://api.blockcypher.com/v1/btc/main/blocks/294322?txstart<span class="o">=</span>1&amp;limit<span class="o">=</span>1

<span class="o">{</span>
<span class="s2">"hash"</span>: <span class="s2">"0000000000000000189bba3564a63772107b567..."</span>,
<span class="s2">"height"</span>: 294322,
<span class="s2">"chain"</span>: <span class="s2">"BTC.main"</span>,
<span class="s2">"total"</span>: 1146652915,
<span class="s2">"fees"</span>: 130999,
<span class="s2">"ver"</span>: 2,
<span class="s2">"time"</span>: <span class="s2">"2014-04-05T07:49:18Z"</span>,
<span class="s2">"received_time"</span>: <span class="s2">"2014-04-05T07:49:18Z"</span>,
<span class="s2">"bits"</span>: 419486617,
<span class="s2">"nonce"</span>: 1225187768,
<span class="s2">"n_tx"</span>: 10,
<span class="s2">"prev_block"</span>: <span class="s2">"0000000000000000ced0958bd27720b71d3..."</span>,
<span class="s2">"mrkl_root"</span>: <span class="s2">"359d624d37aee1efa5662b7f5dbc390e996d..."</span>,
<span class="s2">"txids"</span>: <span class="o">[</span>
    <span class="s2">"1579f716359ba1a207f70248135f5e5fadf539be1dcf53..."</span>,
<span class="o">]</span>,
<span class="s2">"depth"</span>: 61793,
<span class="s2">"prev_block_url"</span>: <span class="s2">"https://api.blockcypher.com/v1/btc/main/blocks/0000000000000000ced0958bd27720b71d32c5847e40660aaca39f33c298abb0"</span>,
<span class="s2">"tx_url"</span>: <span class="s2">"https://api.blockcypher.com/v1/btc/main/txs/"</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'https://api.blockcypher.com/v1/btc/main/blocks/294322?txstart=1&amp;limit=1'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span>
<span class="o">&gt;</span> <span class="p">{</span>
<span class="o">&gt;</span> <span class="s2">"hash"</span><span class="p">:</span> <span class="s2">"0000000000000000189bba3564a63772107b567..."</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"height"</span><span class="p">:</span> <span class="mi">294322</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"chain"</span><span class="p">:</span> <span class="s2">"BTC.main"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"total"</span><span class="p">:</span> <span class="mi">1146652915</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"fees"</span><span class="p">:</span> <span class="mi">130999</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"ver"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"time"</span><span class="p">:</span> <span class="s2">"2014-04-05T07:49:18Z"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"received_time"</span><span class="p">:</span> <span class="s2">"2014-04-05T07:49:18Z"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"bits"</span><span class="p">:</span> <span class="mi">419486617</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"nonce"</span><span class="p">:</span> <span class="mi">1225187768</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"n_tx"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"prev_block"</span><span class="p">:</span> <span class="s2">"0000000000000000ced0958bd27720b71d3..."</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"mrkl_root"</span><span class="p">:</span> <span class="s2">"359d624d37aee1efa5662b7f5dbc390e996d..."</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"txids"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>   <span class="s2">"1579f716359ba1a207f70248135f5e5fadf539be1dcf53..."</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="p">],</span>
<span class="o">&gt;</span> <span class="s2">"depth"</span><span class="p">:</span> <span class="mi">61793</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"prev_block_url"</span><span class="p">:</span> <span class="s2">"https://api.blockcypher.com/v1/btc/main/blocks/0000000000000000ced0958bd27720b71d32c5847e40660aaca39f33c298abb0"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"tx_url"</span><span class="p">:</span> <span class="s2">"https://api.blockcypher.com/v1/btc/main/txs/"</span>
<span class="o">&gt;</span> <span class="p">}</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Fund existing address with faucet</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s">'txstart'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'limit'</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.blockcypher.com/v1/btc/main/blocks/294322'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s">'tx_url'</span><span class="p">:</span> <span class="s">'https://api.blockcypher.com/v1/btc/main/txs/'</span><span class="p">,</span>
 <span class="s">'prev_block'</span><span class="p">:</span> <span class="s">'0000000000000000ced0958bd27720b71d32c5847e40660aaca39f33c298abb0'</span><span class="p">,</span>
 <span class="s">'depth'</span><span class="p">:</span> <span class="mi">65739</span><span class="p">,</span>
 <span class="s">'nonce'</span><span class="p">:</span> <span class="mi">1225187768</span><span class="p">,</span>
 <span class="s">'height'</span><span class="p">:</span> <span class="mi">294322</span><span class="p">,</span>
 <span class="s">'received_time'</span><span class="p">:</span> <span class="s">'2014-04-05T07:49:18Z'</span><span class="p">,</span>
 <span class="s">'mrkl_root'</span><span class="p">:</span> <span class="s">'359d624d37aee1efa5662b7f5dbc390e996d561afc8148e8d716cf6ad765a952'</span><span class="p">,</span>
 <span class="s">'ver'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
 <span class="s">'n_tx'</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
 <span class="s">'prev_block_url'</span><span class="p">:</span> <span class="s">'https://api.blockcypher.com/v1/btc/main/blocks/0000000000000000ced0958bd27720b71d32c5847e40660aaca39f33c298abb0'</span><span class="p">,</span>
 <span class="s">'hash'</span><span class="p">:</span> <span class="s">'0000000000000000189bba3564a63772107b5673c940c16f12662b3e8546b412'</span><span class="p">,</span>
 <span class="s">'chain'</span><span class="p">:</span> <span class="s">'BTC.main'</span><span class="p">,</span>
 <span class="s">'next_txids'</span><span class="p">:</span> <span class="s">'https://api.blockcypher.com/v1/btc/main/blocks/0000000000000000189bba3564a63772107b5673c940c16f12662b3e8546b412?txstart=2&amp;limit=1'</span><span class="p">,</span>
 <span class="s">'txids'</span><span class="p">:</span> <span class="p">[</span><span class="s">'1579f716359ba1a207f70248135f5e5fadf539be1dcf5300613aedcb6577d287'</span><span class="p">],</span>
 <span class="s">'total'</span><span class="p">:</span> <span class="mi">1146652915</span><span class="p">,</span>
 <span class="s">'fees'</span><span class="p">:</span> <span class="mi">130999</span><span class="p">,</span>
 <span class="s">'bits'</span><span class="p">:</span> <span class="mi">419486617</span><span class="p">,</span>
 <span class="s">'time'</span><span class="p">:</span> <span class="s">'2014-04-05T07:49:18Z'</span><span class="p">}</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\block-api\BlockHeightEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\Block</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$params</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'txstart'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s1">'limit'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">);</span>

<span class="nv">$block</span> <span class="o">=</span> <span class="nx">Block</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">'293000'</span><span class="p">,</span> <span class="nv">$params</span><span class="p">,</span> <span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">{</span>
  <span class="s2">"hash"</span><span class="o">:</span><span class="s2">"0000000000000000c504bdea36e531d8089d324f2d936c86e3274f97f8a44328"</span><span class="p">,</span>
  <span class="s2">"height"</span><span class="o">:</span><span class="mi">293000</span><span class="p">,</span>
  <span class="s2">"chain"</span><span class="o">:</span><span class="s2">"BTC.main"</span><span class="p">,</span>
  <span class="s2">"total"</span><span class="o">:</span><span class="mi">288801092067</span><span class="p">,</span>
  <span class="s2">"fees"</span><span class="o">:</span><span class="mi">6635337</span><span class="p">,</span>
  <span class="s2">"ver"</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span>
  <span class="s2">"time"</span><span class="o">:</span><span class="s2">"2014-03-29T01:29:19Z"</span><span class="p">,</span>
  <span class="s2">"received_time"</span><span class="o">:</span><span class="s2">"2014-03-29T01:29:19Z"</span><span class="p">,</span>
  <span class="s2">"bits"</span><span class="o">:</span><span class="mi">419486617</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="o">:</span><span class="mi">704197304</span><span class="p">,</span>
  <span class="s2">"n_tx"</span><span class="o">:</span><span class="mi">373</span><span class="p">,</span>
  <span class="s2">"prev_block"</span><span class="o">:</span><span class="s2">"0000000000000000b358b3b54788547080f49ed52392c2ed32a241951e2c9d5f"</span><span class="p">,</span>
  <span class="s2">"mrkl_root"</span><span class="o">:</span><span class="s2">"5edf6a7e92e65d32843a79227042c215b875675fb92ff9613c90d6964fb069cd"</span><span class="p">,</span>
  <span class="s2">"txids"</span><span class="o">:</span><span class="p">[</span>
    <span class="s2">"a90d9bc04a4e6be53e0ddc47b043625a0bdc849ef3bc05f551bc05336de3a87c"</span>
  <span class="p">],</span>
  <span class="s2">"depth"</span><span class="o">:</span><span class="mi">67602</span><span class="p">,</span>
  <span class="s2">"prev_block_url"</span><span class="o">:</span><span class="s2">"https://api.blockcypher.com/v1/btc/main/blocks/0000000000000000b358b3b54788547080f49ed52392c2ed32a241951e2c9d5f"</span><span class="p">,</span>
  <span class="s2">"tx_url"</span><span class="o">:</span><span class="s2">"https://api.blockcypher.com/v1/btc/main/txs/"</span><span class="p">,</span>
  <span class="s2">"next_txids"</span><span class="o">:</span><span class="s2">"https://api.blockcypher.com/v1/btc/main/blocks/0000000000000000c504bdea36e531d8089d324f2d936c86e3274f97f8a44328?txstart=2\u0026limit=1"</span>
<span class="p">}</span>
</code></pre>

<p>You can also query for information on a block using its height, using the same resource but with a different variable type.</p>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/blocks/$BLOCK_HEIGHT</td>
<td>GET</td>
<td><a href="#block">Block</a></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Flag</th>
<th>Type</th>
<th>Effect</th>
</tr>
</thead><tbody>
<tr>
<td><strong>txstart</strong></td>
<td><em>integer</em></td>
<td>Filters response to only include transaction hashes after <strong>txstart</strong> in the block.</td>
</tr>
<tr>
<td><strong>limit</strong></td>
<td><em>integer</em></td>
<td>Filters response to only include a maximum of <strong>limit</strong> transactions hashes in the block. Maximum value allowed is 200.</td>
</tr>
</tbody></table>

<p>BLOCK_HEIGHT is an <em>integer</em> representing the height of the block you&rsquo;re interested in querying, for example:</p>

<p><code class="prettyprint">294322</code></p>

<p>As above, the returned object contains information about the block, including its hash, the total amount of satoshis transacted within it, the number of transactions in it, and much more. For more detail on the data returned, check the <a href="#block">Block</a> object.</p>

<aside class="warning">
With recent blocks, $BLOCK_HEIGHT is not always a unique identifier to a particular block (due to the possibility of soft forks and the nature of the consensus model with blockchains). If you&rsquo;re querying blocks with <b>depth above 10</b> the height should be a safe identifier.
</aside>

          <h1 id="address-api">Address API</h1>

<p>BlockCypher&rsquo;s Address API allows you to look up information about public addresses on the blockchain, generate single-use, low-value key pairs with corresponding addresses, help generate multisig addresses, and collect multiple addresses into a single shortcut for address viewing, all <a href="#restful-resources">based on the coin/chain resource</a> you&rsquo;ve selected for your endpoints.</p>

<p>If you&rsquo;re new to blockchains, you can think of public addresses as similar to bank account numbers in a traditional ledger. The biggest differences:</p>

<ul>
<li>Anyone can generate a public address themselves (through <a href="https://en.wikipedia.org/wiki/Elliptic_Curve_Digital_Signature_Algorithm">ECDSA</a> in Bitcoin). No single authority is needed to generate new addresses; it&rsquo;s just public-private key cryptography.</li>
<li>Public addresses are significantly more lightweight. Consequently, and unlike traditional bank accounts, you can (and should!) generate new addresses for every transaction.</li>
<li>Addresses can also leverage <a href="https://en.bitcoin.it/wiki/Pay_to_script_hash"><em>pay-to-script-hash</em></a>, which means they can represent exotic things beyond a single private-public key pair; the most prominent example being multi-signature addresses that require n-of-m signatures to spend.</li>
</ul>

<h2 id="address-balance-endpoint">Address Balance Endpoint</h2>
<pre class="highlight shell"><code>curl http://api.blockcypher.com/v1/btc/main/addrs/1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD/balance

<span class="o">{</span>
<span class="s2">"address"</span>: <span class="s2">"1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD"</span>,
<span class="s2">"total_received"</span>: 4433416,
<span class="s2">"total_sent"</span>: 0,
<span class="s2">"balance"</span>: 4433416,
<span class="s2">"unconfirmed_balance"</span>: 0,
<span class="s2">"final_balance"</span>: 4433416,
<span class="s2">"n_tx"</span>: 7,
<span class="s2">"unconfirmed_n_tx"</span>: 0,
<span class="s2">"final_n_tx"</span>: 7
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'https://api.blockcypher.com/v1/btc/main/addrs/1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD/balance'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span>
<span class="o">&gt;</span> <span class="p">{</span>
<span class="o">&gt;</span>   <span class="s2">"address"</span><span class="p">:</span> <span class="s2">"1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"total_received"</span><span class="p">:</span> <span class="mi">4433416</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"total_sent"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"balance"</span><span class="p">:</span> <span class="mi">4433416</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"unconfirmed_balance"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"final_balance"</span><span class="p">:</span> <span class="mi">4433416</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"n_tx"</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"unconfirmed_n_tx"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"final_n_tx"</span><span class="p">:</span> <span class="mi">7</span>
<span class="o">&gt;</span> <span class="p">}</span>
</code></pre>
<pre class="highlight python"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'http://api.blockcypher.com/v1/btc/main/addrs/1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD/balance'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s">'n_tx'</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
 <span class="s">'total_received'</span><span class="p">:</span> <span class="mi">4433416</span><span class="p">,</span>
 <span class="s">'final_n_tx'</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
 <span class="s">'total_sent'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
 <span class="s">'balance'</span><span class="p">:</span> <span class="mi">4433416</span><span class="p">,</span>
 <span class="s">'final_balance'</span><span class="p">:</span> <span class="mi">4433416</span><span class="p">,</span>
 <span class="s">'unconfirmed_balance'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
 <span class="s">'address'</span><span class="p">:</span> <span class="s">'1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD'</span><span class="p">,</span>
 <span class="s">'unconfirmed_n_tx'</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\address-api\AddressBalanceEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\Address</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$addressBalance</span> <span class="o">=</span> <span class="nx">Address</span><span class="o">::</span><span class="na">getOnlyBalance</span><span class="p">(</span><span class="s1">'1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD'</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">{</span>
  <span class="s2">"address"</span><span class="o">:</span><span class="s2">"1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD"</span><span class="p">,</span>
  <span class="s2">"total_received"</span><span class="o">:</span><span class="mi">4433416</span><span class="p">,</span>
  <span class="s2">"total_sent"</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span>
  <span class="s2">"balance"</span><span class="o">:</span><span class="mi">4433416</span><span class="p">,</span>
  <span class="s2">"unconfirmed_balance"</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span>
  <span class="s2">"final_balance"</span><span class="o">:</span><span class="mi">4433416</span><span class="p">,</span>
  <span class="s2">"n_tx"</span><span class="o">:</span><span class="mi">7</span><span class="p">,</span>
  <span class="s2">"unconfirmed_n_tx"</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span>
  <span class="s2">"final_n_tx"</span><span class="o">:</span><span class="mi">7</span>
<span class="p">}</span>
</code></pre>

<p>The Address Balance Endpoint is the simplest&mdash;and fastest&mdash;method to get a subset of information on a public address.</p>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/addrs/$ADDRESS/balance</td>
<td>GET</td>
<td><a href="#address">Address</a></td>
</tr>
</tbody></table>

<p>ADDRESS is a <em>string</em> representing the public address (or wallet name) you&rsquo;re interested in querying, for example:</p>

<p><code class="prettyprint">1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD</code></p>

<p>The returned object contains information about the address, including its balance in satoshis and the number of transactions associated with it. The endpoint omits any detailed transaction information, but if that isn&rsquo;t required by your application, then it&rsquo;s the fastest and preferred way to get public address information.</p>

<h2 id="address-endpoint">Address Endpoint</h2>
<pre class="highlight shell"><code>curl http://api.blockcypher.com/v1/btc/main/addrs/1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD

<span class="o">{</span>
<span class="s2">"address"</span>: <span class="s2">"1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD"</span>,
<span class="s2">"total_received"</span>: 4433416,
<span class="s2">"total_sent"</span>: 0,
<span class="s2">"balance"</span>: 4433416,
<span class="s2">"unconfirmed_balance"</span>: 0,
<span class="s2">"final_balance"</span>: 4433416,
<span class="s2">"n_tx"</span>: 7,
<span class="s2">"unconfirmed_n_tx"</span>: 0,
<span class="s2">"final_n_tx"</span>: 7,
<span class="s2">"txrefs"</span>: <span class="o">[</span>
    <span class="o">{</span>
    <span class="s2">"tx_hash"</span>: <span class="s2">"14b1052855bbf6561bc4db8aa501762..."</span>,
    <span class="s2">"block_height"</span>: 302013,
    <span class="s2">"tx_input_n"</span>: -1,
    <span class="s2">"tx_output_n"</span>: 0,
    <span class="s2">"value"</span>: 20213,
    <span class="s2">"spent"</span>: <span class="nb">false</span>,
    <span class="s2">"confirmations"</span>: 55061,
    <span class="s2">"confirmed"</span>: <span class="s2">"2014-05-22T03:46:25Z"</span>,
    <span class="s2">"double_spend"</span>: <span class="nb">false</span>
    <span class="o">}</span>,
    <span class="o">{</span>
    <span class="s2">"tx_hash"</span>: <span class="s2">"4cff011ec53022f2ae47197d1a2fd4a6..."</span>,
    <span class="s2">"block_height"</span>: 302002,
    <span class="s2">"tx_input_n"</span>: -1,
    <span class="s2">"tx_output_n"</span>: 0,
    <span class="s2">"value"</span>: 40596,
    <span class="s2">"spent"</span>: <span class="nb">false</span>,
    <span class="s2">"confirmations"</span>: 55072,
    <span class="s2">"confirmed"</span>: <span class="s2">"2014-05-22T02:56:08Z"</span>,
    <span class="s2">"double_spend"</span>: <span class="nb">false</span>
    <span class="o">}</span>,
...
<span class="o">]</span>,
<span class="s2">"tx_url"</span>: <span class="s2">"https://api.blockcypher.com/v1/btc/main/txs/"</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'https://api.blockcypher.com/v1/btc/main/addrs/1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span>
<span class="o">&gt;</span> <span class="p">{</span>
<span class="o">&gt;</span> <span class="s2">"address"</span><span class="p">:</span> <span class="s2">"1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"total_received"</span><span class="p">:</span> <span class="mi">4433416</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"total_sent"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"balance"</span><span class="p">:</span> <span class="mi">4433416</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"unconfirmed_balance"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"final_balance"</span><span class="p">:</span> <span class="mi">4433416</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"n_tx"</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"unconfirmed_n_tx"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"final_n_tx"</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"txrefs"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>   <span class="p">{</span>
<span class="o">&gt;</span>   <span class="s2">"tx_hash"</span><span class="p">:</span> <span class="s2">"14b1052855bbf6561bc4db8aa501762..."</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"block_height"</span><span class="p">:</span> <span class="mi">302013</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"tx_input_n"</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"tx_output_n"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"value"</span><span class="p">:</span> <span class="mi">20213</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"spent"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"confirmations"</span><span class="p">:</span> <span class="mi">55061</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"confirmed"</span><span class="p">:</span> <span class="s2">"2014-05-22T03:46:25Z"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"double_spend"</span><span class="p">:</span> <span class="kc">false</span>
<span class="o">&gt;</span>   <span class="p">},</span>
<span class="o">&gt;</span>   <span class="p">{</span>
<span class="o">&gt;</span>   <span class="s2">"tx_hash"</span><span class="p">:</span> <span class="s2">"4cff011ec53022f2ae47197d1a2fd4a6..."</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"block_height"</span><span class="p">:</span> <span class="mi">302002</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"tx_input_n"</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"tx_output_n"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"value"</span><span class="p">:</span> <span class="mi">40596</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"spent"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"confirmations"</span><span class="p">:</span> <span class="mi">55072</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"confirmed"</span><span class="p">:</span> <span class="s2">"2014-05-22T02:56:08Z"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"double_spend"</span><span class="p">:</span> <span class="kc">false</span>
<span class="o">&gt;</span>   <span class="p">},</span>
<span class="o">&gt;</span> <span class="p">...</span>
<span class="o">&gt;</span> <span class="p">],</span>
<span class="o">&gt;</span> <span class="s2">"tx_url"</span><span class="p">:</span> <span class="s2">"https://api.blockcypher.com/v1/btc/main/txs/"</span>
<span class="o">&gt;</span> <span class="p">}</span>
</code></pre>
<pre class="highlight python"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'http://api.blockcypher.com/v1/btc/main/addrs/1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s">'txrefs'</span><span class="p">:</span> <span class="p">[{</span><span class="s">'spent'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
   <span class="s">'value'</span><span class="p">:</span> <span class="mi">20213</span><span class="p">,</span>
   <span class="s">'block_height'</span><span class="p">:</span> <span class="mi">302013</span><span class="p">,</span>
   <span class="s">'tx_output_n'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
   <span class="s">'double_spend'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
   <span class="s">'tx_input_n'</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
   <span class="s">'tx_hash'</span><span class="p">:</span> <span class="s">'14b1052855bbf6561bc4db8aa501762e7cc1e86994dda9e782a6b73b1ce0dc1e'</span><span class="p">,</span>
   <span class="s">'confirmed'</span><span class="p">:</span> <span class="s">'2014-05-22T03:46:25Z'</span><span class="p">,</span>
   <span class="s">'confirmations'</span><span class="p">:</span> <span class="mi">58033</span><span class="p">},</span>
   <span class="o">...</span><span class="p">,</span> <span class="p">],</span>
 <span class="s">'n_tx'</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
 <span class="s">'total_received'</span><span class="p">:</span> <span class="mi">4433416</span><span class="p">,</span>
 <span class="s">'final_n_tx'</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
 <span class="s">'total_sent'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
 <span class="s">'balance'</span><span class="p">:</span> <span class="mi">4433416</span><span class="p">,</span>
 <span class="s">'final_balance'</span><span class="p">:</span> <span class="mi">4433416</span><span class="p">,</span>
 <span class="s">'tx_url'</span><span class="p">:</span> <span class="s">'https://api.blockcypher.com/v1/btc/main/txs/'</span><span class="p">,</span>
 <span class="s">'unconfirmed_balance'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
 <span class="s">'address'</span><span class="p">:</span> <span class="s">'1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD'</span><span class="p">,</span>
 <span class="s">'unconfirmed_n_tx'</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\address-api\AddressEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\Address</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$address</span> <span class="o">=</span> <span class="nx">Address</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">'1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD'</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">{</span>
  <span class="s2">"address"</span><span class="o">:</span><span class="s2">"1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD"</span><span class="p">,</span>
  <span class="s2">"total_received"</span><span class="o">:</span><span class="mi">4433416</span><span class="p">,</span>
  <span class="s2">"total_sent"</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span>
  <span class="s2">"balance"</span><span class="o">:</span><span class="mi">4433416</span><span class="p">,</span>
  <span class="s2">"unconfirmed_balance"</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span>
  <span class="s2">"final_balance"</span><span class="o">:</span><span class="mi">4433416</span><span class="p">,</span>
  <span class="s2">"n_tx"</span><span class="o">:</span><span class="mi">7</span><span class="p">,</span>
  <span class="s2">"unconfirmed_n_tx"</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span>
  <span class="s2">"final_n_tx"</span><span class="o">:</span><span class="mi">7</span><span class="p">,</span>
  <span class="s2">"txrefs"</span><span class="o">:</span><span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"tx_hash"</span><span class="o">:</span><span class="s2">"14b1052855bbf6561bc4db8aa501762e7cc1e86994dda9e782a6b73b1ce0dc1e"</span><span class="p">,</span>
      <span class="s2">"block_height"</span><span class="o">:</span><span class="mi">302013</span><span class="p">,</span>
      <span class="s2">"tx_input_n"</span><span class="o">:-</span><span class="mi">1</span><span class="p">,</span>
      <span class="s2">"tx_output_n"</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span>
      <span class="s2">"value"</span><span class="o">:</span><span class="mi">20213</span><span class="p">,</span>
      <span class="s2">"spent"</span><span class="o">:</span><span class="kc">false</span><span class="p">,</span>
      <span class="s2">"confirmations"</span><span class="o">:</span><span class="mi">58584</span><span class="p">,</span>
      <span class="s2">"confirmed"</span><span class="o">:</span><span class="s2">"2014-05-22T03:46:25Z"</span><span class="p">,</span>
      <span class="s2">"double_spend"</span><span class="o">:</span><span class="kc">false</span>
    <span class="p">},</span>
    <span class="o">...</span>
  <span class="p">],</span>
  <span class="s2">"tx_url"</span><span class="o">:</span><span class="s2">"https://api.blockcypher.com/v1/btc/main/txs/"</span>
<span class="p">}</span>
</code></pre>

<p>The default Address Endpoint strikes a balance between speed of response and data on Addresses. It returns more information about an address&rsquo; transactions than the <a href="#address-balance-endpoint">Address Balance Endpoint</a> but doesn&rsquo;t return full transaction information (like the <a href="#address-full-endpoint">Address Full Endpoint</a>).</p>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/addrs/$ADDRESS</td>
<td>GET</td>
<td><a href="#address">Address</a></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Flag</th>
<th>Type</th>
<th>Effect</th>
</tr>
</thead><tbody>
<tr>
<td><strong>unspentOnly</strong></td>
<td><em>bool</em></td>
<td>If <strong>unspentOnly</strong> is <em>true</em>, filters response to only include unspent transaction outputs (UTXOs).</td>
</tr>
<tr>
<td><strong>before</strong></td>
<td><em>integer</em></td>
<td>Filters response to only include transactions below <strong>before</strong> height in the blockchain.</td>
</tr>
</tbody></table>

<p>ADDRESS is a <em>string</em> representing the public address (or wallet name) you&rsquo;re interested in querying, for example:</p>

<p><code class="prettyprint">1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD</code></p>

<p>The returned object contains information about the address, including its balance in satoshis, the number of transactions associated with it, and transaction inputs/outputs.</p>

<h2 id="address-full-endpoint">Address Full Endpoint</h2>
<pre class="highlight shell"><code>curl http://api.blockcypher.com/v1/btc/main/addrs/1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD/full?before<span class="o">=</span>300000

<span class="o">{</span>
<span class="s2">"address"</span>: <span class="s2">"1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD"</span>,
<span class="s2">"total_received"</span>: 4433416,
<span class="s2">"total_sent"</span>: 0,
<span class="s2">"balance"</span>: 4433416,
<span class="s2">"unconfirmed_balance"</span>: 0,
<span class="s2">"final_balance"</span>: 4433416,
<span class="s2">"n_tx"</span>: 7,
<span class="s2">"unconfirmed_n_tx"</span>: 0,
<span class="s2">"final_n_tx"</span>: 7,
<span class="s2">"txs"</span>: <span class="o">[</span>
    <span class="o">{</span>
    <span class="s2">"block_hash"</span>: <span class="s2">"0000000000000000af64802c79..."</span>,
    <span class="s2">"block_height"</span>: 292586,
    <span class="s2">"hash"</span>: <span class="s2">"b4735a0690dab16b8789fceaf81c511f..."</span>,
    <span class="s2">"addresses"</span>: <span class="o">[</span>
        <span class="s2">"18KXZzuC3xvz6upUMQpsZzXrBwNPWZjdSa"</span>,
        <span class="s2">"1AAuRETEcHDqL4VM3R97aZHP8DSUHxpkFV"</span>,
        <span class="s2">"1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD"</span>,
        <span class="s2">"1VxsEDjo6ZLMT99dpcLu4RQonMDVEQQTG"</span>
    <span class="o">]</span>,
    <span class="s2">"total"</span>: 3537488,
    <span class="s2">"fees"</span>: 20000,
    <span class="s2">"size"</span>: 438,
    <span class="s2">"preference"</span>: <span class="s2">"medium"</span>,
    <span class="s2">"relayed_by"</span>: <span class="s2">""</span>,
    <span class="s2">"confirmed"</span>: <span class="s2">"2014-03-26T17:08:04Z"</span>,
    <span class="s2">"received"</span>: <span class="s2">"2014-03-26T17:08:04Z"</span>,
    <span class="s2">"ver"</span>: 1,
    <span class="s2">"lock_time"</span>: 0,
    <span class="s2">"double_spend"</span>: <span class="nb">false</span>,
    <span class="s2">"vin_sz"</span>: 2,
    <span class="s2">"vout_sz"</span>: 2,
    <span class="s2">"confirmations"</span>: 64492,
    <span class="s2">"confidence"</span>: 1,
    <span class="s2">"inputs"</span>: <span class="o">[</span>
        <span class="o">{</span>
        <span class="s2">"prev_hash"</span>: <span class="s2">"729f6469b59fea5da7..."</span>,
        <span class="s2">"output_index"</span>: 0,
        <span class="s2">"script"</span>: <span class="s2">"483045022100d06cdad1a..."</span>,
        <span class="s2">"output_value"</span>: 3500000,
        <span class="s2">"sequence"</span>: 4294967295,
        <span class="s2">"addresses"</span>: <span class="o">[</span>
            <span class="s2">"1VxsEDjo6ZLMT99dpcLu4RQonMDVEQQTG"</span>
        <span class="o">]</span>,
        <span class="s2">"script_type"</span>: <span class="s2">"pay-to-pubkey-hash"</span>
        <span class="o">}</span>,
        ...
    <span class="o">]</span>,
    <span class="s2">"outputs"</span>: <span class="o">[</span>
        <span class="o">{</span>
        <span class="s2">"value"</span>: 3500000,
        <span class="s2">"script"</span>: <span class="s2">"76a9148629647bd642a237..."</span>,
        <span class="s2">"addresses"</span>: <span class="o">[</span>
            <span class="s2">"1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD"</span>
        <span class="o">]</span>,
        <span class="s2">"script_type"</span>: <span class="s2">"pay-to-pubkey-hash"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
        <span class="s2">"value"</span>: 37488,
        <span class="s2">"script"</span>: <span class="s2">"76a9145049e2ad94ed9c68..."</span>,
        <span class="s2">"spent_by"</span>: <span class="s2">"3ebe4bb294beaed58aca83..."</span>,
        <span class="s2">"addresses"</span>: <span class="o">[</span>
            <span class="s2">"18KXZzuC3xvz6upUMQpsZzXrBwNPWZjdSa"</span>
        <span class="o">]</span>,
        <span class="s2">"script_type"</span>: <span class="s2">"pay-to-pubkey-hash"</span>
        <span class="o">}</span>
    <span class="o">]</span>
    <span class="o">}</span>,
    ...,
<span class="o">]</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'https://api.blockcypher.com/v1/btc/main/addrs/1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD/full?before=300000'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span>
<span class="o">&gt;</span> <span class="p">{</span>
<span class="o">&gt;</span> <span class="s2">"address"</span><span class="p">:</span> <span class="s2">"1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"total_received"</span><span class="p">:</span> <span class="mi">4433416</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"total_sent"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"balance"</span><span class="p">:</span> <span class="mi">4433416</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"unconfirmed_balance"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"final_balance"</span><span class="p">:</span> <span class="mi">4433416</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"n_tx"</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"unconfirmed_n_tx"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"final_n_tx"</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"txs"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>   <span class="p">{</span>
<span class="o">&gt;</span>   <span class="s2">"block_hash"</span><span class="p">:</span> <span class="s2">"0000000000000000af64802c79..."</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"block_height"</span><span class="p">:</span> <span class="mi">292586</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"hash"</span><span class="p">:</span> <span class="s2">"b4735a0690dab16b8789fceaf81c511f..."</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>       <span class="s2">"18KXZzuC3xvz6upUMQpsZzXrBwNPWZjdSa"</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"1AAuRETEcHDqL4VM3R97aZHP8DSUHxpkFV"</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD"</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"1VxsEDjo6ZLMT99dpcLu4RQonMDVEQQTG"</span>
<span class="o">&gt;</span>   <span class="p">],</span>
<span class="o">&gt;</span>   <span class="s2">"total"</span><span class="p">:</span> <span class="mi">3537488</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"fees"</span><span class="p">:</span> <span class="mi">20000</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"size"</span><span class="p">:</span> <span class="mi">438</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"preference"</span><span class="p">:</span> <span class="s2">"medium"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"relayed_by"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"confirmed"</span><span class="p">:</span> <span class="s2">"2014-03-26T17:08:04Z"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"received"</span><span class="p">:</span> <span class="s2">"2014-03-26T17:08:04Z"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"ver"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"lock_time"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"double_spend"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"vin_sz"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"vout_sz"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"confirmations"</span><span class="p">:</span> <span class="mi">64492</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"confidence"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"inputs"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>       <span class="p">{</span>
<span class="o">&gt;</span>       <span class="s2">"prev_hash"</span><span class="p">:</span> <span class="s2">"729f6469b59fea5da7..."</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"output_index"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"script"</span><span class="p">:</span> <span class="s2">"483045022100d06cdad1a..."</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"output_value"</span><span class="p">:</span> <span class="mi">3500000</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"sequence"</span><span class="p">:</span> <span class="mi">4294967295</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>           <span class="s2">"1VxsEDjo6ZLMT99dpcLu4RQonMDVEQQTG"</span>
<span class="o">&gt;</span>       <span class="p">],</span>
<span class="o">&gt;</span>       <span class="s2">"script_type"</span><span class="p">:</span> <span class="s2">"pay-to-pubkey-hash"</span>
<span class="o">&gt;</span>       <span class="p">},</span>
<span class="o">&gt;</span>       <span class="p">...</span>
<span class="o">&gt;</span>   <span class="p">],</span>
<span class="o">&gt;</span>   <span class="s2">"outputs"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>       <span class="p">{</span>
<span class="o">&gt;</span>       <span class="s2">"value"</span><span class="p">:</span> <span class="mi">3500000</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"script"</span><span class="p">:</span> <span class="s2">"76a9148629647bd642a237..."</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>           <span class="s2">"1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD"</span>
<span class="o">&gt;</span>       <span class="p">],</span>
<span class="o">&gt;</span>       <span class="s2">"script_type"</span><span class="p">:</span> <span class="s2">"pay-to-pubkey-hash"</span>
<span class="o">&gt;</span>       <span class="p">},</span>
<span class="o">&gt;</span>       <span class="p">{</span>
<span class="o">&gt;</span>       <span class="s2">"value"</span><span class="p">:</span> <span class="mi">37488</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"script"</span><span class="p">:</span> <span class="s2">"76a9145049e2ad94ed9c68..."</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"spent_by"</span><span class="p">:</span> <span class="s2">"3ebe4bb294beaed58aca83..."</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>           <span class="s2">"18KXZzuC3xvz6upUMQpsZzXrBwNPWZjdSa"</span>
<span class="o">&gt;</span>       <span class="p">],</span>
<span class="o">&gt;</span>       <span class="s2">"script_type"</span><span class="p">:</span> <span class="s2">"pay-to-pubkey-hash"</span>
<span class="o">&gt;</span>       <span class="p">}</span>
<span class="o">&gt;</span>   <span class="p">]</span>
<span class="o">&gt;</span>   <span class="p">},</span>
<span class="o">&gt;</span>   <span class="p">...,</span>
<span class="o">&gt;</span> <span class="p">]</span>
<span class="o">&gt;</span> <span class="p">}</span>
</code></pre>
<pre class="highlight python"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">json</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">'before'</span><span class="p">:</span> <span class="mi">300000</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'http://api.blockcypher.com/v1/btc/main/addrs/1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD/full'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s">'txs'</span><span class="p">:</span> <span class="p">[{</span><span class="s">'size'</span><span class="p">:</span> <span class="mi">438</span><span class="p">,</span>
   <span class="s">'double_spend'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
   <span class="s">'total'</span><span class="p">:</span> <span class="mi">3537488</span><span class="p">,</span>
   <span class="s">'preference'</span><span class="p">:</span> <span class="s">'medium'</span><span class="p">,</span>
   <span class="s">'confidence'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
   <span class="s">'fees'</span><span class="p">:</span> <span class="mi">20000</span><span class="p">,</span>
   <span class="s">'block_hash'</span><span class="p">:</span> <span class="s">'0000000000000000af64802c79f9b22e9091eb5548b4b662d5e444e61885923b'</span><span class="p">,</span>
   <span class="s">'vin_sz'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
   <span class="s">'ver'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
   <span class="s">'relayed_by'</span><span class="p">:</span> <span class="s">''</span><span class="p">,</span>
   <span class="s">'block_height'</span><span class="p">:</span> <span class="mi">292586</span><span class="p">,</span>
   <span class="s">'lock_time'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
   <span class="s">'vout_sz'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
   <span class="s">'hash'</span><span class="p">:</span> <span class="s">'b4735a0690dab16b8789fceaf81c511f3be484e319f684cc214380eaa2851030'</span><span class="p">,</span>
   <span class="s">'addresses'</span><span class="p">:</span> <span class="p">[</span><span class="s">'18KXZzuC3xvz6upUMQpsZzXrBwNPWZjdSa'</span><span class="p">,</span>
    <span class="s">'1AAuRETEcHDqL4VM3R97aZHP8DSUHxpkFV'</span><span class="p">,</span>
    <span class="s">'1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD'</span><span class="p">,</span>
    <span class="s">'1VxsEDjo6ZLMT99dpcLu4RQonMDVEQQTG'</span><span class="p">],</span>
   <span class="s">'inputs'</span><span class="p">:</span> <span class="p">[{</span><span class="s">'script_type'</span><span class="p">:</span> <span class="s">'pay-to-pubkey-hash'</span><span class="p">,</span>
     <span class="s">'prev_hash'</span><span class="p">:</span> <span class="s">'729f6469b59fea5da77457f3291e2623c2516e3e8e7afc782687c6d59f4c5e41'</span><span class="p">,</span>
     <span class="s">'script'</span><span class="p">:</span> <span class="s">'483045022100d06cdad1a54081e8499a4117f9f52d7fbc83c679dda7e3c22c08e964915b7354022010a2d6af1601d28d33a456dab2bccf3fbde35b2f3a9db82f72d675c90d015571014104672a00c8ee6fa23d68094dd98188ea1491848498554a10e13194851b614168b225b28b7f5a1c6ba98b5463438ef030c48b60533031ff2de84104e549d8d06ea9'</span><span class="p">,</span>
     <span class="s">'addresses'</span><span class="p">:</span> <span class="p">[</span><span class="s">'1VxsEDjo6ZLMT99dpcLu4RQonMDVEQQTG'</span><span class="p">],</span>
     <span class="s">'sequence'</span><span class="p">:</span> <span class="mi">4294967295</span><span class="p">,</span>
     <span class="s">'output_value'</span><span class="p">:</span> <span class="mi">3500000</span><span class="p">,</span>
     <span class="s">'output_index'</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span>
     <span class="o">...</span><span class="p">],</span>
   <span class="s">'confirmations'</span><span class="p">:</span> <span class="mi">67460</span><span class="p">,</span>
   <span class="s">'received'</span><span class="p">:</span> <span class="s">'2014-03-26T17:08:04Z'</span><span class="p">,</span>
   <span class="s">'confirmed'</span><span class="p">:</span> <span class="s">'2014-03-26T17:08:04Z'</span><span class="p">,</span>
   <span class="s">'outputs'</span><span class="p">:</span> <span class="p">[{</span><span class="s">'addresses'</span><span class="p">:</span> <span class="p">[</span><span class="s">'1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD'</span><span class="p">],</span>
     <span class="s">'value'</span><span class="p">:</span> <span class="mi">3500000</span><span class="p">,</span>
     <span class="s">'script'</span><span class="p">:</span> <span class="s">'76a9148629647bd642a2372d846a7660e210c8414f047c88ac'</span><span class="p">,</span>
     <span class="s">'script_type'</span><span class="p">:</span> <span class="s">'pay-to-pubkey-hash'</span><span class="p">},</span>
     <span class="o">...</span><span class="p">]},</span>
   <span class="o">...</span><span class="p">,],</span>
 <span class="s">'n_tx'</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
 <span class="s">'total_received'</span><span class="p">:</span> <span class="mi">4433416</span><span class="p">,</span>
 <span class="s">'final_n_tx'</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
 <span class="s">'total_sent'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
 <span class="s">'balance'</span><span class="p">:</span> <span class="mi">4433416</span><span class="p">,</span>
 <span class="s">'final_balance'</span><span class="p">:</span> <span class="mi">4433416</span><span class="p">,</span>
 <span class="s">'unconfirmed_balance'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
 <span class="s">'address'</span><span class="p">:</span> <span class="s">'1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD'</span><span class="p">,</span>
 <span class="s">'unconfirmed_n_tx'</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\address-api\AddressFullEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\Address</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$fullAddress</span> <span class="o">=</span> <span class="nx">Address</span><span class="o">::</span><span class="na">getFullAddress</span><span class="p">(</span><span class="s1">'1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD'</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">{</span>
  <span class="s2">"address"</span><span class="o">:</span><span class="s2">"1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD"</span><span class="p">,</span>
  <span class="s2">"total_received"</span><span class="o">:</span><span class="mi">4433416</span><span class="p">,</span>
  <span class="s2">"total_sent"</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span>
  <span class="s2">"balance"</span><span class="o">:</span><span class="mi">4433416</span><span class="p">,</span>
  <span class="s2">"unconfirmed_balance"</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span>
  <span class="s2">"final_balance"</span><span class="o">:</span><span class="mi">4433416</span><span class="p">,</span>
  <span class="s2">"n_tx"</span><span class="o">:</span><span class="mi">7</span><span class="p">,</span>
  <span class="s2">"unconfirmed_n_tx"</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span>
  <span class="s2">"final_n_tx"</span><span class="o">:</span><span class="mi">7</span><span class="p">,</span>
  <span class="s2">"txs"</span><span class="o">:</span><span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"block_hash"</span><span class="o">:</span><span class="s2">"00000000000000006548ac8dc283c97e8165023dc1fdbbca2eaa75f0143f4a8c"</span><span class="p">,</span>
      <span class="s2">"block_height"</span><span class="o">:</span><span class="mi">302013</span><span class="p">,</span>
      <span class="s2">"hash"</span><span class="o">:</span><span class="s2">"14b1052855bbf6561bc4db8aa501762e7cc1e86994dda9e782a6b73b1ce0dc1e"</span><span class="p">,</span>
      <span class="s2">"addresses"</span><span class="o">:</span><span class="p">[</span>
        <span class="s2">"17astdTmG8zzVmry8mV8A7atAr3XefEgRX"</span><span class="p">,</span>
        <span class="s2">"1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD"</span>
      <span class="p">],</span>
      <span class="s2">"total"</span><span class="o">:</span><span class="mi">8835413</span><span class="p">,</span>
      <span class="s2">"fees"</span><span class="o">:</span><span class="mi">10000</span><span class="p">,</span>
      <span class="s2">"size"</span><span class="o">:</span><span class="mi">258</span><span class="p">,</span>
      <span class="s2">"preference"</span><span class="o">:</span><span class="s2">"medium"</span><span class="p">,</span>
      <span class="s2">"relayed_by"</span><span class="o">:</span><span class="s2">""</span><span class="p">,</span>
      <span class="s2">"confirmed"</span><span class="o">:</span><span class="s2">"2014-05-22T03:46:25Z"</span><span class="p">,</span>
      <span class="s2">"received"</span><span class="o">:</span><span class="s2">"2014-05-22T03:46:25Z"</span><span class="p">,</span>
      <span class="s2">"ver"</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span>
      <span class="s2">"lock_time"</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span>
      <span class="s2">"double_spend"</span><span class="o">:</span><span class="kc">false</span><span class="p">,</span>
      <span class="s2">"vin_sz"</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span>
      <span class="s2">"vout_sz"</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span>
      <span class="s2">"confirmations"</span><span class="o">:</span><span class="mi">58588</span><span class="p">,</span>
      <span class="s2">"confidence"</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span>
      <span class="s2">"inputs"</span><span class="o">:</span><span class="p">[</span>
        <span class="p">{</span>
          <span class="s2">"prev_hash"</span><span class="o">:</span><span class="s2">"4cff011ec53022f2ae47197d1a2fd4a6ac2a80139f4d0131c1fed625ed5dc869"</span><span class="p">,</span>
          <span class="s2">"output_index"</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span>
          <span class="s2">"script"</span><span class="o">:</span><span class="s2">"483045022035695e3b237733c70a56286eccd8df41b4d22cd103ed9b2df44010caa3bc71430221008f58461c937e8fe6cc6d37a9aaee3927762cce4565a4c386bbcd9d82915acfc50141047b1d511b8559a2003ca88715bc8331f057fa4ebf11f411142509a8ffd2f2d36d5a5e4b6019d6eb3e16878f24fd8d55676050c28b4bc5e4c44f39245beedae100"</span><span class="p">,</span>
          <span class="s2">"output_value"</span><span class="o">:</span><span class="mi">8845413</span><span class="p">,</span>
          <span class="s2">"sequence"</span><span class="o">:</span><span class="mi">4294967295</span><span class="p">,</span>
          <span class="s2">"addresses"</span><span class="o">:</span><span class="p">[</span>
            <span class="s2">"17astdTmG8zzVmry8mV8A7atAr3XefEgRX"</span>
          <span class="p">],</span>
          <span class="s2">"script_type"</span><span class="o">:</span><span class="s2">"pay-to-pubkey-hash"</span>
        <span class="p">}</span>
      <span class="p">],</span>
      <span class="s2">"outputs"</span><span class="o">:</span><span class="p">[</span>
        <span class="p">{</span>
          <span class="s2">"value"</span><span class="o">:</span><span class="mi">20213</span><span class="p">,</span>
          <span class="s2">"script"</span><span class="o">:</span><span class="s2">"76a9148629647bd642a2372d846a7660e210c8414f047c88ac"</span><span class="p">,</span>
          <span class="s2">"addresses"</span><span class="o">:</span><span class="p">[</span>
            <span class="s2">"1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD"</span>
          <span class="p">],</span>
          <span class="s2">"script_type"</span><span class="o">:</span><span class="s2">"pay-to-pubkey-hash"</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="s2">"value"</span><span class="o">:</span><span class="mi">8815200</span><span class="p">,</span>
          <span class="s2">"script"</span><span class="o">:</span><span class="s2">"76a9144838f65fc4e06c644423ad0430de11ca5785dcd088ac"</span><span class="p">,</span>
          <span class="s2">"spent_by"</span><span class="o">:</span><span class="s2">"582a50f3a756c3261f8f085185e5975a762e239e95a30bcf1a4f2e31e0f834ab"</span><span class="p">,</span>
          <span class="s2">"addresses"</span><span class="o">:</span><span class="p">[</span>
            <span class="s2">"17astdTmG8zzVmry8mV8A7atAr3XefEgRX"</span>
          <span class="p">],</span>
          <span class="s2">"script_type"</span><span class="o">:</span><span class="s2">"pay-to-pubkey-hash"</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="o">...</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre>

<p>The Address Full Endpoint returns all information available about a particular address, including an array of complete <a href="#tx">transactions</a> instead of just transaction inputs and outputs. Unfortunately, because of the amount of data returned, it is the slowest of the address endpoints, but it returns the most detailed data record.</p>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/addrs/$ADDRESS/full</td>
<td>GET</td>
<td><a href="#address">Address</a></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Flag</th>
<th>Type</th>
<th>Effect</th>
</tr>
</thead><tbody>
<tr>
<td><strong>before</strong></td>
<td><em>integer</em></td>
<td>Filters response to only include transactions before <em>integer</em> height in the blockchain.</td>
</tr>
</tbody></table>

<p>ADDRESS is a <em>string</em> representing the public address (or wallet name) you&rsquo;re interested in querying, for example:</p>

<p><code class="prettyprint">1DEP8i3QJCsomS4BSMY2RpU1upv62aGvhD</code></p>

<p>The returned object contains information about the address, including its balance in satoshis, the number of transactions associated with it, and the corresponding full transaction records.</p>

<aside class="notice">
If your returned <a href="#address">Address</a> object includes the <b>hasMore</b> attribute, there are more transactions associated with the address than transfered through this endpoint. If this happens, note the block height of the last transaction in the array, and then you can use the <b>before</b> flag to page through results.
</aside>

<h2 id="generate-address-endpoint">Generate Address Endpoint</h2>
<pre class="highlight shell"><code>curl -X POST http://api.blockcypher.com/v1/btc/test3/addrs

<span class="o">{</span>
<span class="s2">"private"</span>: <span class="s2">"81ee75559d37cbe4b7cbbfb9931ab1ba32172c5cdfc3ac2d020259b4c1104198"</span>,
<span class="s2">"public"</span>: <span class="s2">"0231ff9ec76820cb36b69061f6ffb125db3793b4aced468a1261b0680e1ef4883a"</span>,
<span class="s2">"address"</span>: <span class="s2">"mvpW7fMSi1nbZhJJDySNS2PUau8ppnu4kY"</span>,
<span class="s2">"wif"</span>: <span class="s2">"cRwGhRjCuuNtPgLcoYd1CuAqjFXCV5YNCQ1LB8RsFCvu61VfSsgR"</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'https://api.blockcypher.com/v1/btc/test3/addrs'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span>
<span class="o">&gt;</span> <span class="p">{</span>
<span class="o">&gt;</span> <span class="s2">"private"</span><span class="p">:</span> <span class="s2">"81ee75559d37cbe4b7cbbfb9931ab1ba32172c5cdfc3ac2d020259b4c1104198"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"public"</span><span class="p">:</span> <span class="s2">"0231ff9ec76820cb36b69061f6ffb125db3793b4aced468a1261b0680e1ef4883a"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"address"</span><span class="p">:</span> <span class="s2">"mvpW7fMSi1nbZhJJDySNS2PUau8ppnu4kY"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"wif"</span><span class="p">:</span> <span class="s2">"cRwGhRjCuuNtPgLcoYd1CuAqjFXCV5YNCQ1LB8RsFCvu61VfSsgR"</span>
<span class="o">&gt;</span> <span class="p">}</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Please use the python library at https://github.com/blockcypher/blockcypher-python to securely generate an address client-side</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\address-api\GenerateAddressEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\AddressKeyChain</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$addressKeyChain</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AddressKeyChain</span><span class="p">();</span>

<span class="c1">// For Sample Purposes Only.
</span><span class="nv">$request</span> <span class="o">=</span> <span class="k">clone</span> <span class="nv">$addressKeyChain</span><span class="p">;</span>

<span class="nv">$addressKeyChain</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="nv">$apiContexts</span><span class="p">[</span><span class="s1">'BTC.main'</span><span class="p">]);</span>

<span class="p">{</span>
  <span class="s2">"private"</span><span class="o">:</span><span class="s2">"3f3cea5a7373011d6f51844bf986abe6950d7a30eaaab247fc951c3ea9f13705"</span><span class="p">,</span>
  <span class="s2">"public"</span><span class="o">:</span><span class="s2">"02d1c8ccc7131a3c39b9e7001741f68d339e5d6941caf31fe9f43b15d6cf09dcb9"</span><span class="p">,</span>
  <span class="s2">"address"</span><span class="o">:</span><span class="s2">"1rA7AB93qziWzHfTFXn5n3GYJ1mhkG8tn"</span><span class="p">,</span>
  <span class="s2">"wif"</span><span class="o">:</span><span class="s2">"KyLdumvGqB86v3D9sKqAMGhNXB1UtYSsxb9deH1nxpooskVF7Rgz"</span>
<span class="p">}</span>
</code></pre>

<p>The Generate Address endpoint allows you to generate private-public key-pairs along with an associated public address. No information is required with this POST request.</p>

<aside class="success">
The private key returned is immediately discarded by our servers, but we advise that these keys should not be used for any high-value&mdash;or long-term storage&mdash;addresses.
</aside>

<aside class="warning">
Always use HTTPS for Address Generation requests. Otherwise, your generated private keys will be sent over insecure channels and could be MITM&rsquo;d.
</aside>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Request Object</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/addrs</td>
<td>POST</td>
<td><em>nil</em></td>
<td><a href="#addresskeychain">AddressKeychain</a></td>
</tr>
</tbody></table>

<p>The returned object contains a private key in hex-encoded and wif-encoded format, a public key, and a public address.</p>

<h2 id="generate-multisig-address-endpoint">Generate Multisig Address Endpoint</h2>
<pre class="highlight shell"><code>curl -d <span class="s1">'{"pubkeys": ["02c716d071a76cbf0d29c29cacfec76e0ef8116b37389fb7a3e76d6d32cf59f4d3", "033ef4d5165637d99b673bcdbb7ead359cee6afd7aaf78d3da9d2392ee4102c8ea", "022b8934cc41e76cb4286b9f3ed57e2d27798395b04dd23711981a77dc216df8ca"], "script_type": "multisig-2-of-3"}'</span> https://api.blockcypher.com/v1/btc/main/addrs

<span class="o">{</span>
<span class="s2">"private"</span>: <span class="s2">""</span>,
<span class="s2">"public"</span>: <span class="s2">""</span>,
<span class="s2">"address"</span>: <span class="s2">"3BF1M1PnTge94QewuWh3B8mRVw8U4SVnb4"</span>,
<span class="s2">"wif"</span>: <span class="s2">""</span>,
<span class="s2">"pubkeys"</span>: <span class="o">[</span>
    <span class="s2">"02c716d071a76cbf0d29c29cacfec76e0ef8116b37389fb7a3e76d6d32cf59f4d3"</span>,
    <span class="s2">"033ef4d5165637d99b673bcdbb7ead359cee6afd7aaf78d3da9d2392ee4102c8ea"</span>,
    <span class="s2">"022b8934cc41e76cb4286b9f3ed57e2d27798395b04dd23711981a77dc216df8ca"</span>
<span class="o">]</span>,
<span class="s2">"script_type"</span>: <span class="s2">"multisig-2-of-3"</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"pubkeys"</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">"02c716d071a76cbf0d29c29cacfec76e0ef8116b37389fb7a3e76d6d32cf59f4d3"</span><span class="p">,</span>
    <span class="s2">"033ef4d5165637d99b673bcdbb7ead359cee6afd7aaf78d3da9d2392ee4102c8ea"</span><span class="p">,</span>
    <span class="s2">"022b8934cc41e76cb4286b9f3ed57e2d27798395b04dd23711981a77dc216df8ca"</span>
  <span class="p">],</span>
  <span class="s2">"script_type"</span><span class="p">:</span> <span class="s2">"multisig-2-of-3"</span>
<span class="p">};</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'https://api.blockcypher.com/v1/btc/test3/addrs'</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span>
<span class="o">&gt;</span> <span class="p">{</span>
<span class="o">&gt;</span> <span class="s2">"private"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"public"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"address"</span><span class="p">:</span> <span class="s2">"3BF1M1PnTge94QewuWh3B8mRVw8U4SVnb4"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"wif"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"pubkeys"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>   <span class="s2">"02c716d071a76cbf0d29c29cacfec76e0ef8116b37389fb7a3e76d6d32cf59f4d3"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"033ef4d5165637d99b673bcdbb7ead359cee6afd7aaf78d3da9d2392ee4102c8ea"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"022b8934cc41e76cb4286b9f3ed57e2d27798395b04dd23711981a77dc216df8ca"</span>
<span class="o">&gt;</span> <span class="p">],</span>
<span class="o">&gt;</span> <span class="s2">"script_type"</span><span class="p">:</span> <span class="s2">"multisig-2-of-3"</span>
<span class="o">&gt;</span> <span class="p">}</span>
</code></pre>
<pre class="highlight python"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">json</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">'pubkeys'</span><span class="p">:</span> <span class="p">[</span><span class="s">'02c716d071a76cbf0d29c29cacfec76e0ef8116b37389fb7a3e76d6d32cf59f4d3'</span><span class="p">,</span> <span class="s">'033ef4d5165637d99b673bcdbb7ead359cee6afd7aaf78d3da9d2392ee4102c8ea'</span><span class="p">,</span> <span class="s">'022b8934cc41e76cb4286b9f3ed57e2d27798395b04dd23711981a77dc216df8ca'</span><span class="p">],</span> <span class="s">'script_type'</span><span class="p">:</span> <span class="s">'multisig-2-of-3'</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.blockcypher.com/v1/btc/main/addrs'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s">'public'</span><span class="p">:</span> <span class="s">''</span><span class="p">,</span>
 <span class="s">'private'</span><span class="p">:</span> <span class="s">''</span><span class="p">,</span>
 <span class="s">'script_type'</span><span class="p">:</span> <span class="s">'multisig-2-of-3'</span><span class="p">,</span>
 <span class="s">'pubkeys'</span><span class="p">:</span> <span class="p">[</span><span class="s">'02c716d071a76cbf0d29c29cacfec76e0ef8116b37389fb7a3e76d6d32cf59f4d3'</span><span class="p">,</span>
  <span class="s">'033ef4d5165637d99b673bcdbb7ead359cee6afd7aaf78d3da9d2392ee4102c8ea'</span><span class="p">,</span>
  <span class="s">'022b8934cc41e76cb4286b9f3ed57e2d27798395b04dd23711981a77dc216df8ca'</span><span class="p">],</span>
 <span class="s">'address'</span><span class="p">:</span> <span class="s">'3BF1M1PnTge94QewuWh3B8mRVw8U4SVnb4'</span><span class="p">,</span>
 <span class="s">'wif'</span><span class="p">:</span> <span class="s">''</span><span class="p">}</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\address-api\GenerateMultisignAddressEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\AddressKeyChain</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$addressKeyChain</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AddressKeyChain</span><span class="p">();</span>
<span class="nv">$pubkeys</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"02c716d071a76cbf0d29c29cacfec76e0ef8116b37389fb7a3e76d6d32cf59f4d3"</span><span class="p">,</span>
    <span class="s2">"033ef4d5165637d99b673bcdbb7ead359cee6afd7aaf78d3da9d2392ee4102c8ea"</span><span class="p">,</span>
    <span class="s2">"022b8934cc41e76cb4286b9f3ed57e2d27798395b04dd23711981a77dc216df8ca"</span>
<span class="p">);</span>
<span class="nv">$addressKeyChain</span><span class="o">-&gt;</span><span class="na">setPubkeys</span><span class="p">(</span><span class="nv">$pubkeys</span><span class="p">);</span>
<span class="nv">$addressKeyChain</span><span class="o">-&gt;</span><span class="na">setScriptType</span><span class="p">(</span><span class="s1">'multisig-2-of-3'</span><span class="p">);</span>

<span class="c1">// For Sample Purposes Only.
</span><span class="nv">$request</span> <span class="o">=</span> <span class="k">clone</span> <span class="nv">$addressKeyChain</span><span class="p">;</span>

<span class="nv">$addressKeyChain</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">{</span>
  <span class="s2">"pubkeys"</span><span class="o">:</span><span class="p">[</span>
    <span class="s2">"02c716d071a76cbf0d29c29cacfec76e0ef8116b37389fb7a3e76d6d32cf59f4d3"</span><span class="p">,</span>
    <span class="s2">"033ef4d5165637d99b673bcdbb7ead359cee6afd7aaf78d3da9d2392ee4102c8ea"</span><span class="p">,</span>
    <span class="s2">"022b8934cc41e76cb4286b9f3ed57e2d27798395b04dd23711981a77dc216df8ca"</span>
  <span class="p">],</span>
  <span class="s2">"script_type"</span><span class="o">:</span><span class="s2">"multisig-2-of-3"</span><span class="p">,</span>
  <span class="s2">"private"</span><span class="o">:</span><span class="s2">""</span><span class="p">,</span>
  <span class="s2">"public"</span><span class="o">:</span><span class="s2">""</span><span class="p">,</span>
  <span class="s2">"address"</span><span class="o">:</span><span class="s2">"3BF1M1PnTge94QewuWh3B8mRVw8U4SVnb4"</span><span class="p">,</span>
  <span class="s2">"wif"</span><span class="o">:</span><span class="s2">""</span>
<span class="p">}</span>
</code></pre>

<p>The Generate Multisig Address Endpoint is a convenience method to help you generate multisig addresses from multiple public keys. After supplying a partially filled-out <a href="#addresskeychain">AddressKeychain</a> object (including only an array of hex-encoded public keys and the script type), the returned object includes the computed public address.</p>

<aside class="notice">
This endpoint is the same resource as the <a href="#generateadressendpoint">Generate Address Endpoint</a>, but with data in the request body.
</aside>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Request Object</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/addrs</td>
<td>POST</td>
<td><a href="#addresskeychain">AddressKeychain</a></td>
<td><a href="#addresskeychain">AddressKeychain</a></td>
</tr>
</tbody></table>

<h2 id="wallets">Wallets</h2>

<p>The Wallet API allows you to group multiple addresses under a single name. It only holds public address information and never requires any private keys. </p>

<aside class="notice">
Don&rsquo;t be confused: this Wallet API has nothing to do with private key management. The best way to think of the Wallet API is a &ldquo;Set of Public Addresses to Query Together&rdquo; API, but that name refused to fit into any of our marketing materials.
</aside>

<p>A wallet can be created, deleted, and have addresses added and removed. The wallet itself can have any custom name as long as it does not start with the standard address prefix (1 or 3 for Bitcoin).</p>

<p>Wallets can be leveraged by the <a href="#address-api">Address API</a>, just by using their name instead of $ADDRESS. They can also be used with <a href="#events-and-hooks">Events</a> and with the <a href="#transaction-api">Transaction API</a>. In general, using a wallet instead of an address in an API will have the effect of <a href="#batching">batching the set of addresses</a> contained in the wallet.</p>

<aside class="warning">
You are required to authenticate with your <a href="#rate-limits-and-tokens">user token</a> when using a wallet in any API endpoint. You can register <a href="http://accounts.blockcypher.com/">for a token here.</a>
</aside>

<p>The following code examples should be considered serially; that is to say, the results will appear as if each API call were done sequentially. Also, $NAME is a <em>string</em> representing the name of your wallet, for example:</p>

<p><code class="prettyprint">alice</code>
<br /></p>

<h3 id="create-wallet-endpoint">Create Wallet Endpoint</h3>
<pre class="highlight shell"><code>curl -d <span class="s1">'{"name": "alice","addresses": ["1JcX75oraJEmzXXHpDjRctw3BX6qDmFM8e"]}'</span> https://api.blockcypher.com/v1/btc/main/wallets?token<span class="o">=</span>YOURTOKEN

<span class="o">{</span><span class="s2">"token"</span>: <span class="s2">"YOURTOKEN"</span>,
<span class="s2">"name"</span>: <span class="s2">"alice"</span>,
<span class="s2">"addresses"</span>: <span class="o">[</span>
    <span class="s2">"1JcX75oraJEmzXXHpDjRctw3BX6qDmFM8e"</span>
<span class="o">]}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"name"</span><span class="p">:</span> <span class="s2">"alice"</span><span class="p">,</span><span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"1JcX75oraJEmzXXHpDjRctw3BX6qDmFM8e"</span><span class="p">]};</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'https://api.blockcypher.com/v1/btc/main/wallets?token=USERTOKEN'</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span>
<span class="o">&gt;</span> <span class="p">{</span><span class="s2">"token"</span><span class="p">:</span> <span class="s2">"USERTOKEN"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"alice"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>   <span class="s2">"1JcX75oraJEmzXXHpDjRctw3BX6qDmFM8e"</span>
<span class="o">&gt;</span> <span class="p">]}</span>
</code></pre>
<pre class="highlight python"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">json</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">'name'</span><span class="p">:</span> <span class="s">'alice'</span><span class="p">,</span> <span class="s">'addresses'</span><span class="p">:</span> <span class="p">[</span><span class="s">'1JcX75oraJEmzXXHpDjRctw3BX6qDmFM8e'</span><span class="p">,</span> <span class="p">]}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s">'token'</span><span class="p">:</span> <span class="s">'YOUR_TOKEN'</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.blockcypher.com/v1/btc/main/wallets'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s">'name'</span><span class="p">:</span> <span class="s">'alice'</span><span class="p">,</span>
 <span class="s">'token'</span><span class="p">:</span> <span class="s">'YOUR_TOKEN'</span><span class="p">,</span>
 <span class="s">'addresses'</span><span class="p">:</span> <span class="p">[</span><span class="s">'1JcX75oraJEmzXXHpDjRctw3BX6qDmFM8e'</span><span class="p">]}</span>

</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\wallet-api\CreateWalletEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\Wallet</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">// Create a new instance of Wallet object
</span><span class="nv">$wallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Wallet</span><span class="p">();</span>
<span class="nv">$wallet</span><span class="o">-&gt;</span><span class="na">setName</span><span class="p">(</span><span class="s1">'alice'</span><span class="p">);</span>
<span class="nv">$wallet</span><span class="o">-&gt;</span><span class="na">setAddresses</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s2">"1JcX75oraJEmzXXHpDjRctw3BX6qDmFM8e"</span>
<span class="p">));</span>

<span class="c1">// For Sample Purposes Only.
</span><span class="nv">$request</span> <span class="o">=</span> <span class="k">clone</span> <span class="nv">$wallet</span><span class="p">;</span>

<span class="nv">$wallet</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="k">array</span><span class="p">(),</span> <span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">{</span>
  <span class="s2">"token"</span><span class="o">:</span><span class="s2">"c0afcccdde5081d6429de37d16166ead"</span><span class="p">,</span>
  <span class="s2">"name"</span><span class="o">:</span><span class="s2">"alice"</span><span class="p">,</span>
  <span class="s2">"addresses"</span><span class="o">:</span><span class="p">[</span>
    <span class="s2">"1JcX75oraJEmzXXHpDjRctw3BX6qDmFM8e"</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Request Object</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/wallets</td>
<td>POST</td>
<td><a href="#wallet">Wallet</a></td>
<td><a href="#wallet">Wallet</a></td>
</tr>
</tbody></table>

<p>This endpoint allows you to create a new wallet, by POSTing a partially filled out <a href="#wallet">Wallet</a> object. At minimum, you must include the <strong>name</strong> attribute and at least one public address in the <strong>addresses</strong> array. If successful, it will return the same <a href="#wallet">Wallet</a> object you requested, appended with your user token.</p>

<aside class="warning">
If the named wallet already exists under your token, attempting to create a new wallet will return an error.
</aside>

<p><br /></p>

<h3 id="add-addresses-to-wallet-endpoint">Add Addresses to Wallet Endpoint</h3>
<pre class="highlight shell"><code>curl -d <span class="s1">'{"addresses": ["13cj1QtfW61kQHoqXm3khVRYPJrgQiRM6j"]}'</span> https://api.blockcypher.com/v1/btc/main/wallets/alice/addresses?token<span class="o">=</span>YOURTOKEN

<span class="o">{</span><span class="s2">"token"</span>: <span class="s2">"YOURTOKEN"</span>,
<span class="s2">"name"</span>: <span class="s2">"alice"</span>,
<span class="s2">"addresses"</span>: <span class="o">[</span>
    <span class="s2">"1JcX75oraJEmzXXHpDjRctw3BX6qDmFM8e"</span>,
    <span class="s2">"13cj1QtfW61kQHoqXm3khVRYPJrgQiRM6j"</span>
<span class="o">]}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"13cj1QtfW61kQHoqXm3khVRYPJrgQiRM6j"</span><span class="p">]};</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'https://api.blockcypher.com/v1/btc/main/wallets/alice/addresses?token=USERTOKEN'</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span>
<span class="o">&gt;</span> <span class="p">{</span>
<span class="o">&gt;</span>   <span class="s2">"token"</span><span class="p">:</span> <span class="s2">"USERTOKEN"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"alice"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>       <span class="s2">"1JcX75oraJEmzXXHpDjRctw3BX6qDmFM8e"</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"13cj1QtfW61kQHoqXm3khVRYPJrgQiRM6j"</span>
<span class="o">&gt;</span> <span class="p">]}</span>
</code></pre>
<pre class="highlight python"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">json</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">'addresses'</span><span class="p">:</span> <span class="p">[</span><span class="s">'13cj1QtfW61kQHoqXm3khVRYPJrgQiRM6j'</span><span class="p">,</span> <span class="p">]}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s">'token'</span><span class="p">:</span> <span class="s">'YOUR_TOKEN'</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.blockcypher.com/v1/btc/main/wallets/alice/addresses'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s">'name'</span><span class="p">:</span> <span class="s">'alice'</span><span class="p">,</span>
 <span class="s">'token'</span><span class="p">:</span> <span class="s">'YOUR_TOKEN'</span><span class="p">,</span>
 <span class="s">'addresses'</span><span class="p">:</span> <span class="p">[</span><span class="s">'1JcX75oraJEmzXXHpDjRctw3BX6qDmFM8e'</span><span class="p">,</span> <span class="s">'13cj1QtfW61kQHoqXm3khVRYPJrgQiRM6j'</span><span class="p">]}</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\wallet-api\AddAddressesToWalletEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\AddressesList</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Api\Wallet</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$wallet</span> <span class="o">=</span> <span class="nx">Wallet</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">'alice'</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="nv">$apiContext</span><span class="p">);</span>
<span class="nv">$addressesList</span> <span class="o">=</span> <span class="nx">AddressesList</span><span class="o">::</span><span class="na">fromAddressesArray</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s2">"13cj1QtfW61kQHoqXm3khVRYPJrgQiRM6j"</span>
<span class="p">));</span>
<span class="nv">$wallet</span><span class="o">-&gt;</span><span class="na">addAddresses</span><span class="p">(</span><span class="nv">$addressesList</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">{</span>
  <span class="s2">"token"</span><span class="o">:</span><span class="s2">"c0afcccdde5081d6429de37d16166ead"</span><span class="p">,</span>
  <span class="s2">"name"</span><span class="o">:</span><span class="s2">"alice"</span><span class="p">,</span>
  <span class="s2">"addresses"</span><span class="o">:</span><span class="p">[</span>
    <span class="s2">"1jr1rHMthQVMNSYswB9ExSvYn339fWMzn"</span><span class="p">,</span>
    <span class="s2">"13cj1QtfW61kQHoqXm3khVRYPJrgQiRM6j"</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Request Object</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/wallets/$NAME/addresses</td>
<td>POST</td>
<td><a href="#wallet">Wallet</a></td>
<td><a href="#wallet">Wallet</a></td>
</tr>
</tbody></table>

<p>This endpoint allows you to add public addresses to an existing wallet, by POSTing a partially filled out <a href="#wallet">Wallet</a> object. You only need to include the additional addresses in a new <strong>addresses</strong> array in the object. If successful, it will return the newly modified <a href="#wallet">Wallet</a>, including an up-to-date, complete listing of addresses.</p>

<p><br /></p>

<h3 id="wallet-addresses-endpoint">Wallet Addresses Endpoint</h3>
<pre class="highlight shell"><code>curl https://api.blockcypher.com/v1/btc/main/wallets/alice/addresses?token<span class="o">=</span>YOURTOKEN

<span class="o">{</span><span class="s2">"token"</span>: <span class="s2">""</span>,
<span class="s2">"name"</span>: <span class="s2">""</span>,
<span class="s2">"addresses"</span>: <span class="o">[</span>
    <span class="s2">"13cj1QtfW61kQHoqXm3khVRYPJrgQiRM6j"</span>,
    <span class="s2">"1JcX75oraJEmzXXHpDjRctw3BX6qDmFM8e"</span>
<span class="o">]}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'https://api.blockcypher.com/v1/btc/main/wallets/alice/addresses?token=USERTOKEN'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span>
<span class="o">&gt;</span> <span class="p">{</span>
<span class="o">&gt;</span> <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>   <span class="s2">"13cj1QtfW61kQHoqXm3khVRYPJrgQiRM6j"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"1JcX75oraJEmzXXHpDjRctw3BX6qDmFM8e"</span>
<span class="o">&gt;</span> <span class="p">]}</span>
</code></pre>
<pre class="highlight python"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s">'token'</span><span class="p">:</span> <span class="s">'YOUR_TOKEN'</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.blockcypher.com/v1/btc/main/wallets/alice/addresses'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s">'addresses'</span><span class="p">:</span> <span class="p">[</span><span class="s">'13cj1QtfW61kQHoqXm3khVRYPJrgQiRM6j'</span><span class="p">,</span>
  <span class="s">'1JcX75oraJEmzXXHpDjRctw3BX6qDmFM8e'</span><span class="p">]}</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\wallet-api\WalletAddressesEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\Wallet</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$wallet</span> <span class="o">=</span> <span class="nx">Wallet</span><span class="o">::</span><span class="na">getOnlyAddresses</span><span class="p">(</span><span class="s1">'alice'</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">{</span>
  <span class="s2">"token"</span><span class="o">:</span><span class="s2">"c0afcccdde5081d6429de37d16166ead"</span><span class="p">,</span>
  <span class="s2">"name"</span><span class="o">:</span><span class="s2">"alice"</span><span class="p">,</span>
  <span class="s2">"addresses"</span><span class="o">:</span><span class="p">[</span>
    <span class="s2">"13cj1QtfW61kQHoqXm3khVRYPJrgQiRM6j"</span><span class="p">,</span>
    <span class="s2">"1jr1rHMthQVMNSYswB9ExSvYn339fWMzn"</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/wallets/$NAME/addresses</td>
<td>GET</td>
<td><a href="#wallet">Wallet</a></td>
</tr>
</tbody></table>

<p>This endpoint returns a list of the addresses associated with the $NAME wallet. It returns the addresses in a partially filled out <a href="#wallet">Wallet</a> object, which you&rsquo;ll find under the <strong>addresses</strong> attribute.</p>

<p><br /></p>

<h3 id="remove-addresses-from-wallet-endpoint">Remove Addresses from Wallet Endpoint</h3>
<pre class="highlight shell"><code><span class="gp">$ </span>curl -X DELETE https://api.blockcypher.com/v1/btc/main/wallets/alice/addresses?token<span class="o">=</span>USERTOKEN&amp;address<span class="o">=</span>1JcX75oraJEmzXXHpDjRctw3BX6qDmFM8e

<span class="o">{</span><span class="s2">"token"</span>: <span class="s2">"YOURTOKEN"</span>,
<span class="s2">"name"</span>: <span class="s2">"alice"</span>,
<span class="s2">"addresses"</span>: <span class="o">[</span>
    <span class="s2">"13cj1QtfW61kQHoqXm3khVRYPJrgQiRM6j"</span>
<span class="o">]}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"https://api.blockcypher.com/v1/btc/main/wallets/alice/addresses/1JcX75oraJEmzXXHpDjRctw3BX6qDmFM8e?token=USERTOKEN"</span><span class="p">,</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"DELETE"</span>
<span class="p">})</span>
</code></pre>
<pre class="highlight python"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">json</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">'token'</span><span class="p">:</span> <span class="s">'YOUR_TOKEN'</span><span class="p">,</span> <span class="s">'address'</span><span class="p">:</span> <span class="s">'1JcX75oraJEmzXXHpDjRctw3BX6qDmFM8e'</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s">'https://api.blockcypher.com/v1/btc/main/wallets/alice/addresses'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s">'token'</span><span class="p">:</span> <span class="s">'YOUR_TOKEN'</span><span class="p">,</span>
 <span class="s">'name'</span><span class="p">:</span> <span class="s">'alice'</span><span class="p">,</span>
 <span class="s">'addresses'</span><span class="p">:</span> <span class="p">[</span><span class="s">'13cj1QtfW61kQHoqXm3khVRYPJrgQiRM6j'</span><span class="p">]}</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\wallet-api\RemoveAddressesFromWalletEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\AddressesList</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Api\Wallet</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">// List of addresses to be removed from the wallet
</span><span class="nv">$addressesList</span> <span class="o">=</span> <span class="nx">AddressesList</span><span class="o">::</span><span class="na">fromAddressesArray</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s2">"13cj1QtfW61kQHoqXm3khVRYPJrgQiRM6j"</span>
<span class="p">));</span>

<span class="nv">$wallet</span> <span class="o">=</span> <span class="nx">Wallet</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">'alice'</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="nv">$apiContext</span><span class="p">);</span>
<span class="nv">$wallet</span><span class="o">-&gt;</span><span class="na">removeAddresses</span><span class="p">(</span><span class="nv">$addressesList</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">{</span>
  <span class="s2">"token"</span><span class="o">:</span><span class="s2">"c0afcccdde5081d6429de37d16166ead"</span><span class="p">,</span>
  <span class="s2">"name"</span><span class="o">:</span><span class="s2">"alice"</span><span class="p">,</span>
  <span class="s2">"addresses"</span><span class="o">:</span><span class="p">[</span>
    <span class="s2">"1jr1rHMthQVMNSYswB9ExSvYn339fWMzn"</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Request Object</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/wallets/$NAME/addresses?address=$ADDRESS</td>
<td>DELETE</td>
<td><em>nil</em></td>
<td><a href="#wallet">Wallet</a></td>
</tr>
</tbody></table>

<p>This endpoint allows you to delete an $ADDRESS associated with the $NAME wallet. As a reminder, you <a href="#http://dev.blockcypher.com/#batching">can batch</a> multiple addresses by appending them with semicolons within the $ADDRESS URL parameter. If successful, it will return the newly modified <a href="#wallet">Wallet</a>, including an up-to-date, complete listing of addresses.</p>

<p><br /></p>

<h3 id="generate-address-in-wallet-endpoint">Generate Address in Wallet Endpoint</h3>
<pre class="highlight shell"><code>curl -X POST https://api.blockcypher.com/v1/btc/main/wallets/alice/addresses/generate?token<span class="o">=</span>YOURTOKEN

<span class="o">{</span><span class="s2">"token"</span>: <span class="s2">"YOURTOKEN"</span>,
<span class="s2">"name"</span>: <span class="s2">"alice"</span>,
<span class="s2">"addresses"</span>: <span class="o">[</span>
    <span class="s2">"13cj1QtfW61kQHoqXm3khVRYPJrgQiRM6j"</span>,
    <span class="s2">"14LcPtRSGjYb1s8kfxsVDbXvA7VYCmoFho"</span>
<span class="o">]</span>,
<span class="s2">"private"</span>: <span class="s2">"6238efeb679d75ec3b1a43e76cc0ed33abdf56e30bb5bb95e4793134a7958609"</span>,
<span class="s2">"public"</span>: <span class="s2">"03e4f273521a30373a639f60da836f2308a5d53853ec18f903dd235c73e6e26e4a"</span>,
<span class="s2">"address"</span>: <span class="s2">"14LcPtRSGjYb1s8kfxsVDbXvA7VYCmoFho"</span>,
<span class="s2">"wif"</span>: <span class="s2">"KzWeDL7sysRay7pZUm6hQQLaDVjmN1jUZzeZuq6ru5FtN1RhPrLX"</span><span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'https://api.blockcypher.com/v1/btc/main/wallets/alice/addresses/generate?token=USERTOKEN'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span>
<span class="o">&gt;</span> <span class="p">{</span>
<span class="o">&gt;</span>   <span class="s2">"token"</span><span class="p">:</span> <span class="s2">"USERTOKEN"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"alice"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>       <span class="s2">"13cj1QtfW61kQHoqXm3khVRYPJrgQiRM6j"</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"14LcPtRSGjYb1s8kfxsVDbXvA7VYCmoFho"</span>
<span class="o">&gt;</span>   <span class="p">],</span>
<span class="o">&gt;</span>   <span class="s2">"private"</span><span class="p">:</span> <span class="s2">"6238efeb679d75ec3b1a43e76cc0ed33abdf56e30bb5bb95e4793134a7958609"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"public"</span><span class="p">:</span> <span class="s2">"03e4f273521a30373a639f60da836f2308a5d53853ec18f903dd235c73e6e26e4a"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"address"</span><span class="p">:</span> <span class="s2">"14LcPtRSGjYb1s8kfxsVDbXvA7VYCmoFho"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"wif"</span><span class="p">:</span> <span class="s2">"KzWeDL7sysRay7pZUm6hQQLaDVjmN1jUZzeZuq6ru5FtN1RhPrLX"</span>
<span class="o">&gt;</span> <span class="p">}</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Please use the python library at https://github.com/blockcypher/blockcypher-python to securely generate an address client-side</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\wallet-api\GenerateAddressInWalletEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\Wallet</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$wallet</span> <span class="o">=</span> <span class="nx">Wallet</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">'alice'</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="nv">$apiContext</span><span class="p">);</span>
<span class="nv">$walletGenerateAddressResponse</span> <span class="o">=</span> <span class="nv">$wallet</span><span class="o">-&gt;</span><span class="na">generateAddress</span><span class="p">(</span><span class="k">array</span><span class="p">(),</span> <span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">{</span>
  <span class="s2">"token"</span><span class="o">:</span><span class="s2">"c0afcccdde5081d6429de37d16166ead"</span><span class="p">,</span>
  <span class="s2">"name"</span><span class="o">:</span><span class="s2">"alice"</span><span class="p">,</span>
  <span class="s2">"addresses"</span><span class="o">:</span><span class="p">[</span>
    <span class="s2">"1jr1rHMthQVMNSYswB9ExSvYn339fWMzn"</span><span class="p">,</span>
    <span class="s2">"13cj1QtfW61kQHoqXm3khVRYPJrgQiRM6j"</span>
  <span class="p">],</span>
  <span class="s2">"private"</span><span class="o">:</span><span class="s2">"0d42eb9fa80301aa3a5c4e91d2a5c892b4fb99b10bc1f0d636d46ecba32d37e6"</span><span class="p">,</span>
  <span class="s2">"public"</span><span class="o">:</span><span class="s2">"030b4780c12784456291191318b231dcce64c93f8eb211fa78eb7e95663009e414"</span><span class="p">,</span>
  <span class="s2">"address"</span><span class="o">:</span><span class="s2">"1GuPv187EEUi3BDypdpMS7cmMuaVpWy6PM"</span><span class="p">,</span>
  <span class="s2">"wif"</span><span class="o">:</span><span class="s2">"KwfVLLsRSgSC6pkDLkEmMn8fH5VFceaYT9B58Cu8QHZtZzJvnpYZ"</span>
<span class="p">}</span>
</code></pre>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Request Object</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/wallets/$NAME/addresses/generate</td>
<td>POST</td>
<td><em>nil</em></td>
<td><a href="#Wallet">Wallet</a> + <a href="#AddressKeychain">AddressKeychain</a></td>
</tr>
</tbody></table>

<p>This endpoint allows you to generate a new address associated with the $NAME wallet, similar to the <a href="#generate-address-endpoint">Generate Address Endpoint</a>. If successful, it will returned the newly modified <a href="#wallet">Wallet</a> composed with an <a href="#AddressKeychain">AddressKeychain</a>.</p>

<p><br />
<br />
<br />
<br />
<br /></p>

<h3 id="delete-wallet-endpoint">Delete Wallet Endpoint</h3>
<pre class="highlight shell"><code>curl -X DELETE https://api.blockcypher.com/v1/btc/main/wallets/alice?token<span class="o">=</span>YOURTOKEN

</code></pre>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"https://api.blockcypher.com/v1/btc/main/wallets/alice?token=USERTOKEN"</span><span class="p">,</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"DELETE"</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight python"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s">'token'</span><span class="p">:</span> <span class="s">'YOUR_TOKEN'</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s">'https://api.blockcypher.com/v1/btc/main/wallets/alice'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="c"># returns nothing, let's just check the status code to be sure</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">assert</span> <span class="n">r</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">204</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\wallet-api\DeleteWalletEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\Wallet</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$wallet</span> <span class="o">=</span> <span class="nx">Wallet</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">'alice'</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="nv">$apiContext</span><span class="p">);</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$wallet</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">(</span><span class="k">array</span><span class="p">(),</span> <span class="nv">$apiContext</span><span class="p">);</span>
</code></pre>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Request Object</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/wallets/$NAME</td>
<td>DELETE</td>
<td><a href="#wallet">Wallet</a></td>
<td><em>nil</em></td>
</tr>
</tbody></table>

<p>This endpoint deletes the wallet with $NAME. If successful, it will return an HTTP 204 status code with no return object.</p>

          <h1 id="transaction-api">Transaction API</h1>

<p>BlockCypher&rsquo;s Transaction API allows you to look up information about unconfirmed transactions, query transactions based on hash, and create and propagate your own transactions, including multisignature transactions&mdash;all <a href="#restful-resources">based on the coin/chain resource</a> you&rsquo;ve selected for your endpoints.</p>

<p>If you&rsquo;re new to blockchains, the idea of transactions is relatively self-explanatory. Here&rsquo;s what&rsquo;s going on underneath the hood: a transaction takes previous &ldquo;unspent transaction outputs&rdquo; (also known as <a href="https://bitcoin.org/en/glossary/unspent-transaction-output">UTXOs</a>) as &ldquo;transaction inputs&rdquo; and creates new &ldquo;locking scripts&rdquo; on those inputs such that they are &ldquo;sent&rdquo; to new addresses (to become new UTXOs). While most of these public addresses are reference points for single private keys that can &ldquo;unlock&rdquo; the newly created UTXOs, occasionally they are sent to more exotic addresses through <em>pay-to-script-hash</em>, typically multisignature addresses.</p>

<p>Generally speaking, UTXOs are generated from previous transactions (except for <a href="https://bitcoin.org/en/glossary/coinbase">Coinbase inputs</a>).</p>

<aside class="success">
Even if you don&rsquo;t use the API to assist in creating transactions, we highly recommend using BlockCypher to push your raw transactions. BlockCypher maintains connections to 20% of all nodes on all blockchains it supports, which means we can propagate transactions faster than almost anyone else. Given our speed and reliability, this is especially powerful when used in concert with our <a href="#confidence-factor">Confidence Factor.</a>
</aside>

<h2 id="transaction-hash-endpoint">Transaction Hash Endpoint</h2>
<pre class="highlight shell"><code>curl https://api.blockcypher.com/v1/btc/main/txs/f854aebae95150b379cc1187d848d58225f3c4157fe992bcd166f58bd5063449

<span class="o">{</span>
<span class="s2">"block_hash"</span>: <span class="s2">"0000000000000000c504bdea36e5..."</span>,
<span class="s2">"block_height"</span>: 293000,
<span class="s2">"hash"</span>: <span class="s2">"f854aebae95150b379cc1187d848d58225f..."</span>,
<span class="s2">"addresses"</span>: <span class="o">[</span>
    <span class="s2">"13XXaBufpMvqRqLkyDty1AXqueZHVe6iyy"</span>,
    <span class="s2">"19YtzZdcfs1V2ZCgyRWo8i2wLT8ND1Tu4L"</span>,
    <span class="s2">"1BNiazBzCxJacAKo2yL83Wq1VJ18AYzNHy"</span>,
    <span class="s2">"1GbMfYui17L5m6sAy3L3WXAtf1P32bxJXq"</span>,
    <span class="s2">"1N2f642sbgCMbNtXFajz9XDACDFnFzdXzV"</span>
<span class="o">]</span>,
<span class="s2">"total"</span>: 70320221545,
<span class="s2">"fees"</span>: 0,
<span class="s2">"size"</span>: 636,
<span class="s2">"preference"</span>: <span class="s2">"low"</span>,
<span class="s2">"relayed_by"</span>: <span class="s2">""</span>,
<span class="s2">"confirmed"</span>: <span class="s2">"2014-03-29T01:29:19Z"</span>,
<span class="s2">"received"</span>: <span class="s2">"2014-03-29T01:29:19Z"</span>,
<span class="s2">"ver"</span>: 1,
<span class="s2">"lock_time"</span>: 0,
<span class="s2">"double_spend"</span>: <span class="nb">false</span>,
<span class="s2">"vin_sz"</span>: 4,
<span class="s2">"vout_sz"</span>: 1,
<span class="s2">"confirmations"</span>: 64373,
<span class="s2">"confidence"</span>: 1,
<span class="s2">"inputs"</span>: <span class="o">[</span>
    <span class="o">{</span>
    <span class="s2">"prev_hash"</span>: <span class="s2">"583910b7bf90ab802e22e5c25a89b59..."</span>,
    <span class="s2">"output_index"</span>: 1,
    <span class="s2">"script"</span>: <span class="s2">"4830450220504b1ccfddf508422bdd8b0f..."</span>,
    <span class="s2">"output_value"</span>: 16450000,
    <span class="s2">"sequence"</span>: 4294967295,
    <span class="s2">"addresses"</span>: <span class="o">[</span>
        <span class="s2">"1GbMfYui17L5m6sAy3L3WXAtf1P32bxJXq"</span>
    <span class="o">]</span>,
    <span class="s2">"script_type"</span>: <span class="s2">"pay-to-pubkey-hash"</span>
    <span class="o">}</span>,
    ...
<span class="o">]</span>,
<span class="s2">"outputs"</span>: <span class="o">[</span>
    <span class="o">{</span>
    <span class="s2">"value"</span>: 70320221545,
    <span class="s2">"script"</span>: <span class="s2">"76a914e6aad9d712c419ea8febf009a3f3..."</span>,
    <span class="s2">"spent_by"</span>: <span class="s2">"35832d6c70b98b54e9a53ab2d51176eb..."</span>,
    <span class="s2">"addresses"</span>: <span class="o">[</span>
        <span class="s2">"1N2f642sbgCMbNtXFajz9XDACDFnFzdXzV"</span>
    <span class="o">]</span>,
    <span class="s2">"script_type"</span>: <span class="s2">"pay-to-pubkey-hash"</span>
    <span class="o">}</span>
<span class="o">]</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'https://api.blockcypher.com/v1/btc/main/txs/f854aebae95150b379cc1187d848d58225f3c4157fe992bcd166f58bd5063449'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span>
<span class="o">&gt;</span> <span class="p">{</span>
<span class="o">&gt;</span> <span class="s2">"block_hash"</span><span class="p">:</span> <span class="s2">"0000000000000000c504bdea36e5..."</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"block_height"</span><span class="p">:</span> <span class="mi">293000</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"hash"</span><span class="p">:</span> <span class="s2">"f854aebae95150b379cc1187d848d58225f..."</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>   <span class="s2">"13XXaBufpMvqRqLkyDty1AXqueZHVe6iyy"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"19YtzZdcfs1V2ZCgyRWo8i2wLT8ND1Tu4L"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"1BNiazBzCxJacAKo2yL83Wq1VJ18AYzNHy"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"1GbMfYui17L5m6sAy3L3WXAtf1P32bxJXq"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"1N2f642sbgCMbNtXFajz9XDACDFnFzdXzV"</span>
<span class="o">&gt;</span> <span class="p">],</span>
<span class="o">&gt;</span> <span class="s2">"total"</span><span class="p">:</span> <span class="mi">70320221545</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"fees"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"size"</span><span class="p">:</span> <span class="mi">636</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"preference"</span><span class="p">:</span> <span class="s2">"low"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"relayed_by"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"confirmed"</span><span class="p">:</span> <span class="s2">"2014-03-29T01:29:19Z"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"received"</span><span class="p">:</span> <span class="s2">"2014-03-29T01:29:19Z"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"ver"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"lock_time"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"double_spend"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"vin_sz"</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"vout_sz"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"confirmations"</span><span class="p">:</span> <span class="mi">64373</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"confidence"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"inputs"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>   <span class="p">{</span>
<span class="o">&gt;</span>   <span class="s2">"prev_hash"</span><span class="p">:</span> <span class="s2">"583910b7bf90ab802e22e5c25a89b59..."</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"output_index"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"script"</span><span class="p">:</span> <span class="s2">"4830450220504b1ccfddf508422bdd8b0f..."</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"output_value"</span><span class="p">:</span> <span class="mi">16450000</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"sequence"</span><span class="p">:</span> <span class="mi">4294967295</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>       <span class="s2">"1GbMfYui17L5m6sAy3L3WXAtf1P32bxJXq"</span>
<span class="o">&gt;</span>   <span class="p">],</span>
<span class="o">&gt;</span>   <span class="s2">"script_type"</span><span class="p">:</span> <span class="s2">"pay-to-pubkey-hash"</span>
<span class="o">&gt;</span>   <span class="p">},</span>
<span class="o">&gt;</span>   <span class="p">...</span>
<span class="o">&gt;</span> <span class="p">],</span>
<span class="o">&gt;</span> <span class="s2">"outputs"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>   <span class="p">{</span>
<span class="o">&gt;</span>   <span class="s2">"value"</span><span class="p">:</span> <span class="mi">70320221545</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"script"</span><span class="p">:</span> <span class="s2">"76a914e6aad9d712c419ea8febf009a3f3..."</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"spent_by"</span><span class="p">:</span> <span class="s2">"35832d6c70b98b54e9a53ab2d51176eb..."</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>       <span class="s2">"1N2f642sbgCMbNtXFajz9XDACDFnFzdXzV"</span>
<span class="o">&gt;</span>   <span class="p">],</span>
<span class="o">&gt;</span>   <span class="s2">"script_type"</span><span class="p">:</span> <span class="s2">"pay-to-pubkey-hash"</span>
<span class="o">&gt;</span>   <span class="p">}</span>
<span class="o">&gt;</span> <span class="p">]</span>
<span class="o">&gt;</span> <span class="p">}</span>
</code></pre>
<pre class="highlight python"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.blockcypher.com/v1/btc/main/txs/f854aebae95150b379cc1187d848d58225f3c4157fe992bcd166f58bd5063449'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s">'confirmed'</span><span class="p">:</span> <span class="s">'2014-03-29T01:29:19Z'</span><span class="p">,</span>
 <span class="s">'ver'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
 <span class="s">'double_spend'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
 <span class="s">'outputs'</span><span class="p">:</span> <span class="p">[{</span><span class="s">'value'</span><span class="p">:</span> <span class="mi">70320221545</span><span class="p">,</span>
   <span class="s">'addresses'</span><span class="p">:</span> <span class="p">[</span><span class="s">'1N2f642sbgCMbNtXFajz9XDACDFnFzdXzV'</span><span class="p">],</span>
   <span class="s">'script_type'</span><span class="p">:</span> <span class="s">'pay-to-pubkey-hash'</span><span class="p">,</span>
   <span class="s">'script'</span><span class="p">:</span> <span class="s">'76a914e6aad9d712c419ea8febf009a3f3bfdd8d222fac88ac'</span><span class="p">,</span>
   <span class="s">'spent_by'</span><span class="p">:</span> <span class="s">'35832d6c70b98b54e9a53ab2d51176eb19ad11bc4505d6bb1ea6c51a68cb92ee'</span><span class="p">}],</span>
 <span class="s">'block_height'</span><span class="p">:</span> <span class="mi">293000</span><span class="p">,</span>
 <span class="s">'confidence'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
 <span class="s">'total'</span><span class="p">:</span> <span class="mi">70320221545</span><span class="p">,</span>
 <span class="s">'block_hash'</span><span class="p">:</span> <span class="s">'0000000000000000c504bdea36e531d8089d324f2d936c86e3274f97f8a44328'</span><span class="p">,</span>
 <span class="s">'fees'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
 <span class="s">'inputs'</span><span class="p">:</span> <span class="p">[{</span><span class="s">'output_value'</span><span class="p">:</span> <span class="mi">16450000</span><span class="p">,</span>
   <span class="s">'sequence'</span><span class="p">:</span> <span class="mi">4294967295</span><span class="p">,</span>
   <span class="s">'prev_hash'</span><span class="p">:</span> <span class="s">'583910b7bf90ab802e22e5c25a89b59862b20c8c1aeb24dfb94e7a508a70f121'</span><span class="p">,</span>
   <span class="s">'script'</span><span class="p">:</span> <span class="s">'4830450220504b1ccfddf508422bdd8b0fcda2b1483e87aee1b486c0130bc29226bbce3b4e022100b5befcfcf0d3bf6ebf0ac2f93badb19e3042c7bed456c398e743b885e782466c012103b1feb40b99e8ff18469484a50e8b52cc478d5f4f773a341fbd920a4ceaedd4bf'</span><span class="p">,</span>
   <span class="s">'addresses'</span><span class="p">:</span> <span class="p">[</span><span class="s">'1GbMfYui17L5m6sAy3L3WXAtf1P32bxJXq'</span><span class="p">],</span>
   <span class="s">'output_index'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
   <span class="s">'script_type'</span><span class="p">:</span> <span class="s">'pay-to-pubkey-hash'</span><span class="p">},</span>
   <span class="o">...</span>
<span class="p">],</span>
 <span class="s">'preference'</span><span class="p">:</span> <span class="s">'low'</span><span class="p">,</span>
 <span class="s">'vout_sz'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
 <span class="s">'vin_sz'</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
 <span class="s">'relayed_by'</span><span class="p">:</span> <span class="s">''</span><span class="p">,</span>
 <span class="s">'received'</span><span class="p">:</span> <span class="s">'2014-03-29T01:29:19Z'</span><span class="p">,</span>
 <span class="s">'hash'</span><span class="p">:</span> <span class="s">'f854aebae95150b379cc1187d848d58225f3c4157fe992bcd166f58bd5063449'</span><span class="p">,</span>
 <span class="s">'addresses'</span><span class="p">:</span> <span class="p">[</span><span class="s">'13XXaBufpMvqRqLkyDty1AXqueZHVe6iyy'</span><span class="p">,</span>
  <span class="s">'19YtzZdcfs1V2ZCgyRWo8i2wLT8ND1Tu4L'</span><span class="p">,</span>
  <span class="s">'1BNiazBzCxJacAKo2yL83Wq1VJ18AYzNHy'</span><span class="p">,</span>
  <span class="s">'1GbMfYui17L5m6sAy3L3WXAtf1P32bxJXq'</span><span class="p">,</span>
  <span class="s">'1N2f642sbgCMbNtXFajz9XDACDFnFzdXzV'</span><span class="p">],</span>
 <span class="s">'lock_time'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
 <span class="s">'size'</span><span class="p">:</span> <span class="mi">636</span><span class="p">,</span>
 <span class="s">'confirmations'</span><span class="p">:</span> <span class="mi">67378</span><span class="p">}</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\transaction-api\TransactionHashEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\Transaction</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$transaction</span> <span class="o">=</span> <span class="nx">Transaction</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">'f854aebae95150b379cc1187d848d58225f3c4157fe992bcd166f58bd5063449'</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">{</span>
<span class="s2">"block_hash"</span><span class="o">:</span> <span class="s2">"0000000000000000c504bdea36e531d80..."</span><span class="p">,</span>
<span class="s2">"block_height"</span><span class="o">:</span> <span class="mi">293000</span><span class="p">,</span>
<span class="s2">"hash"</span><span class="o">:</span> <span class="s2">"f854aebae95150b379cc1187d848d58225f3c41..."</span><span class="p">,</span>
<span class="s2">"addresses"</span><span class="o">:</span> <span class="p">[</span>
    <span class="s2">"13XXaBufpMvqRqLkyDty1AXqueZHVe6iyy"</span><span class="p">,</span>
    <span class="s2">"19YtzZdcfs1V2ZCgyRWo8i2wLT8ND1Tu4L"</span><span class="p">,</span>
    <span class="s2">"1BNiazBzCxJacAKo2yL83Wq1VJ18AYzNHy"</span><span class="p">,</span>
    <span class="s2">"1GbMfYui17L5m6sAy3L3WXAtf1P32bxJXq"</span><span class="p">,</span>
    <span class="s2">"1N2f642sbgCMbNtXFajz9XDACDFnFzdXzV"</span>
<span class="p">],</span>
<span class="s2">"total"</span><span class="o">:</span> <span class="mi">70320221545</span><span class="p">,</span>
<span class="s2">"fees"</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="s2">"size"</span><span class="o">:</span> <span class="mi">636</span><span class="p">,</span>
<span class="s2">"preference"</span><span class="o">:</span> <span class="s2">"low"</span><span class="p">,</span>
<span class="s2">"relayed_by"</span><span class="o">:</span> <span class="s2">""</span><span class="p">,</span>
<span class="s2">"confirmed"</span><span class="o">:</span> <span class="s2">"2014-03-29T01:29:19Z"</span><span class="p">,</span>
<span class="s2">"received"</span><span class="o">:</span> <span class="s2">"2014-03-29T01:29:19Z"</span><span class="p">,</span>
<span class="s2">"ver"</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="s2">"lock_time"</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="s2">"double_spend"</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
<span class="s2">"vin_sz"</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="s2">"vout_sz"</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="s2">"confirmations"</span><span class="o">:</span> <span class="mi">63171</span><span class="p">,</span>
<span class="s2">"confidence"</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="s2">"inputs"</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">"prev_hash"</span><span class="o">:</span> <span class="s2">"583910b7bf90ab802e22e5c25a89..."</span><span class="p">,</span>
        <span class="s2">"output_index"</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">"script"</span><span class="o">:</span> <span class="s2">"4830450220504b1ccfddf508422bdd8..."</span><span class="p">,</span>
        <span class="s2">"output_value"</span><span class="o">:</span> <span class="mi">16450000</span><span class="p">,</span>
        <span class="s2">"sequence"</span><span class="o">:</span> <span class="mi">4294967295</span><span class="p">,</span>
        <span class="s2">"addresses"</span><span class="o">:</span> <span class="p">[</span>
            <span class="s2">"1GbMfYui17L5m6sAy3L3WXAtf1P32bxJXq"</span>
        <span class="p">],</span>
        <span class="s2">"script_type"</span><span class="o">:</span> <span class="s2">"pay-to-pubkey-hash"</span>
    <span class="p">},</span>
    <span class="o">...</span><span class="p">,</span>
    <span class="o">...</span><span class="p">,</span>
<span class="p">],</span>
<span class="s2">"outputs"</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">"value"</span><span class="o">:</span> <span class="mi">70320221545</span><span class="p">,</span>
        <span class="s2">"script"</span><span class="o">:</span> <span class="s2">"76a914e6aad9d712c419ea8febf009a..."</span><span class="p">,</span>
        <span class="s2">"spent_by"</span><span class="o">:</span> <span class="s2">"35832d6c70b98b54e9a53ab2d5117..."</span><span class="p">,</span>
        <span class="s2">"addresses"</span><span class="o">:</span> <span class="p">[</span>
            <span class="s2">"1N2f642sbgCMbNtXFajz9XDACDFnFzdXzV"</span>
        <span class="p">],</span>
        <span class="s2">"script_type"</span><span class="o">:</span> <span class="s2">"pay-to-pubkey-hash"</span>
    <span class="p">}</span>
<span class="p">]</span>
<span class="p">}</span>
</code></pre>

<p>The Transaction Hash Endpoint returns detailed information about a given transaction based on its hash.</p>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/txs/$TXHASH</td>
<td>GET</td>
<td><a href="#tx">TX</a></td>
</tr>
</tbody></table>

<p>TXHASH is a <em>string</em> representing the hex-encoded transaction hash you&rsquo;re interested in querying, for example:</p>

<p><code class="prettyprint">f854aebae95150b379cc1187d848d58225f3c4157fe992bcd166f58bd5063449</code></p>

<p>The returned object contains detailed information about the transaction, including the value transfered, date received, and a full listing of inputs and outputs.</p>

<h2 id="unconfirmed-transactions-endpoint">Unconfirmed Transactions Endpoint</h2>
<pre class="highlight shell"><code>curl http://api.blockcypher.com/v1/btc/main/txs

<span class="o">[</span>
    <span class="o">{</span>
    <span class="s2">"block_height"</span>: -1,
    <span class="s2">"hash"</span>: <span class="s2">"7f3af38d988e479f651520b13b85..."</span>,
    <span class="s2">"addresses"</span>: <span class="o">[</span>
        <span class="s2">"19ZZonTmBD3VBhgFSWrtNis6Wo4aNRyjAV"</span>,
        <span class="s2">"1GD2Gnt3Vk51FpUhZWrFpSa24KE2ZGPaWG"</span>,
        <span class="s2">"1HEJiW8jxvUvVQ5cuButRmFj6ZzKzM9Fp6"</span>
    <span class="o">]</span>,
    <span class="s2">"total"</span>: 46977000,
    <span class="s2">"fees"</span>: 10000,
    <span class="s2">"size"</span>: 225,
    <span class="s2">"preference"</span>: <span class="s2">"medium"</span>,
    <span class="s2">"relayed_by"</span>: <span class="s2">"54.209.56.58:8333"</span>,
    ...
    <span class="o">}</span>,
    <span class="o">{</span>
    <span class="s2">"block_height"</span>: -1,
    <span class="s2">"hash"</span>: <span class="s2">"7e2d8b4e95c8246e81f297539409..."</span>,
    <span class="s2">"addresses"</span>: <span class="o">[</span>
        <span class="s2">"12u8EFJR6QJpNYbuQcYt2iMsAtPdnCFwQb"</span>,
        <span class="s2">"1MUbYoqSadRSEipwcmKnH37NaKakDCmgwW"</span>
    <span class="o">]</span>,
    <span class="s2">"total"</span>: 1070000,
    <span class="s2">"fees"</span>: 10000,
    <span class="s2">"size"</span>: 225,
    <span class="s2">"preference"</span>: <span class="s2">"medium"</span>,
    <span class="s2">"relayed_by"</span>: <span class="s2">"52.1.229.213:8333"</span>,
    <span class="s2">"received"</span>: <span class="s2">"2015-05-21T05:44:13.878Z"</span>,
    ...
    <span class="o">}</span>,
...
<span class="o">]</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'https://api.blockcypher.com/v1/btc/main/txs'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span>
<span class="o">&gt;</span> <span class="p">[</span>
<span class="o">&gt;</span>   <span class="p">{</span>
<span class="o">&gt;</span>   <span class="s2">"block_height"</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"hash"</span><span class="p">:</span> <span class="s2">"7f3af38d988e479f651520b13b85..."</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>       <span class="s2">"19ZZonTmBD3VBhgFSWrtNis6Wo4aNRyjAV"</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"1GD2Gnt3Vk51FpUhZWrFpSa24KE2ZGPaWG"</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"1HEJiW8jxvUvVQ5cuButRmFj6ZzKzM9Fp6"</span>
<span class="o">&gt;</span>   <span class="p">],</span>
<span class="o">&gt;</span>   <span class="s2">"total"</span><span class="p">:</span> <span class="mi">46977000</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"fees"</span><span class="p">:</span> <span class="mi">10000</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"size"</span><span class="p">:</span> <span class="mi">225</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"preference"</span><span class="p">:</span> <span class="s2">"medium"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"relayed_by"</span><span class="p">:</span> <span class="s2">"54.209.56.58:8333"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="p">...</span>
<span class="o">&gt;</span>   <span class="p">},</span>
<span class="o">&gt;</span>   <span class="p">{</span>
<span class="o">&gt;</span>   <span class="s2">"block_height"</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"hash"</span><span class="p">:</span> <span class="s2">"7e2d8b4e95c8246e81f297539409..."</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>       <span class="s2">"12u8EFJR6QJpNYbuQcYt2iMsAtPdnCFwQb"</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"1MUbYoqSadRSEipwcmKnH37NaKakDCmgwW"</span>
<span class="o">&gt;</span>   <span class="p">],</span>
<span class="o">&gt;</span>   <span class="s2">"total"</span><span class="p">:</span> <span class="mi">1070000</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"fees"</span><span class="p">:</span> <span class="mi">10000</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"size"</span><span class="p">:</span> <span class="mi">225</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"preference"</span><span class="p">:</span> <span class="s2">"medium"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"relayed_by"</span><span class="p">:</span> <span class="s2">"52.1.229.213:8333"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"received"</span><span class="p">:</span> <span class="s2">"2015-05-21T05:44:13.878Z"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="p">...</span>
<span class="o">&gt;</span>   <span class="p">},</span>
<span class="o">&gt;</span> <span class="p">...</span>
<span class="o">&gt;</span> <span class="p">]</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Fund existing address with faucet</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'http://api.blockcypher.com/v1/btc/main/txs'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">[{</span><span class="s">'received'</span><span class="p">:</span> <span class="s">'2015-06-10T23:10:31.534Z'</span><span class="p">,</span>
  <span class="s">'ver'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">'double_spend'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
  <span class="s">'outputs'</span><span class="p">:</span> <span class="p">[{</span><span class="s">'value'</span><span class="p">:</span> <span class="mi">131910000</span><span class="p">,</span>
    <span class="s">'addresses'</span><span class="p">:</span> <span class="p">[</span><span class="s">'1Gb4TAU4GD73akvt4V7tg2WdqadcpQSvhH'</span><span class="p">],</span>
    <span class="s">'script_type'</span><span class="p">:</span> <span class="s">'pay-to-pubkey-hash'</span><span class="p">,</span>
    <span class="s">'script'</span><span class="p">:</span> <span class="s">'76a914aafae908428a1778d0e76f0dca4cb800f731873e88ac'</span><span class="p">},</span>
    <span class="o">...</span>
    <span class="p">],</span>
  <span class="s">'block_height'</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
  <span class="s">'confidence'</span><span class="p">:</span> <span class="mf">0.36208077122201</span><span class="p">,</span>
  <span class="s">'receive_count'</span><span class="p">:</span> <span class="mi">109</span><span class="p">,</span>
  <span class="s">'total'</span><span class="p">:</span> <span class="mi">131940196</span><span class="p">,</span>
  <span class="s">'fees'</span><span class="p">:</span> <span class="mi">13754</span><span class="p">,</span>
  <span class="s">'inputs'</span><span class="p">:</span> <span class="p">[{</span><span class="s">'output_value'</span><span class="p">:</span> <span class="mi">9467</span><span class="p">,</span>
    <span class="s">'sequence'</span><span class="p">:</span> <span class="mi">4294967295</span><span class="p">,</span>
    <span class="s">'prev_hash'</span><span class="p">:</span> <span class="s">'3c65f3bdec16c55fcedec8159ca8b7decf12393e3a7088febbfacfd752534ee0'</span><span class="p">,</span>
    <span class="s">'script'</span><span class="p">:</span> <span class="s">'47304402207510efc3ff2ed868478ef627c4fd53a27254874e61c1ff1be6fb5221844c08ac02204a8a50c35d3fac8ec0c15f468c98abb629cadf3ac898f7be5e6f464ba9e4fba00121035649100ba29d0b34df8a928c2ed7ab1389d017b4ed206f6df5c212a461a764f2'</span><span class="p">,</span>
    <span class="s">'age'</span><span class="p">:</span> <span class="mi">38</span><span class="p">,</span>
    <span class="s">'addresses'</span><span class="p">:</span> <span class="p">[</span><span class="s">'1MBuZ5ZxhytsjRZmec5rLr1WhDWm9DgFUJ'</span><span class="p">],</span>
    <span class="s">'output_index'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s">'script_type'</span><span class="p">:</span> <span class="s">'pay-to-pubkey-hash'</span><span class="p">},</span>
    <span class="o">...</span>
   <span class="p">],</span>
  <span class="s">'preference'</span><span class="p">:</span> <span class="s">'medium'</span><span class="p">,</span>
  <span class="s">'vout_sz'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="s">'vin_sz'</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
  <span class="s">'relayed_by'</span><span class="p">:</span> <span class="s">'167.114.118.213:8333'</span><span class="p">,</span>
  <span class="s">'hash'</span><span class="p">:</span> <span class="s">'97f551c7d200f3acf322160d6ada87830d2ad8d935909630a35a87d61bc8fa74'</span><span class="p">,</span>
  <span class="s">'addresses'</span><span class="p">:</span> <span class="p">[</span><span class="s">'1DLDFKuAWGUJqZoYrevG8bHufuZCjCdSFZ'</span><span class="p">,</span>
   <span class="s">'1Gb4TAU4GD73akvt4V7tg2WdqadcpQSvhH'</span><span class="p">,</span>
   <span class="o">...</span>
   <span class="p">]</span>
  <span class="s">'lock_time'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s">'size'</span><span class="p">:</span> <span class="mi">521</span><span class="p">,</span>
  <span class="s">'confirmations'</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span>
 <span class="o">...</span>
<span class="p">],</span>
</code></pre>

<p>The Unconfirmed Transactions Endpoint returns an array of the latest transactions relayed by nodes in a blockchain that haven&rsquo;t been included in any blocks.</p>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/txs</td>
<td>GET</td>
<td>Array[<a href="#TX">TX</a>]</td>
</tr>
</tbody></table>

<p>The returned object is an array of transactions that haven&rsquo;t been included in blocks, arranged in reverse chronological order (latest is first, then older transactions follow).</p>

<aside class="notice">
Due to <a href="https://bitcoin.org/en/glossary/malleability">transaction malleability</a> it can be difficult to deal with transaction hashes before they&rsquo;ve been confirmed in blocks. Use caution, and consider applying our <a href="#confidence-factor">Confidence Factor</a> to mitigate potential issues.
</aside>

<h2 id="creating-transactions">Creating Transactions</h2>

<p>Using BlockCypher&rsquo;s API, you can push transactions to blockchains one of two ways:</p>

<ul>
<li>Use a third party library to create your transactions and <a href="#push-raw-transaction-endpoint">push raw transactions</a></li>
<li>Use our two-endpoint process outlined below, wherein we generate a <a href="#txskeleton">TXSkeleton</a> based on your input address, output address, and value to transfer.</li>
</ul>

<p>In either case, for security reasons, we never take possession of your private keys. We do use private keys with our <a href="#microtransaction-api">Microtransaction API</a>, but they are for low-value transactions and we discard them immediately from our servers&rsquo; memory.</p>

<aside class="warning">
Always use HTTPS for creating and pushing transactions.
</aside>

<h3 id="new-transaction-endpoint">New Transaction Endpoint</h3>
<pre class="highlight shell"><code>curl -d <span class="s1">'{"inputs":[{"addresses": ["CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"]}],"outputs":[{"addresses": ["C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn"], "value": 1000000}]}'</span> https://api.blockcypher.com/v1/bcy/test/txs/new

<span class="o">{</span>
<span class="s2">"tx"</span>: <span class="o">{</span>
    <span class="s2">"block_height"</span>: -1,
    <span class="s2">"hash"</span>: <span class="s2">"c2b350b273b3bf04791d8e59fc9c021fd91fa423c50c29473dc079150f5a778a"</span>,
    <span class="s2">"addresses"</span>: <span class="o">[</span>
        <span class="s2">"CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"</span>,
        <span class="s2">"C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn"</span>
    <span class="o">]</span>,
    <span class="s2">"total"</span>: 4988000,
    <span class="s2">"fees"</span>: 12000,
    <span class="s2">"size"</span>: 119,
    <span class="s2">"preference"</span>: <span class="s2">"high"</span>,
    ...,
    <span class="s2">"confirmations"</span>: 0,
    <span class="s2">"inputs"</span>: <span class="o">[</span>
        <span class="o">{</span>
        <span class="s2">"prev_hash"</span>: <span class="s2">"c8ea8b221580ebb2f1cabc8b40797bffec742b97c82a329df96d93121db43519"</span>,
        <span class="s2">"output_value"</span>: 5000000,
        <span class="s2">"addresses"</span>: <span class="o">[</span><span class="s2">"CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"</span><span class="o">]</span>,
        <span class="s2">"script"</span>: <span class="s2">""</span>,
        <span class="s2">"script_type"</span>: <span class="s2">""</span>,
        ...
        <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"outputs"</span>: <span class="o">[</span>
        <span class="o">{</span>
        <span class="s2">"value"</span>: 1000000,
        <span class="s2">"script"</span>: <span class="s2">"76a9145fb1af31edd2aa5a2bbaa24f6043d6ec31f7e63288ac"</span>,
        <span class="s2">"addresses"</span>: <span class="o">[</span><span class="s2">"C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn"</span><span class="o">]</span>,
        <span class="s2">"script_type"</span>: <span class="s2">"pay-to-pubkey-hash"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
        <span class="s2">"value"</span>: 3988000,
        <span class="s2">"script"</span>: <span class="s2">"76a914efec6de6c253e657a9d5506a78ee48d89762fb3188ac"</span>,
        <span class="s2">"addresses"</span>: <span class="o">[</span><span class="s2">"CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"</span><span class="o">]</span>,
        <span class="s2">"script_type"</span>: <span class="s2">"pay-to-pubkey-hash"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>,
<span class="s2">"tosign"</span>: <span class="o">[</span><span class="s2">"32b5ea64c253b6b466366647458cfd60de9cd29d7dc542293aa0b8b7300cd827"</span><span class="o">]</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">newtx</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">inputs</span><span class="p">:</span> <span class="p">[{</span><span class="na">addresses</span><span class="p">:</span> <span class="p">[</span><span class="s1">'CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9'</span><span class="p">]}],</span>
  <span class="na">outputs</span><span class="p">:</span> <span class="p">[{</span><span class="na">addresses</span><span class="p">:</span> <span class="p">[</span><span class="s1">'C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn'</span><span class="p">],</span> <span class="na">value</span><span class="p">:</span> <span class="mi">100000</span><span class="p">}]</span>
<span class="p">};</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'https://api.blockcypher.com/v1/bcy/test/txs/new'</span><span class="p">,</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">newtx</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span>
<span class="o">&gt;</span> <span class="p">{</span>
<span class="o">&gt;</span>   <span class="s2">"tx"</span><span class="p">:</span> <span class="p">{</span>
<span class="o">&gt;</span>     <span class="s2">"block_height"</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"hash"</span><span class="p">:</span> <span class="s2">"c2b350b273b3bf04791d8e59fc9c021fd91fa423c50c29473dc079150f5a778a"</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>       <span class="s2">"CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn"</span>
<span class="o">&gt;</span>     <span class="p">],</span>
<span class="o">&gt;</span>     <span class="s2">"total"</span><span class="p">:</span> <span class="mi">4988000</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"fees"</span><span class="p">:</span> <span class="mi">12000</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"size"</span><span class="p">:</span> <span class="mi">119</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"preference"</span><span class="p">:</span> <span class="s2">"high"</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"relayed_by"</span><span class="p">:</span> <span class="s2">"208.71.159.84"</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"received"</span><span class="p">:</span> <span class="s2">"2015-05-21T19:04:14.492743867Z"</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"ver"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"lock_time"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"double_spend"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"vin_sz"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"vout_sz"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"confirmations"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"inputs"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>       <span class="p">{</span>
<span class="o">&gt;</span>         <span class="s2">"prev_hash"</span><span class="p">:</span> <span class="s2">"c8ea8b221580ebb2f1cabc8b40797bffec742b97c82a329df96d93121db43519"</span><span class="p">,</span>
<span class="o">&gt;</span>         <span class="s2">"output_index"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span>         <span class="s2">"script"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
<span class="o">&gt;</span>         <span class="s2">"output_value"</span><span class="p">:</span> <span class="mi">5000000</span><span class="p">,</span>
<span class="o">&gt;</span>         <span class="s2">"sequence"</span><span class="p">:</span> <span class="mi">4294967295</span><span class="p">,</span>
<span class="o">&gt;</span>         <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>           <span class="s2">"CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"</span>
<span class="o">&gt;</span>         <span class="p">],</span>
<span class="o">&gt;</span>         <span class="s2">"script_type"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
<span class="o">&gt;</span>         <span class="s2">"age"</span><span class="p">:</span> <span class="mi">4</span>
<span class="o">&gt;</span>       <span class="p">}</span>
<span class="o">&gt;</span>     <span class="p">],</span>
<span class="o">&gt;</span>     <span class="s2">"outputs"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>       <span class="p">{</span>
<span class="o">&gt;</span>         <span class="s2">"value"</span><span class="p">:</span> <span class="mi">1000000</span><span class="p">,</span>
<span class="o">&gt;</span>         <span class="s2">"script"</span><span class="p">:</span> <span class="s2">"76a9145fb1af31edd2aa5a2bbaa24f6043d6ec31f7e63288ac"</span><span class="p">,</span>
<span class="o">&gt;</span>         <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>           <span class="s2">"C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn"</span>
<span class="o">&gt;</span>         <span class="p">],</span>
<span class="o">&gt;</span>         <span class="s2">"script_type"</span><span class="p">:</span> <span class="s2">"pay-to-pubkey-hash"</span>
<span class="o">&gt;</span>       <span class="p">},</span>
<span class="o">&gt;</span>       <span class="p">{</span>
<span class="o">&gt;</span>         <span class="s2">"value"</span><span class="p">:</span> <span class="mi">3988000</span><span class="p">,</span>
<span class="o">&gt;</span>         <span class="s2">"script"</span><span class="p">:</span> <span class="s2">"76a914efec6de6c253e657a9d5506a78ee48d89762fb3188ac"</span><span class="p">,</span>
<span class="o">&gt;</span>         <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>           <span class="s2">"CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"</span>
<span class="o">&gt;</span>         <span class="p">],</span>
<span class="o">&gt;</span>         <span class="s2">"script_type"</span><span class="p">:</span> <span class="s2">"pay-to-pubkey-hash"</span>
<span class="o">&gt;</span>       <span class="p">}</span>
<span class="o">&gt;</span>     <span class="p">]</span>
<span class="o">&gt;</span>   <span class="p">},</span>
<span class="o">&gt;</span>   <span class="s2">"tosign"</span><span class="err">:</span> <span class="p">[</span>
<span class="o">&gt;</span>     <span class="s2">"32b5ea64c253b6b466366647458cfd60de9cd29d7dc542293aa0b8b7300cd827"</span>
<span class="o">&gt;</span>   <span class="p">]</span>
<span class="o">&gt;</span> <span class="p">}</span>
</code></pre>
<pre class="highlight python"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">json</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">'inputs'</span><span class="p">:</span> <span class="p">[{</span><span class="s">'addresses'</span><span class="p">:</span> <span class="p">[</span><span class="s">'CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9'</span><span class="p">,]}],</span> <span class="s">'outputs'</span><span class="p">:</span> <span class="p">[{</span><span class="s">'addresses'</span><span class="p">:</span> <span class="p">[</span><span class="s">'C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn'</span><span class="p">,</span> <span class="p">],</span> <span class="s">'value'</span><span class="p">:</span> <span class="mi">1000000</span><span class="p">}]}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.blockcypher.com/v1/bcy/test/txs/new'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s">'tosign'</span><span class="p">:</span> <span class="p">[</span><span class="s">'d65bd083f968a2002e6d71044c0aaa601ec45dfdd6dc9168907141bda4f31fbd'</span><span class="p">],</span>
 <span class="s">'tx'</span><span class="p">:</span> <span class="p">{</span><span class="s">'received'</span><span class="p">:</span> <span class="s">'2015-06-10T23:16:15.28508806Z'</span><span class="p">,</span>
  <span class="s">'ver'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">'double_spend'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
  <span class="s">'outputs'</span><span class="p">:</span> <span class="p">[{</span><span class="s">'value'</span><span class="p">:</span> <span class="mi">1000000</span><span class="p">,</span>
    <span class="s">'addresses'</span><span class="p">:</span> <span class="p">[</span><span class="s">'C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn'</span><span class="p">],</span>
    <span class="s">'script_type'</span><span class="p">:</span> <span class="s">'pay-to-pubkey-hash'</span><span class="p">,</span>
    <span class="s">'script'</span><span class="p">:</span> <span class="s">'76a9145fb1af31edd2aa5a2bbaa24f6043d6ec31f7e63288ac'</span><span class="p">},</span>
   <span class="p">{</span><span class="s">'value'</span><span class="p">:</span> <span class="mi">2856000</span><span class="p">,</span>
    <span class="s">'addresses'</span><span class="p">:</span> <span class="p">[</span><span class="s">'CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9'</span><span class="p">],</span>
    <span class="s">'script_type'</span><span class="p">:</span> <span class="s">'pay-to-pubkey-hash'</span><span class="p">,</span>
    <span class="s">'script'</span><span class="p">:</span> <span class="s">'76a914efec6de6c253e657a9d5506a78ee48d89762fb3188ac'</span><span class="p">}],</span>
  <span class="s">'block_height'</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
  <span class="s">'total'</span><span class="p">:</span> <span class="mi">3856000</span><span class="p">,</span>
  <span class="s">'fees'</span><span class="p">:</span> <span class="mi">12000</span><span class="p">,</span>
  <span class="s">'inputs'</span><span class="p">:</span> <span class="p">[{</span><span class="s">'output_value'</span><span class="p">:</span> <span class="mi">3868000</span><span class="p">,</span>
    <span class="s">'sequence'</span><span class="p">:</span> <span class="mi">4294967295</span><span class="p">,</span>
    <span class="s">'prev_hash'</span><span class="p">:</span> <span class="s">'6b1c30cad97df956cfcb47b4cd471bb69112fb726b0fb129575337e3fb9f2c1a'</span><span class="p">,</span>
    <span class="s">'script'</span><span class="p">:</span> <span class="s">''</span><span class="p">,</span>
    <span class="s">'age'</span><span class="p">:</span> <span class="mi">294</span><span class="p">,</span>
    <span class="s">'addresses'</span><span class="p">:</span> <span class="p">[</span><span class="s">'CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9'</span><span class="p">],</span>
    <span class="s">'output_index'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s">'script_type'</span><span class="p">:</span> <span class="s">''</span><span class="p">}],</span>
  <span class="s">'preference'</span><span class="p">:</span> <span class="s">'high'</span><span class="p">,</span>
  <span class="s">'vout_sz'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="s">'vin_sz'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">'relayed_by'</span><span class="p">:</span> <span class="s">'207.38.134.25'</span><span class="p">,</span>
  <span class="s">'hash'</span><span class="p">:</span> <span class="s">'4508ebb031af94173c58d3848683308ccb8d67c08952feb3d36406066c030bf5'</span><span class="p">,</span>
  <span class="s">'addresses'</span><span class="p">:</span> <span class="p">[</span><span class="s">'CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9'</span><span class="p">,</span>
   <span class="s">'C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn'</span><span class="p">],</span>
  <span class="s">'lock_time'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s">'size'</span><span class="p">:</span> <span class="mi">119</span><span class="p">,</span>
  <span class="s">'confirmations'</span><span class="p">:</span> <span class="mi">0</span><span class="p">}}</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\transaction-api\NewTransactionEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\Transaction</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'test'</span><span class="p">,</span> <span class="s1">'bcy'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">// Create a new instance of Transaction object
</span><span class="nv">$tx</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Transaction</span><span class="p">();</span>

<span class="c1">// Tx inputs
</span><span class="nv">$input</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\BlockCypher\Api\Input</span><span class="p">();</span>
<span class="nv">$input</span><span class="o">-&gt;</span><span class="na">addAddress</span><span class="p">(</span><span class="s2">"C5vqMGme4FThKnCY44gx1PLgWr86uxRbDm"</span><span class="p">);</span>
<span class="nv">$tx</span><span class="o">-&gt;</span><span class="na">addInput</span><span class="p">(</span><span class="nv">$input</span><span class="p">);</span>
<span class="c1">// Tx outputs
</span><span class="nv">$output</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\BlockCypher\Api\Output</span><span class="p">();</span>
<span class="nv">$output</span><span class="o">-&gt;</span><span class="na">addAddress</span><span class="p">(</span><span class="s2">"C4MYFr4EAdqEeUKxTnPUF3d3whWcPMz1Fi"</span><span class="p">);</span>
<span class="nv">$tx</span><span class="o">-&gt;</span><span class="na">addOutput</span><span class="p">(</span><span class="nv">$output</span><span class="p">);</span>
<span class="c1">// Tx amount
</span><span class="nv">$output</span><span class="o">-&gt;</span><span class="na">setValue</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span> <span class="c1">// Satoshis
</span>
<span class="c1">// For Sample Purposes Only.
</span><span class="nv">$request</span> <span class="o">=</span> <span class="k">clone</span> <span class="nv">$tx</span><span class="p">;</span>

<span class="c1">// ### Create New Transaction
</span><span class="nv">$output</span> <span class="o">=</span> <span class="nv">$tx</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">{</span>
  <span class="s2">"tx"</span><span class="o">:</span><span class="p">{</span>
    <span class="s2">"block_height"</span><span class="o">:-</span><span class="mi">1</span><span class="p">,</span>
    <span class="s2">"hash"</span><span class="o">:</span><span class="s2">"edb785c310ea58c70245c9a89130efca8fb0a02d4bee47b18542986e7bf95806"</span><span class="p">,</span>
    <span class="s2">"addresses"</span><span class="o">:</span><span class="p">[</span>
      <span class="s2">"C5vqMGme4FThKnCY44gx1PLgWr86uxRbDm"</span><span class="p">,</span>
      <span class="s2">"C4MYFr4EAdqEeUKxTnPUF3d3whWcPMz1Fi"</span>
    <span class="p">],</span>
    <span class="s2">"total"</span><span class="o">:</span><span class="mi">5420100</span><span class="p">,</span>
    <span class="s2">"fees"</span><span class="o">:</span><span class="mi">12000</span><span class="p">,</span>
    <span class="s2">"size"</span><span class="o">:</span><span class="mi">119</span><span class="p">,</span>
    <span class="s2">"preference"</span><span class="o">:</span><span class="s2">"high"</span><span class="p">,</span>
    <span class="s2">"relayed_by"</span><span class="o">:</span><span class="s2">"88.7.90.149"</span><span class="p">,</span>
    <span class="s2">"received"</span><span class="o">:</span><span class="s2">"2015-06-17T10:23:02.475392139Z"</span><span class="p">,</span>
    <span class="s2">"ver"</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span>
    <span class="s2">"lock_time"</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="s2">"double_spend"</span><span class="o">:</span><span class="kc">false</span><span class="p">,</span>
    <span class="s2">"vin_sz"</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span>
    <span class="s2">"vout_sz"</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span>
    <span class="s2">"confirmations"</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="s2">"inputs"</span><span class="o">:</span><span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"prev_hash"</span><span class="o">:</span><span class="s2">"64e39fa5322ee604ad548dc5d4ae1a61b0a575278724d0df7e53dd334f5f13e3"</span><span class="p">,</span>
        <span class="s2">"output_index"</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span>
        <span class="s2">"script"</span><span class="o">:</span><span class="s2">""</span><span class="p">,</span>
        <span class="s2">"output_value"</span><span class="o">:</span><span class="mi">5432100</span><span class="p">,</span>
        <span class="s2">"sequence"</span><span class="o">:</span><span class="mi">4294967295</span><span class="p">,</span>
        <span class="s2">"addresses"</span><span class="o">:</span><span class="p">[</span>
          <span class="s2">"C5vqMGme4FThKnCY44gx1PLgWr86uxRbDm"</span>
        <span class="p">],</span>
        <span class="s2">"script_type"</span><span class="o">:</span><span class="s2">""</span><span class="p">,</span>
        <span class="s2">"age"</span><span class="o">:</span><span class="mi">0</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"outputs"</span><span class="o">:</span><span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"value"</span><span class="o">:</span><span class="mi">1000</span><span class="p">,</span>
        <span class="s2">"script"</span><span class="o">:</span><span class="s2">"76a9147b2b09ad46d95e177df6969a275db321c66cecf388ac"</span><span class="p">,</span>
        <span class="s2">"addresses"</span><span class="o">:</span><span class="p">[</span>
          <span class="s2">"C4MYFr4EAdqEeUKxTnPUF3d3whWcPMz1Fi"</span>
        <span class="p">],</span>
        <span class="s2">"script_type"</span><span class="o">:</span><span class="s2">"pay-to-pubkey-hash"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"value"</span><span class="o">:</span><span class="mi">5419100</span><span class="p">,</span>
        <span class="s2">"script"</span><span class="o">:</span><span class="s2">"76a9148c6f28c814116f1ae3d0940b2fb05a68a9507e8a88ac"</span><span class="p">,</span>
        <span class="s2">"addresses"</span><span class="o">:</span><span class="p">[</span>
          <span class="s2">"C5vqMGme4FThKnCY44gx1PLgWr86uxRbDm"</span>
        <span class="p">],</span>
        <span class="s2">"script_type"</span><span class="o">:</span><span class="s2">"pay-to-pubkey-hash"</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="s2">"tosign"</span><span class="o">:</span><span class="p">[</span>
    <span class="s2">"770af2c9a9b7b8b1998e36d4c1ce2b8fa3b9d4d6575679a513722d9f478177d2"</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre>

<p>To use BlockCypher&rsquo;s two-endpoint transaction creation tool, first you need to provide the input address(es), output address, and value to transfer (in satoshis). Provide this in a partially-filled out <a href="#tx">TX</a> request object.</p>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Request Object</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/txs/new</td>
<td>POST</td>
<td><a href="#tx">TX</a></td>
<td><a href="#txskeleton">TXSkeleton</a></td>
</tr>
</tbody></table>

<p>As you can see from the code example, you only need to provide a single public address within the <strong>addresses</strong> array of both the <strong>input</strong> and <strong>output</strong> of your <a href="#tx">TX</a> request object. You also need to fill in the <strong>value</strong> with the amount you&rsquo;d like to transfer from one address to another.</p>

<p>If you&rsquo;d like, you can even use a <a href="#wallet">Wallet</a> instead of addresses as your input. You just need to use two non-standard fields (your <strong>wallet_name</strong> and <strong>wallet_token</strong>) within the <strong>inputs</strong> array in your transaction, instead of <strong>addresses</strong>:</p>

<p><code class="prettyprint">{inputs:[{&quot;wallet_name&quot;:&quot;alice&quot;, &quot;wallet_token&quot;:&quot;YOURTOKEN&quot;}], value: 5000000}</code></p>

<p>While this particular usage will differ between client libraries, the result is the same: the addresses within your wallet will be used as the <strong>inputs</strong>, as if all of them had been placed within the <strong>addresses</strong> array.</p>

<p>As a return object, you&rsquo;ll receive a <a href="#txskeleton">TXSkeleton</a> containing a slightly-more complete <a href="#tx">TX</a> alongside data you need to sign in the <strong>tosign</strong> array. You&rsquo;ll need this object for the next steps of the transaction creation process.</p>

<aside class="notice">
If you want to automatically empty your input address(es) without knowing their exact value, your <a href="#tx">TX</a> request object&rsquo;s <b>value</b> can be set to -1 to <i>sweep</i> all value from your input address(es) to your output address.
</aside>

<aside class="notice">
There are many manually configurable options available via your <a href="#tx">TX</a> request object. You can read about them in more detail in the <a href="#customizing-transaction-requests">Customizing Transaction Requests</a> section below.
</aside>

<aside class="warning">
The <b>hash</b> assigned to <a href="#tx">TX</a> within the return object is only temporary. A final <b>hash</b> will be provided after the transaction is sent to the network through the Send Transaction Endpoint.
</aside>
<pre class="highlight shell"><code><span class="c"># next, you sign the data returned in the tosign array locally</span>
<span class="c"># here we're using our signer tool (https://github.com/blockcypher/btcutils/tree/master/signer), but any ECDSA secp256k1 signing tool should work</span>
<span class="c"># $PRIVATEKEY here is a hex-encoded private key corresponding to the input from address CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9 </span>

./signer 32b5ea64c253b6b466366647458cfd60de9cd29d7dc542293aa0b8b7300cd827 <span class="nv">$PRIVATEKEY</span>

3045022100921fc36b911094280f07d8504a80fbab9b823a25f102e2bc69b14bcd369dfc7902200d07067d47f040e724b556e5bc3061af132d5a47bd96e901429d53c41e0f8cca
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// next, you sign the data returned in the tosign array locally</span>
<span class="c1">// here we're using bitcoinjs built to expose bigi, buffer, and require</span>
<span class="c1">// you can use this library here:</span>
<span class="c1">//   http://dev.blockcypher.com/data/samples/bitcoinjs-min.js</span>

<span class="kd">var</span> <span class="nx">bitcoin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"bitcoinjs-lib"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">bigi</span>    <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"bigi"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">buffer</span>  <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'buffer'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">key</span>     <span class="o">=</span> <span class="k">new</span> <span class="nx">bitcoin</span><span class="p">.</span><span class="nx">ECKey</span><span class="p">(</span><span class="nx">bigi</span><span class="p">.</span><span class="nx">fromHex</span><span class="p">(</span><span class="nx">my_hex_private_key</span><span class="p">),</span> <span class="kc">true</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">newtx</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">inputs</span><span class="p">:</span> <span class="p">[{</span><span class="na">addresses</span><span class="p">:</span> <span class="p">[</span><span class="s1">'CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9'</span><span class="p">]}],</span>
  <span class="na">outputs</span><span class="p">:</span> <span class="p">[{</span><span class="na">addresses</span><span class="p">:</span> <span class="p">[</span><span class="s1">'C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn'</span><span class="p">],</span> <span class="na">value</span><span class="p">:</span> <span class="mi">100000</span><span class="p">}]</span>
<span class="p">};</span>
<span class="c1">// calling the new endpoint, same as above</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'https://api.blockcypher.com/v1/bcy/test/txs/new'</span><span class="p">,</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">newtx</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">tmptx</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// signing each of the hex-encoded string required to finalize the transaction</span>
    <span class="nx">tmptx</span><span class="p">.</span><span class="nx">pubkeys</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="nx">tmptx</span><span class="p">.</span><span class="nx">signatures</span> <span class="o">=</span> <span class="nx">tmptx</span><span class="p">.</span><span class="nx">tosign</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">tosign</span><span class="p">,</span> <span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">tmptx</span><span class="p">.</span><span class="nx">pubkeys</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">key</span><span class="p">.</span><span class="nx">pub</span><span class="p">.</span><span class="nx">toHex</span><span class="p">());</span>
      <span class="k">return</span> <span class="nx">key</span><span class="p">.</span><span class="nx">sign</span><span class="p">(</span><span class="k">new</span> <span class="nx">buffer</span><span class="p">.</span><span class="nx">Buffer</span><span class="p">(</span><span class="nx">tosign</span><span class="p">,</span> <span class="s2">"hex"</span><span class="p">)).</span><span class="nx">toDER</span><span class="p">().</span><span class="nx">toString</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">);</span>
    <span class="p">});</span>
    <span class="c1">// sending back the transaction with all the signatures to broadcast</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">tmptx</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">finaltx</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">finaltx</span><span class="p">);</span>
    <span class="p">})</span>
  <span class="p">});</span>

</code></pre>

<h3 id="locally-sign-your-transaction">Locally Sign Your Transaction</h3>

<p>With your <a href="#txskeleton">TXSkeleton</a> returned from the New Transaction Endpoint, you now need to use your private key(s) to sign the data provided in the <strong>tosign</strong> array.</p>

<p>Digital signing can be a difficult process, and is where the majority of issues arise when dealing with cryptocurrency transactions. We are working on integrating client-side signing solutions into our libraries to make this process easier. You can read more about <a href="https://bitcoin.org/en/developer-guide#term-signature">signing here.</a> In the mean time, if you want to experiment with client-side signing, consider using our <a href="https://github.com/blockcypher/btcutils/tree/master/signer">signer tool</a>.</p>

<aside class="notice">
One of the most common errors in the signing process is a data format mismatch. We always return and expect hex-encoded data, but oftentimes, standard signing libraries require byte arrays. Remember to convert your data, and always send hex-encoded signatures to BlockCypher.
</aside>
<pre class="highlight shell"><code><span class="c"># the request body is truncated because it's huge, but it's the same as the returned object from above plus the signatures and public keys</span>
curl -d <span class="s1">'{"tx": {...}, "tosign": [ "32b5ea64c253b6b466366647458cfd60de9cd29d7dc542293aa0b8b7300cd827" ], "signatures": [ "3045022100921fc36b911094280f07d8504a80fbab9b823a25f102e2bc69b14bcd369dfc7902200d07067d47f040e724b556e5bc3061af132d5a47bd96e901429d53c41e0f8cca" ], "pubkeys": [ "02152e2bb5b273561ece7bbe8b1df51a4c44f5ab0bc940c105045e2cc77e618044" ] }'</span> https://api.blockcypher.com/v1/bcy/test/txs/send

<span class="o">{</span>
<span class="s2">"tx"</span>: <span class="o">{</span>
    <span class="s2">"block_height"</span>: -1,
    <span class="s2">"hash"</span>: <span class="s2">"4e6dfb1415b4fba5bd257c129847c70fbd4e45e41828079c4a282680528f3a50"</span>,
    <span class="s2">"addresses"</span>: <span class="o">[</span>
        <span class="s2">"CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"</span>,
        <span class="s2">"C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn"</span>
    <span class="o">]</span>,
    <span class="s2">"total"</span>: 4988000,
    <span class="s2">"fees"</span>: 12000,
    <span class="s2">"size"</span>: 226,
    <span class="s2">"preference"</span>: <span class="s2">"high"</span>,
    ...,
    <span class="s2">"confirmations"</span>: 0,
    <span class="s2">"inputs"</span>: <span class="o">[</span>
        <span class="o">{</span>
        <span class="s2">"prev_hash"</span>: <span class="s2">"c8ea8b221580ebb2f1cabc8b40797bffec742b97c82a329df96d93121db43519"</span>,
        <span class="s2">"output_value"</span>: 5000000,
        <span class="s2">"addresses"</span>: <span class="o">[</span><span class="s2">"CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"</span><span class="o">]</span>,
        <span class="s2">"script"</span>: <span class="s2">"483045022100921fc36b911094280f..."</span>,
        <span class="s2">"script_type"</span>: <span class="s2">"pay-to-pubkey-hash"</span>,
        ...
        <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"outputs"</span>: <span class="o">[</span>
        <span class="o">{</span>
        <span class="s2">"value"</span>: 1000000,
        <span class="s2">"script"</span>: <span class="s2">"76a9145fb1af31edd2aa5a2bbaa24f6043d6ec31f7e63288ac"</span>,
        <span class="s2">"addresses"</span>: <span class="o">[</span><span class="s2">"C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn"</span><span class="o">]</span>,
        <span class="s2">"script_type"</span>: <span class="s2">"pay-to-pubkey-hash"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
        <span class="s2">"value"</span>: 3988000,
        <span class="s2">"script"</span>: <span class="s2">"76a914efec6de6c253e657a9d5506a78ee48d89762fb3188ac"</span>,
        <span class="s2">"addresses"</span>: <span class="o">[</span><span class="s2">"CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"</span><span class="o">]</span>,
        <span class="s2">"script_type"</span>: <span class="s2">"pay-to-pubkey-hash"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>,
<span class="s2">"tosign"</span>: <span class="o">[</span> <span class="s2">""</span> <span class="o">]</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// this shows just the last step of sending your transaction, see the signing section</span>
<span class="c1">// for the fully integrated sample</span>
<span class="c1">// the request body is truncated because it's huge, but it's the same as the returned</span>
<span class="c1">// object from calling the new endpoint plus the signatures and public keys added in the</span>
<span class="c1">// signing section</span>
<span class="kd">var</span> <span class="nx">sendtx</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">tx</span><span class="p">:</span> <span class="p">{...},</span>
  <span class="na">tosign</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">"32b5ea64c253b6b466366647458cfd60de9cd29d7dc542293aa0b8b7300cd827"</span>
  <span class="p">],</span>
  <span class="na">signatures</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">"3045022100921fc36b911094280f07d8504a80fbab9b823a25f102e2bc69b14bcd369dfc7902200d07067d47f040e724b556e5bc3061af132d5a47bd96e901429d53c41e0f8cca"</span>
  <span class="p">],</span>
  <span class="na">pubkeys</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">"02152e2bb5b273561ece7bbe8b1df51a4c44f5ab0bc940c105045e2cc77e618044"</span>
  <span class="p">]</span>
<span class="p">};</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'https://api.blockcypher.com/v1/bcy/test/txs/send'</span><span class="p">,</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">sendtx</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span>
<span class="o">&gt;</span> <span class="p">{</span>
<span class="o">&gt;</span>   <span class="s2">"tx"</span><span class="p">:</span> <span class="p">{</span>
<span class="o">&gt;</span>     <span class="s2">"block_height"</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"hash"</span><span class="p">:</span> <span class="s2">"4e6dfb1415b4fba5bd257c129847c70fbd4e45e41828079c4a282680528f3a50"</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>       <span class="s2">"CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn"</span>
<span class="o">&gt;</span>     <span class="p">],</span>
<span class="o">&gt;</span>     <span class="s2">"total"</span><span class="p">:</span> <span class="mi">4988000</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"fees"</span><span class="p">:</span> <span class="mi">12000</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"size"</span><span class="p">:</span> <span class="mi">226</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"preference"</span><span class="p">:</span> <span class="s2">"high"</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"relayed_by"</span><span class="p">:</span> <span class="s2">"73.162.198.68"</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"received"</span><span class="p">:</span> <span class="s2">"2015-05-22T04:38:57.470017042Z"</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"ver"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"lock_time"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"double_spend"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"vin_sz"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"vout_sz"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"confirmations"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"inputs"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>       <span class="p">{</span>
<span class="o">&gt;</span>         <span class="s2">"prev_hash"</span><span class="p">:</span> <span class="s2">"c8ea8b221580ebb2f1cabc8b40797bffec742b97c82a329df96d93121db43519"</span><span class="p">,</span>
<span class="o">&gt;</span>         <span class="s2">"output_index"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span>         <span class="s2">"script"</span><span class="p">:</span> <span class="s2">"483045022100921fc36b911094280f07d8504a80fbab9b823a25f102e2bc69b14bcd369dfc7902200d07067d47f040e724b556e5bc3061af132d5a47bd96e901429d53c41e0f8cca012102152e2bb5b273561ece7bbe8b1df51a4c44f5ab0bc940c105045e2cc77e618044"</span><span class="p">,</span>
<span class="o">&gt;</span>         <span class="s2">"output_value"</span><span class="p">:</span> <span class="mi">5000000</span><span class="p">,</span>
<span class="o">&gt;</span>         <span class="s2">"sequence"</span><span class="p">:</span> <span class="mi">4294967295</span><span class="p">,</span>
<span class="o">&gt;</span>         <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>           <span class="s2">"CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"</span>
<span class="o">&gt;</span>         <span class="p">],</span>
<span class="o">&gt;</span>         <span class="s2">"script_type"</span><span class="p">:</span> <span class="s2">"pay-to-pubkey-hash"</span><span class="p">,</span>
<span class="o">&gt;</span>         <span class="s2">"age"</span><span class="p">:</span> <span class="mi">546</span>
<span class="o">&gt;</span>       <span class="p">}</span>
<span class="o">&gt;</span>     <span class="p">],</span>
<span class="o">&gt;</span>     <span class="s2">"outputs"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>       <span class="p">{</span>
<span class="o">&gt;</span>         <span class="s2">"value"</span><span class="p">:</span> <span class="mi">1000000</span><span class="p">,</span>
<span class="o">&gt;</span>         <span class="s2">"script"</span><span class="p">:</span> <span class="s2">"76a9145fb1af31edd2aa5a2bbaa24f6043d6ec31f7e63288ac"</span><span class="p">,</span>
<span class="o">&gt;</span>         <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>           <span class="s2">"C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn"</span>
<span class="o">&gt;</span>         <span class="p">],</span>
<span class="o">&gt;</span>         <span class="s2">"script_type"</span><span class="p">:</span> <span class="s2">"pay-to-pubkey-hash"</span>
<span class="o">&gt;</span>       <span class="p">},</span>
<span class="o">&gt;</span>       <span class="p">{</span>
<span class="o">&gt;</span>         <span class="s2">"value"</span><span class="p">:</span> <span class="mi">3988000</span><span class="p">,</span>
<span class="o">&gt;</span>         <span class="s2">"script"</span><span class="p">:</span> <span class="s2">"76a914efec6de6c253e657a9d5506a78ee48d89762fb3188ac"</span><span class="p">,</span>
<span class="o">&gt;</span>         <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>           <span class="s2">"CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"</span>
<span class="o">&gt;</span>         <span class="p">],</span>
<span class="o">&gt;</span>         <span class="s2">"script_type"</span><span class="p">:</span> <span class="s2">"pay-to-pubkey-hash"</span>
<span class="o">&gt;</span>       <span class="p">}</span>
<span class="o">&gt;</span>     <span class="p">]</span>
<span class="o">&gt;</span>   <span class="p">},</span>
<span class="o">&gt;</span>   <span class="s2">"tosign"</span><span class="err">:</span> <span class="p">[</span>
<span class="o">&gt;</span>     <span class="s2">""</span>
<span class="o">&gt;</span>   <span class="p">]</span>
<span class="o">&gt;</span> <span class="p">}</span>
</code></pre>

<h3 id="send-transaction-endpoint">Send Transaction Endpoint</h3>

<p>Once you&rsquo;ve finished signing the <strong>tosign</strong> array locally, put that (hex-encoded) data into the <strong>signatures</strong> array of the <a href="#txskeleton">TXSkeleton</a>. You also need to include the corresponding (hex-encoded) public key(s) in the <strong>pubkeys</strong> array, in the order of the addresses/inputs provided. Signature and public key order matters, so make sure they are returned in the same order as the inputs you provided.</p>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Request Object</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/txs/send</td>
<td>POST</td>
<td><a href="#txskeleton">TXSkeleton</a></td>
<td><a href="#txskeleton">TXSkeleton</a></td>
</tr>
</tbody></table>

<p>If the transaction was successful, you&rsquo;ll receive a <a href="#TXskeleton">TXSkeleton</a> with the completed <a href="#tx">TX</a> (which contains its final <strong>hash</strong>) and an HTTP Status Code 201.</p>

<h3 id="dealing-with-errors">Dealing with Errors</h3>

<p>Signing and creating transactions can be one of the trickiest parts of using blockchains in your applications. Consequently, when an error is encountered when <a href="#creating-transactions">Creating Transactions</a>, we send back an HTTP Status Code 400 alongside a descriptive array of <strong>errors</strong> within the <a href="#txskeleton">TXSkeleton</a>.</p>

<aside class="notice">
One of the most common errors we see are users who use uncompressed public keys when compressed public keys were used to generate the address; remember to be careful to use the right keys!
</aside>

<h2 id="customizing-transaction-requests">Customizing Transaction Requests</h2>

<p>While we demonstrated the simplest use of our <a href="#creating-transactions">two-endpoint process to create transactions</a>, you can have finer-grain control by modifying the <a href="#tx">TX</a> request object before sending to <code class="prettyprint">/txs/new</code>.</p>

<p>By default, we allow unconfirmed UTXOs as inputs when creating transactions. If you only want to allow confirmed UTXOs, set the <strong>confirmations</strong> value in your <a href="#tx">TX</a> request object to 1.</p>

<p>Instead of providing <strong>addresses</strong>, you can use <strong>prev_hash</strong> and <strong>output_index</strong> within the <strong>inputs</strong> array of your request object, in which case, we&rsquo;ll use the inputs as provided and not attempt to generate them from a list of addresses. We will compute change and fees the same way.</p>

<p>BlockCypher will set the change address to the first transaction input/address listed in the transaction. To redirect this default behavior, you can set an optional <strong>change_address</strong> field within the <a href="#tx">TX</a> request object.</p>

<p>Fees in cryptocurrencies can be complex. We provide 2 different ways for you to control the fees included in your transactions:</p>

<ol>
<li>Set the <strong>preference</strong> property in your <a href="#tx">TX</a> request object to &ldquo;high&rdquo;, &ldquo;medium&rdquo;, or &ldquo;low&rdquo;. This will calculate and include appropriate fees for your transaction to be included in the next 1-2 blocks, 3-6 blocks or 7 or more blocks respectively. You can see the explicit estimates per kilobyte for these high, medium, and low ranges by calling your base resource through the <a href="#chain-endpoint">Chain Endpoint.</a> The default fee calculation is based on a &ldquo;high&rdquo; <strong>preference</strong>. A preference set to &ldquo;zero&rdquo; will set no fee.</li>
<li>Manually set the fee to a desired amount by setting the <strong>fees</strong> property in your <a href="#tx">TX</a> request object. Note that a fee too low may result in an error for some transactions that would require it.</li>
</ol>

<p>To learn more about fees, <a href="http://bitcoinfees.com/">bitcoinfees.com</a> is a good resource.</p>

<p>For even more control, you can also change the <strong>script_type</strong> in the <strong>output</strong> of your partially filled <a href="#tx">TX</a>. You&rsquo;ll notice this used to powerful effect in the section on <a href="#multisig-transactions">Multisig Transactions</a>. These are the possible script types:</p>

<ol>
<li><em>pay-to-pubkey-hash</em> (most common transaction transferring to a public key hash, and the default behavior if no out)</li>
<li><em>pay-to-multi-pubkey-hash</em> (multi-signatures transaction, now actually less used than <em>pay-to-script-hash</em> for this purpose)</li>
<li><em>pay-to-pubkey</em> (used for mining transactions)</li>
<li><em>pay-to-script-hash</em> (used for transactions relying on arbitrary scripts, now used primarily for multi-sig transactions)</li>
<li><em>null-data</em> (sometimes called op-return; used to embed small chunks of data in the blockchain)</li>
<li><em>empty</em> (no script present, mostly used for mining transaction inputs)</li>
<li><em>unknown</em> (non-standard script)</li>
</ol>

<h2 id="push-raw-transaction-endpoint">Push Raw Transaction Endpoint</h2>
<pre class="highlight shell"><code>curl -d <span class="s1">'{"tx":"01000000011935b41d12936df99d322ac8972b74ecff7b79408bbccaf1b2eb8015228beac8000000006b483045022100921fc36b911094280f07d8504a80fbab9b823a25f102e2bc69b14bcd369dfc7902200d07067d47f040e724b556e5bc3061af132d5a47bd96e901429d53c41e0f8cca012102152e2bb5b273561ece7bbe8b1df51a4c44f5ab0bc940c105045e2cc77e618044ffffffff0240420f00000000001976a9145fb1af31edd2aa5a2bbaa24f6043d6ec31f7e63288ac20da3c00000000001976a914efec6de6c253e657a9d5506a78ee48d89762fb3188ac00000000"}'</span> https://api.blockcypher.com/v1/bcy/test/txs/push

<span class="o">{</span>
  <span class="s2">"block_height"</span>: -1,
  <span class="s2">"hash"</span>: <span class="s2">"4e6dfb1415b4fba5bd257c129847c70fbd4e45e41828079c4a282680528f3a50"</span>,
  <span class="s2">"addresses"</span>: <span class="o">[</span>
    <span class="s2">"CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"</span>,
    <span class="s2">"C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn"</span>
  <span class="o">]</span>,
  <span class="s2">"total"</span>: 4988000,
  <span class="s2">"fees"</span>: 12000,
  <span class="s2">"size"</span>: 226,
  <span class="s2">"preference"</span>: <span class="s2">"high"</span>,
  <span class="s2">"relayed_by"</span>: <span class="s2">"73.162.198.68"</span>,
  <span class="s2">"received"</span>: <span class="s2">"2015-05-22T05:10:00.305308666Z"</span>,
  <span class="s2">"ver"</span>: 1,
  <span class="s2">"lock_time"</span>: 0,
  <span class="s2">"double_spend"</span>: <span class="nb">false</span>,
  <span class="s2">"vin_sz"</span>: 1,
  <span class="s2">"vout_sz"</span>: 2,
  <span class="s2">"confirmations"</span>: 0,
  <span class="s2">"inputs"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"prev_hash"</span>: <span class="s2">"c8ea8b221580ebb2f1cabc8b40797bffec742b97c82a329df96d93121db43519"</span>,
      <span class="s2">"output_index"</span>: 0,
      <span class="s2">"script"</span>: <span class="s2">"483045022100921fc36b911094280f07d8504a80fbab9b823a25f102e2bc69b14bcd369dfc7902200d07067d47f040e724b556e5bc3061af132d5a47bd96e901429d53c41e0f8cca012102152e2bb5b273561ece7bbe8b1df51a4c44f5ab0bc940c105045e2cc77e618044"</span>,
      <span class="s2">"output_value"</span>: 5000000,
      <span class="s2">"sequence"</span>: 4294967295,
      <span class="s2">"addresses"</span>: <span class="o">[</span>
        <span class="s2">"CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"</span>
      <span class="o">]</span>,
      <span class="s2">"script_type"</span>: <span class="s2">"pay-to-pubkey-hash"</span>,
      <span class="s2">"age"</span>: 576
    <span class="o">}</span>
  <span class="o">]</span>,
  <span class="s2">"outputs"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"value"</span>: 1000000,
      <span class="s2">"script"</span>: <span class="s2">"76a9145fb1af31edd2aa5a2bbaa24f6043d6ec31f7e63288ac"</span>,
      <span class="s2">"addresses"</span>: <span class="o">[</span>
        <span class="s2">"C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn"</span>
      <span class="o">]</span>,
      <span class="s2">"script_type"</span>: <span class="s2">"pay-to-pubkey-hash"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">"value"</span>: 3988000,
      <span class="s2">"script"</span>: <span class="s2">"76a914efec6de6c253e657a9d5506a78ee48d89762fb3188ac"</span>,
      <span class="s2">"addresses"</span>: <span class="o">[</span>
        <span class="s2">"CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"</span>
      <span class="o">]</span>,
      <span class="s2">"script_type"</span>: <span class="s2">"pay-to-pubkey-hash"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">pushtx</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">tx</span><span class="p">:</span> <span class="s2">"01000000011935b41d12936df99d322ac8972b74ecff7b79408bbccaf1b2eb8015228beac8000000006b483045022100921fc36b911094280f07d8504a80fbab9b823a25f102e2bc69b14bcd369dfc7902200d07067d47f040e724b556e5bc3061af132d5a47bd96e901429d53c41e0f8cca012102152e2bb5b273561ece7bbe8b1df51a4c44f5ab0bc940c105045e2cc77e618044ffffffff0240420f00000000001976a9145fb1af31edd2aa5a2bbaa24f6043d6ec31f7e63288ac20da3c00000000001976a914efec6de6c253e657a9d5506a78ee48d89762fb3188ac00000000"</span>
<span class="p">};</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'https://api.blockcypher.com/v1/bcy/test/txs/send'</span><span class="p">,</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">pushtx</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span>
<span class="o">&gt;</span> <span class="p">{</span>
<span class="o">&gt;</span>   <span class="s2">"block_height"</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"hash"</span><span class="p">:</span> <span class="s2">"4e6dfb1415b4fba5bd257c129847c70fbd4e45e41828079c4a282680528f3a50"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>     <span class="s2">"CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn"</span>
<span class="o">&gt;</span>   <span class="p">],</span>
<span class="o">&gt;</span>   <span class="s2">"total"</span><span class="p">:</span> <span class="mi">4988000</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"fees"</span><span class="p">:</span> <span class="mi">12000</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"size"</span><span class="p">:</span> <span class="mi">226</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"preference"</span><span class="p">:</span> <span class="s2">"high"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"relayed_by"</span><span class="p">:</span> <span class="s2">"73.162.198.68"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"received"</span><span class="p">:</span> <span class="s2">"2015-05-22T05:10:00.305308666Z"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"ver"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"lock_time"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"double_spend"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"vin_sz"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"vout_sz"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"confirmations"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"inputs"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>     <span class="p">{</span>
<span class="o">&gt;</span>       <span class="s2">"prev_hash"</span><span class="p">:</span> <span class="s2">"c8ea8b221580ebb2f1cabc8b40797bffec742b97c82a329df96d93121db43519"</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"output_index"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"script"</span><span class="p">:</span> <span class="s2">"483045022100921fc36b911094280f07d8504a80fbab9b823a25f102e2bc69b14bcd369dfc7902200d07067d47f040e724b556e5bc3061af132d5a47bd96e901429d53c41e0f8cca012102152e2bb5b273561ece7bbe8b1df51a4c44f5ab0bc940c105045e2cc77e618044"</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"output_value"</span><span class="p">:</span> <span class="mi">5000000</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"sequence"</span><span class="p">:</span> <span class="mi">4294967295</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>         <span class="s2">"CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"</span>
<span class="o">&gt;</span>       <span class="p">],</span>
<span class="o">&gt;</span>       <span class="s2">"script_type"</span><span class="p">:</span> <span class="s2">"pay-to-pubkey-hash"</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"age"</span><span class="p">:</span> <span class="mi">576</span>
<span class="o">&gt;</span>     <span class="p">}</span>
<span class="o">&gt;</span>   <span class="p">],</span>
<span class="o">&gt;</span>   <span class="s2">"outputs"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>     <span class="p">{</span>
<span class="o">&gt;</span>       <span class="s2">"value"</span><span class="p">:</span> <span class="mi">1000000</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"script"</span><span class="p">:</span> <span class="s2">"76a9145fb1af31edd2aa5a2bbaa24f6043d6ec31f7e63288ac"</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>         <span class="s2">"C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn"</span>
<span class="o">&gt;</span>       <span class="p">],</span>
<span class="o">&gt;</span>       <span class="s2">"script_type"</span><span class="p">:</span> <span class="s2">"pay-to-pubkey-hash"</span>
<span class="o">&gt;</span>     <span class="p">},</span>
<span class="o">&gt;</span>     <span class="p">{</span>
<span class="o">&gt;</span>       <span class="s2">"value"</span><span class="p">:</span> <span class="mi">3988000</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"script"</span><span class="p">:</span> <span class="s2">"76a914efec6de6c253e657a9d5506a78ee48d89762fb3188ac"</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>         <span class="s2">"CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"</span>
<span class="o">&gt;</span>       <span class="p">],</span>
<span class="o">&gt;</span>       <span class="s2">"script_type"</span><span class="p">:</span> <span class="s2">"pay-to-pubkey-hash"</span>
<span class="o">&gt;</span>     <span class="p">}</span>
<span class="o">&gt;</span>   <span class="p">]</span>
<span class="o">&gt;</span> <span class="p">}</span>
</code></pre>
<pre class="highlight python"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">json</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">'tx'</span><span class="p">:</span> <span class="s">'01000000011935b41d12936df99d322ac8972b74ecff7b79408bbccaf1b2eb8015228beac8000000006b483045022100921fc36b911094280f07d8504a80fbab9b823a25f102e2bc69b14bcd369dfc7902200d07067d47f040e724b556e5bc3061af132d5a47bd96e901429d53c41e0f8cca012102152e2bb5b273561ece7bbe8b1df51a4c44f5ab0bc940c105045e2cc77e618044ffffffff0240420f00000000001976a9145fb1af31edd2aa5a2bbaa24f6043d6ec31f7e63288ac20da3c00000000001976a914efec6de6c253e657a9d5506a78ee48d89762fb3188ac00000000'</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.blockcypher.com/v1/bcy/test/txs/push'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span>
  <span class="s">"block_height"</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
  <span class="s">"hash"</span><span class="p">:</span> <span class="s">"4e6dfb1415b4fba5bd257c129847c70fbd4e45e41828079c4a282680528f3a50"</span><span class="p">,</span>
  <span class="s">"addresses"</span><span class="p">:</span> <span class="p">[</span>
    <span class="s">"CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"</span><span class="p">,</span>
    <span class="s">"C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn"</span>
  <span class="p">],</span>
  <span class="s">"total"</span><span class="p">:</span> <span class="mi">4988000</span><span class="p">,</span>
  <span class="s">"fees"</span><span class="p">:</span> <span class="mi">12000</span><span class="p">,</span>
  <span class="s">"size"</span><span class="p">:</span> <span class="mi">226</span><span class="p">,</span>
  <span class="s">"preference"</span><span class="p">:</span> <span class="s">"high"</span><span class="p">,</span>
  <span class="s">"relayed_by"</span><span class="p">:</span> <span class="s">"73.162.198.68"</span><span class="p">,</span>
  <span class="s">"received"</span><span class="p">:</span> <span class="s">"2015-05-22T05:10:00.305308666Z"</span><span class="p">,</span>
  <span class="s">"ver"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">"lock_time"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s">"double_spend"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s">"vin_sz"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">"vout_sz"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="s">"confirmations"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s">"inputs"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s">"prev_hash"</span><span class="p">:</span> <span class="s">"c8ea8b221580ebb2f1cabc8b40797bffec742b97c82a329df96d93121db43519"</span><span class="p">,</span>
      <span class="s">"output_index"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s">"script"</span><span class="p">:</span> <span class="s">"483045022100921fc36b911094280f07d8504a80fbab9b823a25f102e2bc69b14bcd369dfc7902200d07067d47f040e724b556e5bc3061af132d5a47bd96e901429d53c41e0f8cca012102152e2bb5b273561ece7bbe8b1df51a4c44f5ab0bc940c105045e2cc77e618044"</span><span class="p">,</span>
      <span class="s">"output_value"</span><span class="p">:</span> <span class="mi">5000000</span><span class="p">,</span>
      <span class="s">"sequence"</span><span class="p">:</span> <span class="mi">4294967295</span><span class="p">,</span>
      <span class="s">"addresses"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s">"CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"</span>
      <span class="p">],</span>
      <span class="s">"script_type"</span><span class="p">:</span> <span class="s">"pay-to-pubkey-hash"</span><span class="p">,</span>
      <span class="s">"age"</span><span class="p">:</span> <span class="mi">576</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s">"outputs"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s">"value"</span><span class="p">:</span> <span class="mi">1000000</span><span class="p">,</span>
      <span class="s">"script"</span><span class="p">:</span> <span class="s">"76a9145fb1af31edd2aa5a2bbaa24f6043d6ec31f7e63288ac"</span><span class="p">,</span>
      <span class="s">"addresses"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s">"C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn"</span>
      <span class="p">],</span>
      <span class="s">"script_type"</span><span class="p">:</span> <span class="s">"pay-to-pubkey-hash"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s">"value"</span><span class="p">:</span> <span class="mi">3988000</span><span class="p">,</span>
      <span class="s">"script"</span><span class="p">:</span> <span class="s">"76a914efec6de6c253e657a9d5506a78ee48d89762fb3188ac"</span><span class="p">,</span>
      <span class="s">"addresses"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s">"CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"</span>
      <span class="p">],</span>
      <span class="s">"script_type"</span><span class="p">:</span> <span class="s">"pay-to-pubkey-hash"</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre>

<p>If you&rsquo;d prefer to use your own transaction library instead of the recommended path of our two-endpoint <a href="#creating-transactions">transaction generation</a> we&rsquo;re still happy to help you propagate your raw transactions. Simply send your raw hex-encoded transaction to this endpoint and we&rsquo;ll leverage our huge network of nodes to propagate your transaction faster than anywhere else.</p>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Request Object</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/txs/push</td>
<td>POST</td>
<td>{&ldquo;tx&rdquo;:$TXHEX}</td>
<td><a href="#tx">TX</a></td>
</tr>
</tbody></table>

<p>TXHEX is a hex-encoded raw representation of your transaction, for example:</p>

<p><code class="prettyprint">01000000011935b41d12936df99d322ac8972b74ecff7b79408bbccaf1b2eb8015228beac8000000006b483045022100921fc36b911094280f07d8504a80fbab9b823a25f102e2bc69b14bcd369dfc7902200d07067d47f040e724b556e5bc3061af132d5a47bd96e901429d53c41e0f8cca012102152e2bb5b273561ece7bbe8b1df51a4c44f5ab0bc940c105045e2cc77e618044ffffffff0240420f00000000001976a9145fb1af31edd2aa5a2bbaa24f6043d6ec31f7e63288ac20da3c00000000001976a914efec6de6c253e657a9d5506a78ee48d89762fb3188ac00000000</code></p>

<p>If it succeeds, you&rsquo;ll receive a decoded <a href="#tx">TX</a> object and an HTTP Status Code 201. If you&rsquo;d like, you can use the decoded transaction <strong>hash</strong> alongside an <a href="#events-and-hooks">Event</a> to track its progress in the network.</p>

<h2 id="decode-raw-transaction-endpoint">Decode Raw Transaction Endpoint</h2>
<pre class="highlight shell"><code>curl -d <span class="s1">'{"tx":"01000000011935b41d12936df99d322ac8972b74ecff7b79408bbccaf1b2eb8015228beac8000000006b483045022100921fc36b911094280f07d8504a80fbab9b823a25f102e2bc69b14bcd369dfc7902200d07067d47f040e724b556e5bc3061af132d5a47bd96e901429d53c41e0f8cca012102152e2bb5b273561ece7bbe8b1df51a4c44f5ab0bc940c105045e2cc77e618044ffffffff0240420f00000000001976a9145fb1af31edd2aa5a2bbaa24f6043d6ec31f7e63288ac20da3c00000000001976a914efec6de6c253e657a9d5506a78ee48d89762fb3188ac00000000"}'</span> https://api.blockcypher.com/v1/bcy/test/txs/decode

<span class="o">{</span>
  <span class="s2">"block_height"</span>: -1,
  <span class="s2">"hash"</span>: <span class="s2">"4e6dfb1415b4fba5bd257c129847c70fbd4e45e41828079c4a282680528f3a50"</span>,
  <span class="s2">"addresses"</span>: <span class="o">[</span>
    <span class="s2">"CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"</span>,
    <span class="s2">"C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn"</span>
  <span class="o">]</span>,
  <span class="s2">"total"</span>: 4988000,
  <span class="s2">"fees"</span>: 12000,
  <span class="s2">"size"</span>: 226,
  <span class="s2">"preference"</span>: <span class="s2">"high"</span>,
  <span class="s2">"relayed_by"</span>: <span class="s2">"73.162.198.68"</span>,
  <span class="s2">"received"</span>: <span class="s2">"2015-05-22T05:10:00.305308666Z"</span>,
  <span class="s2">"ver"</span>: 1,
  <span class="s2">"lock_time"</span>: 0,
  <span class="s2">"double_spend"</span>: <span class="nb">false</span>,
  <span class="s2">"vin_sz"</span>: 1,
  <span class="s2">"vout_sz"</span>: 2,
  <span class="s2">"confirmations"</span>: 0,
  <span class="s2">"inputs"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"prev_hash"</span>: <span class="s2">"c8ea8b221580ebb2f1cabc8b40797bffec742b97c82a329df96d93121db43519"</span>,
      <span class="s2">"output_index"</span>: 0,
      <span class="s2">"script"</span>: <span class="s2">"483045022100921fc36b911094280f07d8504a80fbab9b823a25f102e2bc69b14bcd369dfc7902200d07067d47f040e724b556e5bc3061af132d5a47bd96e901429d53c41e0f8cca012102152e2bb5b273561ece7bbe8b1df51a4c44f5ab0bc940c105045e2cc77e618044"</span>,
      <span class="s2">"output_value"</span>: 5000000,
      <span class="s2">"sequence"</span>: 4294967295,
      <span class="s2">"addresses"</span>: <span class="o">[</span>
        <span class="s2">"CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"</span>
      <span class="o">]</span>,
      <span class="s2">"script_type"</span>: <span class="s2">"pay-to-pubkey-hash"</span>,
      <span class="s2">"age"</span>: 576
    <span class="o">}</span>
  <span class="o">]</span>,
  <span class="s2">"outputs"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"value"</span>: 1000000,
      <span class="s2">"script"</span>: <span class="s2">"76a9145fb1af31edd2aa5a2bbaa24f6043d6ec31f7e63288ac"</span>,
      <span class="s2">"addresses"</span>: <span class="o">[</span>
        <span class="s2">"C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn"</span>
      <span class="o">]</span>,
      <span class="s2">"script_type"</span>: <span class="s2">"pay-to-pubkey-hash"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">"value"</span>: 3988000,
      <span class="s2">"script"</span>: <span class="s2">"76a914efec6de6c253e657a9d5506a78ee48d89762fb3188ac"</span>,
      <span class="s2">"addresses"</span>: <span class="o">[</span>
        <span class="s2">"CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"</span>
      <span class="o">]</span>,
      <span class="s2">"script_type"</span>: <span class="s2">"pay-to-pubkey-hash"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">decodetx</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">tx</span><span class="p">:</span> <span class="s2">"01000000011935b41d12936df99d322ac8972b74ecff7b79408bbccaf1b2eb8015228beac8000000006b483045022100921fc36b911094280f07d8504a80fbab9b823a25f102e2bc69b14bcd369dfc7902200d07067d47f040e724b556e5bc3061af132d5a47bd96e901429d53c41e0f8cca012102152e2bb5b273561ece7bbe8b1df51a4c44f5ab0bc940c105045e2cc77e618044ffffffff0240420f00000000001976a9145fb1af31edd2aa5a2bbaa24f6043d6ec31f7e63288ac20da3c00000000001976a914efec6de6c253e657a9d5506a78ee48d89762fb3188ac00000000"</span>
<span class="p">};</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'https://api.blockcypher.com/v1/bcy/test/txs/decode'</span><span class="p">,</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">decodetx</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span>
<span class="o">&gt;</span> <span class="p">{</span>
<span class="o">&gt;</span>   <span class="s2">"block_height"</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"hash"</span><span class="p">:</span> <span class="s2">"4e6dfb1415b4fba5bd257c129847c70fbd4e45e41828079c4a282680528f3a50"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>     <span class="s2">"CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"</span><span class="p">,</span>
<span class="o">&gt;</span>     <span class="s2">"C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn"</span>
<span class="o">&gt;</span>   <span class="p">],</span>
<span class="o">&gt;</span>   <span class="s2">"total"</span><span class="p">:</span> <span class="mi">4988000</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"fees"</span><span class="p">:</span> <span class="mi">12000</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"size"</span><span class="p">:</span> <span class="mi">226</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"preference"</span><span class="p">:</span> <span class="s2">"high"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"relayed_by"</span><span class="p">:</span> <span class="s2">"73.162.198.68"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"received"</span><span class="p">:</span> <span class="s2">"2015-05-22T05:10:00.305308666Z"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"ver"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"lock_time"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"double_spend"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"vin_sz"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"vout_sz"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"confirmations"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"inputs"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>     <span class="p">{</span>
<span class="o">&gt;</span>       <span class="s2">"prev_hash"</span><span class="p">:</span> <span class="s2">"c8ea8b221580ebb2f1cabc8b40797bffec742b97c82a329df96d93121db43519"</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"output_index"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"script"</span><span class="p">:</span> <span class="s2">"483045022100921fc36b911094280f07d8504a80fbab9b823a25f102e2bc69b14bcd369dfc7902200d07067d47f040e724b556e5bc3061af132d5a47bd96e901429d53c41e0f8cca012102152e2bb5b273561ece7bbe8b1df51a4c44f5ab0bc940c105045e2cc77e618044"</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"output_value"</span><span class="p">:</span> <span class="mi">5000000</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"sequence"</span><span class="p">:</span> <span class="mi">4294967295</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>         <span class="s2">"CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"</span>
<span class="o">&gt;</span>       <span class="p">],</span>
<span class="o">&gt;</span>       <span class="s2">"script_type"</span><span class="p">:</span> <span class="s2">"pay-to-pubkey-hash"</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"age"</span><span class="p">:</span> <span class="mi">576</span>
<span class="o">&gt;</span>     <span class="p">}</span>
<span class="o">&gt;</span>   <span class="p">],</span>
<span class="o">&gt;</span>   <span class="s2">"outputs"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>     <span class="p">{</span>
<span class="o">&gt;</span>       <span class="s2">"value"</span><span class="p">:</span> <span class="mi">1000000</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"script"</span><span class="p">:</span> <span class="s2">"76a9145fb1af31edd2aa5a2bbaa24f6043d6ec31f7e63288ac"</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>         <span class="s2">"C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn"</span>
<span class="o">&gt;</span>       <span class="p">],</span>
<span class="o">&gt;</span>       <span class="s2">"script_type"</span><span class="p">:</span> <span class="s2">"pay-to-pubkey-hash"</span>
<span class="o">&gt;</span>     <span class="p">},</span>
<span class="o">&gt;</span>     <span class="p">{</span>
<span class="o">&gt;</span>       <span class="s2">"value"</span><span class="p">:</span> <span class="mi">3988000</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"script"</span><span class="p">:</span> <span class="s2">"76a914efec6de6c253e657a9d5506a78ee48d89762fb3188ac"</span><span class="p">,</span>
<span class="o">&gt;</span>       <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>         <span class="s2">"CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9"</span>
<span class="o">&gt;</span>       <span class="p">],</span>
<span class="o">&gt;</span>       <span class="s2">"script_type"</span><span class="p">:</span> <span class="s2">"pay-to-pubkey-hash"</span>
<span class="o">&gt;</span>     <span class="p">}</span>
<span class="o">&gt;</span>   <span class="p">]</span>
<span class="o">&gt;</span> <span class="p">}</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Fund existing address with faucet</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">json</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">'tx'</span><span class="p">:</span> <span class="s">'01000000011935b41d12936df99d322ac8972b74ecff7b79408bbccaf1b2eb8015228beac8000000006b483045022100921fc36b911094280f07d8504a80fbab9b823a25f102e2bc69b14bcd369dfc7902200d07067d47f040e724b556e5bc3061af132d5a47bd96e901429d53c41e0f8cca012102152e2bb5b273561ece7bbe8b1df51a4c44f5ab0bc940c105045e2cc77e618044ffffffff0240420f00000000001976a9145fb1af31edd2aa5a2bbaa24f6043d6ec31f7e63288ac20da3c00000000001976a914efec6de6c253e657a9d5506a78ee48d89762fb3188ac00000000'</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.blockcypher.com/v1/bcy/test/txs/decode'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s">'received'</span><span class="p">:</span> <span class="s">'2015-06-10T23:37:05.211843254Z'</span><span class="p">,</span>
 <span class="s">'ver'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
 <span class="s">'double_spend'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
 <span class="s">'outputs'</span><span class="p">:</span> <span class="p">[{</span><span class="s">'value'</span><span class="p">:</span> <span class="mi">1000000</span><span class="p">,</span>
   <span class="s">'addresses'</span><span class="p">:</span> <span class="p">[</span><span class="s">'C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn'</span><span class="p">],</span>
   <span class="s">'script_type'</span><span class="p">:</span> <span class="s">'pay-to-pubkey-hash'</span><span class="p">,</span>
   <span class="s">'script'</span><span class="p">:</span> <span class="s">'76a9145fb1af31edd2aa5a2bbaa24f6043d6ec31f7e63288ac'</span><span class="p">},</span>
  <span class="p">{</span><span class="s">'value'</span><span class="p">:</span> <span class="mi">3988000</span><span class="p">,</span>
   <span class="s">'addresses'</span><span class="p">:</span> <span class="p">[</span><span class="s">'CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9'</span><span class="p">],</span>
   <span class="s">'script_type'</span><span class="p">:</span> <span class="s">'pay-to-pubkey-hash'</span><span class="p">,</span>
   <span class="s">'script'</span><span class="p">:</span> <span class="s">'76a914efec6de6c253e657a9d5506a78ee48d89762fb3188ac'</span><span class="p">,</span>
   <span class="s">'spent_by'</span><span class="p">:</span> <span class="s">'892fd7b36c1c3a2e5edb9b4a5d4ffd9ba74d78d3acf3b249991bd8d10a287dbd'</span><span class="p">}],</span>
 <span class="s">'block_height'</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
 <span class="s">'total'</span><span class="p">:</span> <span class="mi">4988000</span><span class="p">,</span>
 <span class="s">'fees'</span><span class="p">:</span> <span class="mi">12000</span><span class="p">,</span>
 <span class="s">'inputs'</span><span class="p">:</span> <span class="p">[{</span><span class="s">'output_value'</span><span class="p">:</span> <span class="mi">5000000</span><span class="p">,</span>
   <span class="s">'sequence'</span><span class="p">:</span> <span class="mi">4294967295</span><span class="p">,</span>
   <span class="s">'prev_hash'</span><span class="p">:</span> <span class="s">'c8ea8b221580ebb2f1cabc8b40797bffec742b97c82a329df96d93121db43519'</span><span class="p">,</span>
   <span class="s">'script'</span><span class="p">:</span> <span class="s">'483045022100921fc36b911094280f07d8504a80fbab9b823a25f102e2bc69b14bcd369dfc7902200d07067d47f040e724b556e5bc3061af132d5a47bd96e901429d53c41e0f8cca012102152e2bb5b273561ece7bbe8b1df51a4c44f5ab0bc940c105045e2cc77e618044'</span><span class="p">,</span>
   <span class="s">'age'</span><span class="p">:</span> <span class="mi">28188</span><span class="p">,</span>
   <span class="s">'addresses'</span><span class="p">:</span> <span class="p">[</span><span class="s">'CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9'</span><span class="p">],</span>
   <span class="s">'output_index'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
   <span class="s">'script_type'</span><span class="p">:</span> <span class="s">'pay-to-pubkey-hash'</span><span class="p">}],</span>
 <span class="s">'preference'</span><span class="p">:</span> <span class="s">'high'</span><span class="p">,</span>
 <span class="s">'vout_sz'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
 <span class="s">'vin_sz'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
 <span class="s">'relayed_by'</span><span class="p">:</span> <span class="s">'207.38.134.25'</span><span class="p">,</span>
 <span class="s">'hash'</span><span class="p">:</span> <span class="s">'4e6dfb1415b4fba5bd257c129847c70fbd4e45e41828079c4a282680528f3a50'</span><span class="p">,</span>
 <span class="s">'addresses'</span><span class="p">:</span> <span class="p">[</span><span class="s">'CEztKBAYNoUEEaPYbkyFeXC5v8Jz9RoZH9'</span><span class="p">,</span>
  <span class="s">'C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn'</span><span class="p">],</span>
 <span class="s">'lock_time'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
 <span class="s">'size'</span><span class="p">:</span> <span class="mi">226</span><span class="p">,</span>
 <span class="s">'confirmations'</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
</code></pre>

<p>We also offer the ability to decode raw transactions without sending propagating them to the network; perhaps you want to double-check another client library or confirm that another service is sending proper transactions. </p>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Request Object</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/txs/decode</td>
<td>POST</td>
<td>{&ldquo;tx&rdquo;:$TXHEX}</td>
<td><a href="#tx">TX</a></td>
</tr>
</tbody></table>

<p>TXHEX is a hex-encoded raw representation of your transaction, for example:</p>

<p><code class="prettyprint">01000000011935b41d12936df99d322ac8972b74ecff7b79408bbccaf1b2eb8015228beac8000000006b483045022100921fc36b911094280f07d8504a80fbab9b823a25f102e2bc69b14bcd369dfc7902200d07067d47f040e724b556e5bc3061af132d5a47bd96e901429d53c41e0f8cca012102152e2bb5b273561ece7bbe8b1df51a4c44f5ab0bc940c105045e2cc77e618044ffffffff0240420f00000000001976a9145fb1af31edd2aa5a2bbaa24f6043d6ec31f7e63288ac20da3c00000000001976a914efec6de6c253e657a9d5506a78ee48d89762fb3188ac00000000</code></p>

<p>If it succeeds, you&rsquo;ll receive your decoded <a href="#tx">TX</a> object.</p>

<h2 id="multisig-transactions">Multisig Transactions</h2>
<pre class="highlight shell"><code><span class="o">{</span>
    <span class="s2">"inputs"</span>: <span class="o">[{</span><span class="s2">"addresses"</span>: <span class="o">[</span>sourceAddr]<span class="o">}]</span>,
    <span class="s2">"outputs"</span>: <span class="o">[{</span>
        <span class="s2">"addresses"</span>   : <span class="o">[</span>pubkey1, pubkey2, pubkey3],
        <span class="s2">"script_type"</span> : <span class="s2">"multisig-2-of-3"</span>,
        <span class="s2">"value"</span>       : 250000,
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="p">{</span>
    <span class="s2">"inputs"</span><span class="err">:</span> <span class="p">[{</span><span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span><span class="nx">sourceAddr</span><span class="p">]}],</span>
    <span class="s2">"outputs"</span><span class="err">:</span> <span class="p">[{</span>
        <span class="s2">"addresses"</span>   <span class="p">:</span> <span class="p">[</span><span class="nx">pubkey1</span><span class="p">,</span> <span class="nx">pubkey2</span><span class="p">,</span> <span class="nx">pubkey3</span><span class="p">],</span>
        <span class="s2">"script_type"</span> <span class="p">:</span> <span class="s2">"multisig-2-of-3"</span><span class="p">,</span>
        <span class="s2">"value"</span>       <span class="p">:</span> <span class="mi">250000</span><span class="p">,</span>
    <span class="p">}]</span>
<span class="p">}</span>
</code></pre>

<p>Multisignature transactions are made simple by the method described in the <a href="#creating-transactions">Creating Transactions</a> section, but they deserve special mention. In order to use them, you first need to fund a multisignature address. You use the <code class="prettyprint">/txs/new</code> endpoint as before, but instead of the <strong>outputs</strong> <strong>addresses</strong> array containing public addresses, it instead contains the public keys associated with the new address. In addition, you must select a <strong>script_type</strong> of <em>mutlisig-n-of-m</em>, where <em>n</em> and <em>m</em> are numbers (e.g., <em>multisig-2-of-3</em>). The code example demonstrates how the partially filled <a href="#tx">TX request object</a> would appear.</p>

<p>After you&rsquo;ve set up your request object, you send to <code class="prettyprint">/txs/new</code> and receive a partially filled <a href="#txskeleton">TXSkeleton</a> as before, but with data to sign from the source address. Sign this data and include the public key(s) of the source address&mdash;as demonstrated in the <a href="#creating-transactions">Creating Transactions</a>&mdash;then send along to the <code class="prettyprint">/txs/send</code> endpoint. If it returns with an HTTP Status Code 201, then your multisignature address (via a <em>pay-to-script-hash</em> address) is funded.</p>

<aside class="notice">
If you only need a <i>pay-to-script-hash</i> address corresponding to N-of-M multisig and don&rsquo;t want&mdash;or need&mdash;to fund it immediately, you should use the comparatively easier <a href="#generate-multisig-address-endpoint">Generate Multisig Address Endpoint.</a>
</aside>

<h3 id="spending-multisig-funds">Spending Multisig Funds</h3>
<pre class="highlight shell"><code><span class="o">{</span>
    <span class="s2">"inputs"</span>: <span class="o">[{</span>
        <span class="s2">"addresses"</span>   : <span class="o">[</span>pubkey1, pubkey2, pubkey3],
        <span class="s2">"script_type"</span> : <span class="s2">"multisig-2-of-3"</span>
    <span class="o">}]</span>,
    <span class="s2">"outputs"</span>: <span class="o">[{</span>
        <span class="s2">"addresses"</span> : <span class="o">[</span>destAddr],
        <span class="s2">"value"</span>     : 150000
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="p">{</span>
    <span class="s2">"inputs"</span><span class="err">:</span> <span class="p">[{</span>
        <span class="s2">"addresses"</span>   <span class="p">:</span> <span class="p">[</span><span class="nx">pubkey1</span><span class="p">,</span> <span class="nx">pubkey2</span><span class="p">,</span> <span class="nx">pubkey3</span><span class="p">],</span>
        <span class="s2">"script_type"</span> <span class="p">:</span> <span class="s2">"multisig-2-of-3"</span>
    <span class="p">}],</span>
    <span class="s2">"outputs"</span><span class="err">:</span> <span class="p">[{</span>
        <span class="s2">"addresses"</span> <span class="p">:</span> <span class="p">[</span><span class="nx">destAddr</span><span class="p">],</span>
        <span class="s2">"value"</span>     <span class="p">:</span> <span class="mi">150000</span>
    <span class="p">}]</span>
<span class="p">}</span>
</code></pre>

<p>Once funded, you might want to programmatically spend the money in the address at some point. Here the process is similar, but with the inputs and outputs reversed. As you can see in the code sample, you need to provide the public keys within the <strong>inputs</strong> <strong>addresses</strong> array, and the corresponding <strong>script_type</strong> of <em>multisig-n-of-m</em> (e.g., <em>multisig-2-of-3</em>). Then you follow the same process of sending to <code class="prettyprint">/txs/new</code> and getting an array of data to be signed.</p>

<p>Each party can send their signed data individually to <code class="prettyprint">/txs/send</code> and we can correlate the signatures to the public keys; once we have enough signatures we&rsquo;ll propagate the transaction. Or you can send all needed signatures alongside ordered public keys with a single call to <code class="prettyprint">/txs/send</code>.</p>

          <h1 id="microtransaction-api">Microtransaction API</h1>

<p>In addition to our normal <a href="#transaction-api">Transaction API</a>, we offer a unique, on-chain microtransaction endpoint that makes it easy to propagate smaller, nearly-instantly guaranteed, more frequent transactions that are still publicly auditable and trusted through their existence on the blockchain. How can we do what others claim require off-chain, centralized services?</p>

<p>Simple. We leverage our own infrastructure; in particular, our <a href="#confidence-factor">Confidence Factor</a>. When we reach 98% confidence that a microtransaction will reach the next block (usually ~8 seconds), we guarantee its value and return the completed microtransaction. As of this writing, we haven&rsquo;t had a single failed mictrotransaction, and we&rsquo;re improving our confidence data all the time.</p>

<p>We also pay for the mining fees on transactions for the first 8,000 microtransactions. After which, we automatically optimize fee structure to achieve a balance between guaranteeing confidence it will be in the next block and minimizing cost. If there isn&rsquo;t enough value for the fee, we&rsquo;ll return an error.</p>

<aside class="notice">
In order for us to keep track of mining fees, we require that all calls to the Microtransactions API use a token. You can <a href="http://accounts.blockcypher.com/">register for one here.</a>
</aside>

<aside class="warning">
The Microtransaction API will accept values between <b>2,000 satoshis (~$0.005)</b> and <b>4,000,000 satoshis (~$9.50)</b>. Anything below or above these thresholds will return an error. If you need to transfer larger values, use the <a href="#creating-transactions">standard Transaction process.</a> If you need to transfer lower values, you may want to reevaluate your application.
</aside>

<aside class="warning">
As with creating <a href="#creating-transactions">normal Transactions</a>, always use HTTPS with the Microtransaction API.
</aside>

<h2 id="microtransaction-endpoint">Microtransaction Endpoint</h2>

<p>The endpoint is simple to employ, and uses a slightly pared down transaction object, appropriately called a <a href="#microtx">MicroTX</a>. For low value source addresses and testing, we support directly sending private keys&mdash;we&rsquo;ll construct, sign, and send the transaction for you. <strong>We never store the private key, and remove it from server memory as soon as its used.</strong> That said, where your application model supports it and/or when dealing with higher-value source addresses, we encourage you to send public keys and sign the data yourself&mdash;a two-step process similar to using <code class="prettyprint">/tx/new</code> and <code class="prettyprint">/tx/send</code> with <a href="#creating-transactions">normal Transactions</a>.</p>

<p>In either case, you use the same endpoint.</p>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Request Object</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/txs/micro</td>
<td>POST</td>
<td><a href="#microtx">MicroTX</a></td>
<td><a href="#microtx">MicroTX</a></td>
</tr>
</tbody></table>

<p>The request object is a partially filled out <a href="#microtx">MicroTX</a>, whose format differs depending on whether you&rsquo;re sending a private key or public key for the source address. In either case, there are two options you can set:</p>

<ul>
<li>If not set, <strong>change_address</strong> defaults to the original source address computed by the private or public key sent. You can set it manually in the request object, useful if your source address is high-value, or you want to mitigate security risk after sending private keys.</li>
<li>If not set, <strong>wait_guarantee</strong> defaults to <em>true</em>, which means the API will wait for BlockCypher to guarantee the transaction, using our <a href="#confidence-factor">Confidence Factor</a>. The guarantee usually takes around 8 seconds. If manually set to <em>false</em>, the Microtransaction endpoint will return as soon as the transaction is broadcast.</li>
</ul>
<pre class="highlight shell"><code>curl -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s1">'{ "from_private": "97838249d77bf...", "to_address": "C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn", "value_satoshis": 10000, "token": "YOURTOKEN" }'</span> https://api.blockcypher.com/v1/bcy/test/txs/micro

<span class="o">{</span>
<span class="s2">"from_private"</span>: <span class="s2">"97838249d77bfa65f97be02b63fd1b7bb6a58474c7c22784a0da63993d1c2f90"</span>,
<span class="s2">"to_address"</span>: <span class="s2">"C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn"</span>,
<span class="s2">"value_satoshis"</span>: 10000,
<span class="s2">"hash"</span>: <span class="s2">"892fd7b36c1c3a2e5edb9b4a5d4ffd9ba74d78d3acf3b249991bd8d10a287dbd"</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">microtx</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">from_private</span><span class="p">:</span> <span class="s2">"97838249d77bfa65f97be02b63fd1b7bb6a58474c7c22784a0da63993d1c2f90"</span><span class="p">,</span>
  <span class="na">to_address</span><span class="p">:</span> <span class="s2">"C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn"</span><span class="p">,</span>
  <span class="na">value_satoshis</span><span class="p">:</span> <span class="mi">10000</span><span class="p">,</span>
  <span class="na">token</span><span class="p">:</span> <span class="nx">TOKEN</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s1">'https://api.blockcypher.com/v1/bcy/test/txs/micro?token='</span><span class="o">+</span><span class="nx">TOKEN</span><span class="p">;</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">microtx</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span>
<span class="o">&gt;</span> <span class="p">{</span>
<span class="o">&gt;</span> <span class="s2">"from_private"</span><span class="p">:</span> <span class="s2">"97838249d77bfa65f97be02b63fd1b7bb6a58474c7c22784a0da63993d1c2f90"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"to_address"</span><span class="p">:</span> <span class="s2">"C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn"</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"value_satoshis"</span><span class="p">:</span> <span class="mi">10000</span><span class="p">,</span>
<span class="o">&gt;</span> <span class="s2">"hash"</span><span class="p">:</span> <span class="s2">"892fd7b36c1c3a2e5edb9b4a5d4ffd9ba74d78d3acf3b249991bd8d10a287dbd"</span>
<span class="o">&gt;</span> <span class="p">}</span>
</code></pre>
<pre class="highlight python"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">json</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">'from_private'</span><span class="p">:</span> <span class="s">'97838249d77bfa65f97be02b63fd1b7bb6a58474c7c22784a0da63993d1c2f90'</span><span class="p">,</span> <span class="s">'to_address'</span><span class="p">:</span> <span class="s">'C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn'</span><span class="p">,</span> <span class="s">'value_satoshis'</span><span class="p">:</span> <span class="mi">10000</span><span class="p">,</span> <span class="s">'token'</span><span class="p">:</span> <span class="s">'YOUR_TOKEN'</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s">'token'</span><span class="p">:</span> <span class="s">'YOUR_TOKEN'</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.blockcypher.com/v1/bcy/test/txs/micro'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre>

<h3 id="via-private-keys">Via Private Keys</h3>

<p>The simplest way to send a Microtransaction is by using a private key. Within the request object you must include <strong>from_private</strong> (or the equivalent <strong>from_wif</strong>), <strong>to_address</strong>, <strong>token</strong>, and <strong>value_satoshis</strong>. You can read more descriptions about these fields within <a href="#microtx">MicroTX object description</a>, although they should be self-explanatory.</p>

<p>The call will hold until the Confidence Factor reaches 98% (usually about 8 seconds). If successful thereafter, a completed <a href="#microtx">MicroTX object</a> will be returned (which will include the transaction&rsquo;s <strong>hash</strong> for future queries), along with an HTTP Status Code 201.</p>

<aside class="warning">
The private key method doesn&rsquo;t work with <b>uncompressed public addresses</b> as sources. You can still use uncompressed public addresses via the public key method listed below, but if you want to use the private key method, please use compressed public addresses (which has been the predominant standard since Bitcoin 0.6.0). You can read more about the distinction between <a href="https://bitcoin.org/en/developer-guide#public-key-formats">uncompressed and compressed keys here.</a>
</aside>
<pre class="highlight shell"><code>curl -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s1">'{ "from_pubkey": "02152e2bb5b273561ece7bbe8b1df...", "to_address": "C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn", "value_satoshis": 20000, "token": "YOURTOKEN" }'</span> https://api.blockcypher.com/v1/bcy/test/txs/micro

<span class="o">{</span>
  <span class="s2">"from_pubkey"</span>: <span class="s2">"02152e2bb5b273561ece7bbe..."</span>,
  <span class="s2">"to_address"</span>: <span class="s2">"C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn"</span>,
  <span class="s2">"value_satoshis"</span>: 20000,
  <span class="s2">"tosign"</span>: <span class="o">[</span>
    <span class="s2">"0f804bef755e623ba3f2c89795814ffa3a0dc53a376ad3deb3c7d3e91957cf12"</span>
  <span class="o">]</span>,
  <span class="s2">"token"</span>: <span class="s2">"YOURTOKEN"</span>,
  <span class="s2">"inputs"</span>: <span class="o">[</span>
        ...
  <span class="o">]</span>,
  <span class="s2">"outputs"</span>: <span class="o">[</span>
    ...
  <span class="o">]</span>,
  <span class="s2">"fees"</span>: 735
<span class="o">}</span>

<span class="c"># Using our CLI signer tool...</span>
./signer 0f804bef755e623ba3f2c89795814ffa3a0dc53a376ad3deb3c7d3e91957cf12 <span class="nv">$YOURPRIVATEKEY</span>

30450221009050c3c966d1f895b6d6f6ab544113b88b3ce6908083a58170ef1e32da415e2f022037cb5dae353165f505d18a12c50b318c826b2c3552e41f70f7ade186e0434388

<span class="c">#request object is same as return object above, but + signature</span>
curl -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s1">'{ ..., "signatures": ["30450221009050c3c966d1f895b6d6f6ab544113b88b3ce6908083a58170ef1e32da415e2f022037cb5dae353165f505d18a12c50b318c826b2c3552e41f70f7ade186e0434388"],...}'</span> https://api.blockcypher.com/v1/bcy/test/txs/micro

<span class="o">{</span>
  <span class="s2">"from_pubkey"</span>: <span class="s2">"02152e2bb5b273561ece7bbe8b1..."</span>,
  <span class="s2">"to_address"</span>: <span class="s2">"C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn"</span>,
  <span class="s2">"value_satoshis"</span>: 20000,
  <span class="s2">"hash"</span>: <span class="s2">"ce8b3a2d5bb1f552c9d526559dd892b4ee..."</span>,
  <span class="s2">"inputs"</span>: <span class="o">[</span>
    ...
  <span class="o">]</span>,
  <span class="s2">"outputs"</span>: <span class="o">[</span>
    ...
  <span class="o">]</span>,
  <span class="s2">"fees"</span>: 735
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// here we're using bitcoinjs built to expose bigi, buffer, and require</span>
<span class="c1">// you can use this library here:</span>
<span class="c1">//   http://dev.blockcypher.com/data/samples/bitcoinjs-min.js</span>

<span class="kd">var</span> <span class="nx">bitcoin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"bitcoinjs-lib"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">bigi</span>    <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"bigi"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">buffer</span>  <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'buffer'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">key</span>     <span class="o">=</span> <span class="k">new</span> <span class="nx">bitcoin</span><span class="p">.</span><span class="nx">ECKey</span><span class="p">(</span><span class="nx">bigi</span><span class="p">.</span><span class="nx">fromHex</span><span class="p">(</span><span class="nx">my_hex_private_key</span><span class="p">),</span> <span class="kc">true</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">microtx</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">from_pubkey</span><span class="p">:</span> <span class="s2">"02152e2bb5b273561ece7bbe..."</span><span class="p">,</span>
  <span class="na">to_address</span><span class="p">:</span> <span class="s2">"C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn"</span><span class="p">,</span>
  <span class="na">value_satoshis</span><span class="p">:</span> <span class="mi">20000</span><span class="p">,</span>
  <span class="na">token</span><span class="p">:</span> <span class="nx">TOKEN</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s1">'https://api.blockcypher.com/v1/bcy/test/txs/micro?token='</span><span class="o">+</span><span class="nx">TOKEN</span><span class="p">;</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">microtx</span><span class="p">)).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">tmptx</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// signing each of the hex-encoded string required to finalize the transaction</span>
  <span class="nx">tmptx</span><span class="p">.</span><span class="nx">signatures</span> <span class="o">=</span> <span class="nx">tmptx</span><span class="p">.</span><span class="nx">tosign</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">tosign</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">key</span><span class="p">.</span><span class="nx">sign</span><span class="p">(</span><span class="k">new</span> <span class="nx">buffer</span><span class="p">.</span><span class="nx">Buffer</span><span class="p">(</span><span class="nx">tosign</span><span class="p">,</span> <span class="s2">"hex"</span><span class="p">)).</span><span class="nx">toDER</span><span class="p">().</span><span class="nx">toString</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">);</span>
  <span class="p">});</span>
  <span class="c1">// sending back the transaction with all the signatures to broadcast</span>
  <span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">tmptx</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">finaltx</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">finaltx</span><span class="p">);</span>
  <span class="p">})</span>
<span class="p">});</span>

<span class="o">&gt;</span> <span class="p">{</span>
<span class="o">&gt;</span>   <span class="s2">"from_pubkey"</span><span class="p">:</span> <span class="s2">"02152e2bb5b273561ece7bbe8b1..."</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"to_address"</span><span class="p">:</span> <span class="s2">"C1rGdt7QEPGiwPMFhNKNhHmyoWpa5X92pn"</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"value_satoshis"</span><span class="p">:</span> <span class="mi">20000</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"hash"</span><span class="p">:</span> <span class="s2">"ce8b3a2d5bb1f552c9d526559dd892b4ee..."</span><span class="p">,</span>
<span class="o">&gt;</span>   <span class="s2">"inputs"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>   <span class="p">...</span>
<span class="o">&gt;</span>   <span class="p">],</span>
<span class="o">&gt;</span>   <span class="s2">"outputs"</span><span class="p">:</span> <span class="p">[</span>
<span class="o">&gt;</span>   <span class="p">...</span>
<span class="o">&gt;</span>   <span class="p">],</span>
<span class="o">&gt;</span>   <span class="s2">"fees"</span><span class="p">:</span> <span class="mi">735</span>
<span class="o">&gt;</span> <span class="p">}</span>
</code></pre>

<h3 id="via-public-keys-and-client-side-signing">Via Public Keys and Client-side Signing</h3>

<p>If your security/application model allows it, we strongly recommend using public keys instead. Much like <a href="#creating-transactions">creating normal transactions</a> the process requires two endpoint calls; the first is similar to the private key method, but with public keys. E.g., your required object must contain <strong>from_pubkey</strong> (instead of private keys), <strong>to_address</strong>, <strong>token</strong>, and <strong>value_satoshis</strong>.</p>

<p>After POSTing this to <code class="prettyprint">/txs/micro</code> you&rsquo;ll receive another partially filled out <a href="#microtx">MicroTX</a> object, but one containing a <strong>tosign</strong> array. You must then sign the data in this array with your locally-stored private key; signing can be a tricky process, but you can use our <a href="https://github.com/blockcypher/btcutils/tree/master/signer">signer tool</a> as a baseline. Once that data is signed, it must be inserted to a <strong>signatures</strong> within the previously returned <a href="#microtx">MicroTX</a> object. Then, you send this completed <a href="#microtx">MicroTX</a> to <code class="prettyprint">/txs/micro</code>.</p>

<p>As with the private key method, the call will hold until the Confidence Factor reaches 98% (usually about 8 seconds). If successful thereafter, a completed <a href="#microtx">MicroTX object</a> will be returned (which will include the transaction&rsquo;s <strong>hash</strong> for future queries), along with an HTTP Status Code 201.</p>

<h2 id="security-vs-convenience">Security vs Convenience</h2>

<p>In general, sending any private key to an outside service is bad security practice. However, security and convenience are often in opposition. In terms of deciding whether passing private keys for microtransactions is a reasonable tradeoff, consider the following:</p>

<ul>
<li>The private key data is sent in a JSON document over SSL, protected against eavesdroppers.</li>
<li>We never log or store any private key. They&rsquo;re only present on our systems during the time of signing.</li>
<li>The use of a different change addresses is highly encouraged; in this way, leftover value from the source address gets transferred to another private key.</li>
<li>Regardless of the above, never pass a private key for addresses with high value. The Microtransaction API is meant for low-value transactions and low-value addresses.</li>
</ul>

<p>Finally, we only offer the option of passing private keys because we understand that signing on the client side can be difficult, depending on the environment. We hope that by fully understanding the tradeoffs and risks, you&rsquo;ll make the right choice for your situation.</p>

          <h1 id="confidence-factor">Confidence Factor</h1>

<p>One of the things that makes BlockCypher&rsquo;s API uniquely powerful is our ability to accurately predict the likelihood of an attempted double-spend succeeding against a transaction; this percentage probability is automatically included within the <strong>confidence</strong> attribute on any <a href="#tx">unconfirmed transaction</a> returned by our API, in addition to the explicit <a href="#transaction-confidence-endpoint">Transaction Confidence Endpoint</a> detailed below.</p>

<p>So what does that <strong>confidence</strong> attribute actually mean? In simpler terms, if an unconfirmed transaction returns a <strong>confidence</strong> factor of 99.9%, then our data says there&rsquo;s a 0.1% chance that an attempted double-spend will succeed. By design, we&rsquo;re conservative. Even when we return 90% confidence, the likelihood of a successful double-spend is significantly lower than 10%.</p>

<p>As you may have gathered from the frequency of links to this feature in these docs, we&rsquo;re exceptionally proud of the work we&rsquo;ve done to build this feature and provide it to our users. And that pride extends to our own confidence in our confidence product. We&rsquo;ve leveraged this product internally on two major features:</p>

<ul>
<li>Our <a href="https://live.blockcypher.com/">live block explorer</a> visually shows confidence intervals on unconfirmed transactions directly. Check out a <a href="https://live.blockcypher.com/btc/">live view of bitcoin</a> and click on one of the most recent unconfirmed transactions. Make sure you pick a very recent transaction: our confidence interval rapidly approaches 99% so quickly that you might miss it!</li>
<li>Our <a href="#microtransaction-api">Microtransaction API</a> is possible because of our Confidence Factor. Normally, you&rsquo;d have to wait ~10 minutes for a block confirmation, which makes immediate, frequent, small on-chain transactions impossible. But since we believe in our confidence product&mdash;and have done the work necessary to validate this belief&mdash;we can guarantee microtransactions up to ~$9 each.</li>
</ul>

<h3 id="how-does-it-work?">How does it work?</h3>

<p>There are a host of factors that go into our confidence calculation, but you can broadly organize them into two categories. The <em>shape</em> of transactions refers to aspects of transactions that <em>don&rsquo;t</em> vary with time (time-invariant) in our model. The <em>behavior</em> of transactions refers to aspects of transactions that <em>do</em> vary with time (time-variant) in our model.</p>

<p>On the <em>shape</em> side of our model, we ask a number of questions about a transaction: How is it structured? What are its inputs and outputs? What&rsquo;s its signature type? Broadly speaking, without knowing anything about the network, does it look like this transaction will be confirmed soon? </p>

<p>The <em>behavior</em> part of our model primarily focuses on how a transaction propagates through the network. In order to model this correctly, you need both a great connection to the network and a lot of past data, which we have. As BlockCypher pools resources for many users, we&rsquo;re always connected to a statistically significant number of nodes on the network&mdash;we target anywhere between 10 to 20% of the active nodes on any given blockchain&mdash;and offer connections in return. By monitoring transaction propagation, the number of nodes that have received it, and how <em>quickly</em> they received it, we can calculate its probability to be the &ldquo;winning&rdquo; transaction at any given point in time, if a double-spend was attempted. (As an aside, you can always see if a double spend was attempted by checking the <strong>double_spend</strong> and <strong>double_spend_tx</strong> attributes on an <a href="#tx">unconfirmed transaction</a>)</p>

<p>The result is a robust and reliable metric for judging unconfirmed transaction confidence, especially when used in concert with <a href="#events-and-hooks">webhooks and websockets.</a> Our work here is based on <a href="https://eprint.iacr.org/2012/248.pdf">several public research results</a> in addition to our own in-depth follow-up research, <a href="http://blog.blockcypher.com/?p=51">which you can read about here</a>. We are constantly improving our confidence model, and we always publish our findings when we do.</p>

<aside class="notice">
While we stand by our work behind our confidence research, please note that these measures are ultimately mitigation strategies if you need fast transaction confirmations. There&rsquo;s always an appreciable risk when accepting unconfirmed transactions, and there&rsquo;s no truly bulletproof way to secure unconfirmed transactions. Double spending attacks, while extremely unlikely, can still occur. Blockchain confirmations ultimately provide the highest level of security, especially when dealing with higher value addresses.
</aside>

<h2 id="transaction-confidence-endpoint">Transaction Confidence Endpoint</h2>
<pre class="highlight shell"><code>curl https://api.blockcypher.com/v1/btc/main/txs/43fa951e1bea87c282f6725cf8bdc08bb48761396c3af8dd5a41a085ab62acc9/confidence

<span class="o">{</span>
<span class="s2">"age_millis"</span>: 12725,
<span class="s2">"receive_count"</span>: 666,
<span class="s2">"confidence"</span>: 0.9901509730004237,
<span class="s2">"txhash"</span>: <span class="s2">"43fa951e1bea87c282f6725cf8bdc08bb48761396c3af8dd5a41a085ab62acc9"</span>,
<span class="s2">"txurl"</span>: <span class="s2">"https://api.blockcypher.com/v1/btc/main/txs/43fa951e1bea87c282f6725cf8bdc08bb48761396c3af8dd5a41a085ab62acc9"</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Fund existing address with faucet</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.blockcypher.com/v1/btc/main/txs/43fa951e1bea87c282f6725cf8bdc08bb48761396c3af8dd5a41a085ab62acc9/confidence'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s">'age_millis'</span><span class="p">:</span> <span class="mi">12725</span><span class="p">,</span>
 <span class="s">'txurl'</span><span class="p">:</span> <span class="s">'https://api.blockcypher.com/v1/btc/main/txs/43fa951e1bea87c282f6725cf8bdc08bb48761396c3af8dd5a41a085ab62acc9'</span><span class="p">,</span>
 <span class="s">'confidence'</span><span class="p">:</span> <span class="mf">0.9901509730004237</span><span class="p">,</span>
 <span class="s">'receive_count'</span><span class="p">:</span> <span class="mi">666</span><span class="p">,</span>
 <span class="s">'txhash'</span><span class="p">:</span> <span class="s">'43fa951e1bea87c282f6725cf8bdc08bb48761396c3af8dd5a41a085ab62acc9'</span><span class="p">}</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\confidence-factor\TransactionConfidenceEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\TransactionConfidence</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$txConfidence</span> <span class="o">=</span> <span class="nx">TransactionConfidence</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">'43fa951e1bea87c282f6725cf8bdc08bb48761396c3af8dd5a41a085ab62acc9'</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">{</span>
  <span class="s2">"age_millis"</span><span class="o">:</span><span class="mi">2188284017</span><span class="p">,</span>
  <span class="s2">"receive_count"</span><span class="o">:-</span><span class="mi">1</span><span class="p">,</span>
  <span class="s2">"confidence"</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span>
  <span class="s2">"txhash"</span><span class="o">:</span><span class="s2">"43fa951e1bea87c282f6725cf8bdc08bb48761396c3af8dd5a41a085ab62acc9"</span><span class="p">,</span>
  <span class="s2">"txurl"</span><span class="o">:</span><span class="s2">"https://api.blockcypher.com/v1/btc/main/txs/43fa951e1bea87c282f6725cf8bdc08bb48761396c3af8dd5a41a085ab62acc9"</span>
<span class="p">}</span>
</code></pre>

<p>Our confidence interval is automatically included in any <a href="#tx">unconfirmed transaction</a>, but you can retrieve it through a specific endpoint too.</p>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/txs/$TXHASH/confidence</td>
<td>GET</td>
<td><a href="#txconfidence">TXConfidence</a></td>
</tr>
</tbody></table>

<p>TXHASH is a <em>string</em> representing the hex-encoded transaction hash you&rsquo;re interested in querying, for example:</p>

<p><code class="prettyprint">43fa951e1bea87c282f6725cf8bdc08bb48761396c3af8dd5a41a085ab62acc9</code></p>

<p>The returned <a href="#txconfidence">TXConfidence</a> object contains the all-important confidence percentage, receive count and more.</p>

          <h1 id="payment-forwarding">Payment Forwarding</h1>

<p>One of the well-known benefits of cryptocurrency is the ability to allow users to partake in online commerce without necessarily requiring extensive setup barriers, like registering new accounts. In that spirit, our Payment Forwarding API is the easiest way to accept&mdash;and consolidate&mdash;payments securely without forcing your users to create accounts and jump through unnecessary loops. It&rsquo;s also a generic way to automatically transfer value from one address to another. While there are many possible use cases, the two we hear most about are:</p>

<ul>
<li>A way to generate payment-specific addresses for which funds will automatically transfer to a main merchant address. Great for automatic merchandise (whether physical or virtual) processing.</li>
<li>A method to easily fund a multisignature address from any wallet by providing a classic address that will automatically transfer to the multisignature/<em>pay-to-script-hash</em> address.</li>
</ul>

<p>We do not take a fee on payment forwarding, other than the required 10,000 satoshi miner fee; payments are free. However, as part of your own services, you can include a fee (either fixed or a percentage) that will also be automatically transfered to your own address in the same transaction. Fee-based business models are thus easily achieved, and moreover, easily auditable via the blockchain.</p>

<aside class="notice">
Payment forwarding is tied to your usage token, you can&rsquo;t create a payment forwarding request without one. You can <a href="http://account.blockcypher.com">register for a token here.</a>
</aside>

<aside class="warning">
By default, all payments will be debited with a 10,000 satoshis mining fee. The amount of the fee is configurable. But for very small payments, if the amount sent is even lower than the mining and user-set processing fees, the forward will fail.
</aside>

<h2 id="create-payment-endpoint">Create Payment Endpoint</h2>
<pre class="highlight shell"><code>curl -d <span class="s1">'{"destination":"15qx9ug952GWGTNn7Uiv6vode4RcGrRemh","callback_url": "https://my.domain.com/callbacks/new-pay","token":"YOURTOKEN"}'</span> http://api.blockcypher.com/v1/btc/main/payments

<span class="o">{</span>
<span class="s2">"input_address"</span>: <span class="s2">"16uKw7GsQSzfMaVTcT7tpFQkd7Rh9qcXWX"</span>,
<span class="s2">"destination"</span>: <span class="s2">"15qx9ug952GWGTNn7Uiv6vode4RcGrRemh"</span>,
<span class="s2">"callback_url"</span>: <span class="s2">"https://my.domain.com/callbacks/payments"</span>,
<span class="s2">"id"</span>: <span class="s2">"399d0923-e920-48ee-8928-2051cbfbc369"</span>,
<span class="s2">"token"</span>: <span class="s2">"YOURTOKEN"</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payment</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"destination"</span><span class="p">:</span><span class="s2">"15qx9ug952GWGTNn7Uiv6vode4RcGrRemh"</span><span class="p">,</span>
  <span class="s2">"callback_url"</span><span class="p">:</span> <span class="s2">"https://my.domain.com/callbacks/new-pay"</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s1">'https://api.blockcypher.com/v1/btc/main/payments?token='</span><span class="o">+</span><span class="nx">TOKEN</span><span class="p">;</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payment</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span>
<span class="p">{</span>
<span class="s2">"input_address"</span><span class="err">:</span> <span class="s2">"16uKw7GsQSzfMaVTcT7tpFQkd7Rh9qcXWX"</span><span class="p">,</span>
<span class="s2">"destination"</span><span class="err">:</span> <span class="s2">"15qx9ug952GWGTNn7Uiv6vode4RcGrRemh"</span><span class="p">,</span>
<span class="s2">"callback_url"</span><span class="err">:</span> <span class="s2">"https://my.domain.com/callbacks/payments"</span><span class="p">,</span>
<span class="s2">"id"</span><span class="err">:</span> <span class="s2">"399d0923-e920-48ee-8928-2051cbfbc369"</span><span class="p">,</span>
<span class="s2">"token"</span><span class="err">:</span> <span class="s2">"YOURTOKEN"</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight python"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">json</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">"destination"</span><span class="p">:</span><span class="s">"15qx9ug952GWGTNn7Uiv6vode4RcGrRemh"</span><span class="p">,</span><span class="s">"callback_url"</span><span class="p">:</span> <span class="s">"https://my.domain.com/callbacks/new-pay"</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s">'token'</span><span class="p">:</span> <span class="s">'YOUR_TOKEN'</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'http://api.blockcypher.com/v1/btc/main/payments'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s">'destination'</span><span class="p">:</span> <span class="s">'15qx9ug952GWGTNn7Uiv6vode4RcGrRemh'</span><span class="p">,</span>
 <span class="s">'callback_url'</span><span class="p">:</span> <span class="s">'https://my.domain.com/callbacks/new-pay'</span><span class="p">,</span>
 <span class="s">'input_address'</span><span class="p">:</span> <span class="s">'1CUYiFY3LzEd9dXgR6ubRaYPTq2SMxFFCJ'</span><span class="p">,</span>
 <span class="s">'id'</span><span class="p">:</span> <span class="s">'f35c80c2-3347-410d-b4ac-d049910289ec'</span><span class="p">,</span>
 <span class="s">'token'</span><span class="p">:</span> <span class="s">'YOUR_TOKEN'</span><span class="p">}</span>
</code></pre>

<p>First, to create an payment forwarding address, you need to POST a partially filled <a href="#paymentforward">PaymentForward</a> object to the payment creation endpoint. You need to include at least a <strong>destination</strong> address and your <strong>token</strong>; optionally, you can add a <strong>callback_url</strong>, processing fees (either percent or fixed) and a <strong>process_fee_address</strong>, and a few other options. You can see more details about these options in the <a href="#paymentforward">PaymentForward</a> object details.</p>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Request Object</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/payments</td>
<td>POST</td>
<td><a href="#paymentforward">PaymentForward</a></td>
<td><a href="#paymentforward">PaymentForward</a></td>
</tr>
</tbody></table>

<p>In return, you&rsquo;ll get a more complete <a href="#PaymentForward">PaymentForward</a> object, including an <strong>input_address</strong> and <strong>id</strong>.</p>

<aside class="notice">
If you decide to have a <b>callback_url</b>, you&rsquo;ll receive a payload at that url whenever a payment is made to the <b>input_address</b>. The payload will come in the form of a <a href="paymentforwardcallback">PaymentForwardCallback</a> object.
</aside>

<h2 id="list-payments-endpoint">List Payments Endpoint</h2>
<pre class="highlight shell"><code>curl http://api.blockcypher.com/v1/btc/main/payments?token<span class="o">=</span>YOURTOKEN

<span class="o">[</span>
    <span class="o">{</span>
    <span class="s2">"input_address"</span>: <span class="s2">"16uKw7GsQSzfMaVTcT7tpFQkd7Rh9qcXWX"</span>,
    <span class="s2">"destination"</span>: <span class="s2">"15qx9ug952GWGTNn7Uiv6vode4RcGrRemh"</span>,
    <span class="s2">"callback_url"</span>: <span class="s2">"https://my.domain.com/callbacks/payments"</span>,
    <span class="s2">"id"</span>: <span class="s2">"399d0923-e920-48ee-8928-2051cbfbc369"</span>,
    <span class="s2">"token"</span>: <span class="s2">"YOURTOKEN"</span>
    <span class="o">}</span>
<span class="o">]</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'http://api.blockcypher.com/v1/btc/main/payments?token='</span><span class="o">+</span><span class="nx">TOKEN</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span>
<span class="p">[</span>
    <span class="p">{</span>
    <span class="s2">"input_address"</span><span class="p">:</span> <span class="s2">"16uKw7GsQSzfMaVTcT7tpFQkd7Rh9qcXWX"</span><span class="p">,</span>
    <span class="s2">"destination"</span><span class="p">:</span> <span class="s2">"15qx9ug952GWGTNn7Uiv6vode4RcGrRemh"</span><span class="p">,</span>
    <span class="s2">"callback_url"</span><span class="p">:</span> <span class="s2">"https://my.domain.com/callbacks/payments"</span><span class="p">,</span>
    <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"399d0923-e920-48ee-8928-2051cbfbc369"</span><span class="p">,</span>
    <span class="s2">"token"</span><span class="p">:</span> <span class="s2">"YOURTOKEN"</span>
    <span class="p">}</span>
<span class="p">]</span>
</code></pre>
<pre class="highlight python"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s">'token'</span><span class="p">:</span> <span class="s">'YOUR_TOKEN'</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'http://api.blockcypher.com/v1/btc/main/payments'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">[{</span><span class="s">'destination'</span><span class="p">:</span> <span class="s">'15qx9ug952GWGTNn7Uiv6vode4RcGrRemh'</span><span class="p">,</span>
  <span class="s">'callback_url'</span><span class="p">:</span> <span class="s">'https://my.domain.com/callbacks/payments'</span><span class="p">,</span>
  <span class="s">'input_address'</span><span class="p">:</span> <span class="s">'1CUYiFY3LzEd9dXgR6ubRaYPTq2SMxFFCJ'</span><span class="p">,</span>
  <span class="s">'id'</span><span class="p">:</span> <span class="s">'f35c80c2-3347-410d-b4ac-d049910289ec'</span><span class="p">,</span>
  <span class="s">'token'</span><span class="p">:</span> <span class="s">'YOUR_TOKEN'</span><span class="p">}]</span>
</code></pre>

<p>To list your currently active payment forwarding addresses, you can use this endpoint.</p>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/payments</td>
<td>GET</td>
<td>Array[<a href="#paymentforward">PaymentForward</a>]</td>
</tr>
</tbody></table>

<p>You&rsquo;ll get a full array of your currently active payment forwarding addresses, based on your token.</p>

<h2 id="delete-payment-endpoint">Delete Payment Endpoint</h2>
<pre class="highlight shell"><code><span class="c"># Piping to grep to just show status code</span>
curl -X DELETE -IsL http://api.blockcypher.com/v1/btc/main/payments/399d0923-e920-48ee-8928-2051cbfbc369?token<span class="o">=</span>YOURTOKEN | grep <span class="s2">"HTTP/1.1"</span>

HTTP/1.1 204 No Content
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.blockcypher.com/v1/btc/main/payments/399d0923-e920-48ee-8928-2051cbfbc369?token="</span><span class="o">+</span><span class="nx">TOKEN</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
  <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"DELETE"</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Fund existing address with faucet</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s">'token'</span><span class="p">:</span> <span class="s">'YOUR_TOKEN'</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s">'http://api.blockcypher.com/v1/btc/main/payments/f35c80c2-3347-410d-b4ac-d049910289ec'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="c"># will return nothing, but we can confirm that delete was succesful via http code</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">assert</span> <span class="n">r</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">204</span>
</code></pre>

<p>When you&rsquo;re done with a payment forwarding address, you can delete it via its id.</p>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/payments/$PAYID</td>
<td>DELETE</td>
<td><em>nil</em></td>
</tr>
</tbody></table>

<p>PAYID is a string representing the payment forwarding request you want to delete, for example:</p>

<p><code class="prettyprint">399d0923-e920-48ee-8928-2051cbfbc369</code></p>

<p>This will return no object, but will return an HTTP Status Code 204 if the request was successfully deleted.</p>

          <h1 id="events-and-hooks">Events and Hooks</h1>

<p>Blockchains are highly transactional systems. Many usage patterns require knowing when an event occurs: i.e., when a transaction is included into a block, or when an unconfirmed transaction is relayed through the network. Instead of requiring you to continuously poll resources, we provide push APIs to facilitate those use cases, and support both WebSockets and WebHooks.</p>

<h3 id="which-should-i-use?">Which Should I Use?</h3>

<p><strong><a href="https://developer.mozilla.org/en-US/docs/WebSockets">WebSockets</a></strong> are typically used in client applications when a server is not already running: e.g., a web page displaying the most recent transactions or a wallet app updating its UI when a transaction has been confirmed. Websockets are less reliable in longer interactions (&gt; 1 hour) because they require a connection to stay open.</p>

<p><strong><a href="https://webhooks.pbworks.com/w/page/13385124/FrontPage">WebHooks</a></strong> are the most reliable way to get event notifications but requires running a server to receive the callbacks. We automatically retry HTTP requests 3 times.</p>

<h2 id="types-of-events">Types of Events</h2>

<p>We support a number of different event types, and you can filter your notification requests depending on how you structure your <a href="#event">Event</a> request object. </p>

<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><em>unconfirmed-tx</em></td>
<td>Triggered for every new transaction BlockCypher receives before it&rsquo;s confirmed in a block; basically, for every unconfirmed transaction. The payload is an unconfirmed <a href="#tx">TX</a>.</td>
</tr>
<tr>
<td><em>new-block</em></td>
<td>Triggered for every new block added to the blockchain you&rsquo;ve selected as your base resource. The payload is a <a href="#block">Block</a>.</td>
</tr>
<tr>
<td><em>confirmed-tx</em></td>
<td>Triggered for every new transaction making it into a new block; in other words, for every first transaction confirmation. This is equivalent to listening to the <em>new-block</em> event and fetching each transaction in the new <a href="#block">Block</a>. The payload is a confirmed <a href="#tx">TX</a>.</td>
</tr>
<tr>
<td><em>tx-confirmation</em></td>
<td>Simplifies listening to confirmations on all transactions for a given address up to a provided threshold. Sends first the unconfirmed transaction and then the transaction for each confirmation. Use the <strong>confirmations</strong> property within the <a href="#event">Event</a> to manually specify the number of confirmations desired (maximum 10, defaults to 6). The payload is a <a href="#tx">TX</a>.</td>
</tr>
<tr>
<td><em>double-spend-tx</em></td>
<td>Triggered any time a double spend is detected by BlockCypher. The payload is the <a href="#tx">TX</a> that triggered the event; the hash of the transaction that it&rsquo;s trying to double spend is included in its <strong>double_spend_tx</strong> property.</td>
</tr>
</tbody></table>

<aside class="notice">
Events like <i>unconfirmed-tx</i> can produce a lot of requests. To avoid rate-limiting, please <a href="http://accounts.blockcypher.com/">register for a token.</a>
</aside>

<h2 id="using-websockets">Using WebSockets</h2>
<pre class="highlight shell"><code><span class="c"># no websockets via cURL, check the Javascript example</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Get latest unconfirmed transactions live</span>
<span class="kd">var</span> <span class="nx">ws</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WebSocket</span><span class="p">(</span><span class="s2">"wss://socket.blockcypher.com/v1/btc/main"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="nx">ws</span><span class="p">.</span><span class="nx">onmessage</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">tx</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">shortHash</span> <span class="o">=</span> <span class="nx">tx</span><span class="p">.</span><span class="nx">hash</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"..."</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">total</span> <span class="o">=</span> <span class="nx">tx</span><span class="p">.</span><span class="nx">total</span> <span class="o">/</span> <span class="mi">100000000</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">addrs</span> <span class="o">=</span> <span class="nx">tx</span><span class="p">.</span><span class="nx">addresses</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">", "</span><span class="p">);</span>
  <span class="nx">$</span><span class="p">(</span><span class="s1">'#browser-websocket'</span><span class="p">).</span><span class="nx">before</span><span class="p">(</span><span class="s2">"&lt;div&gt;Unconfirmed transaction "</span> <span class="o">+</span> <span class="nx">shortHash</span> <span class="o">+</span> <span class="s2">" totalling "</span> <span class="o">+</span> <span class="nx">total</span> <span class="o">+</span> <span class="s2">"BTC involving addresses "</span> <span class="o">+</span> <span class="nx">addrs</span> <span class="o">+</span> <span class="s2">"&lt;/div&gt;"</span><span class="p">);</span>
  <span class="nx">count</span><span class="o">++</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">count</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">)</span> <span class="nx">ws</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
<span class="p">}</span>
<span class="nx">ws</span><span class="p">.</span><span class="nx">onopen</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span><span class="na">filter</span><span class="p">:</span> <span class="s2">"event=unconfirmed-tx"</span><span class="p">}));</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight php"><code># no websockets via PHP, check the Javascript example
</code></pre>

<p>Opening a WebSocket to listen to our feeds is easy, like so in Javascript:</p>

<p><code class="prettyprint">new WebSocket(&quot;wss://socket.blockcypher.com/v1/btc/main&quot;);</code></p>

<p>The code may differ if you&rsquo;re not programming in Javascript (check relevant code examples for our standard libraries) but the URL will be identical. Once the socket is opened, the JSON document representing the <a href="#event">Event</a> of interest should be sent.</p>

<p>In addition to standard events, WebSockets accept a &ldquo;ping&rdquo; event. If you send the following, you will receive the same message back with &ldquo;ping&rdquo; replaced by &ldquo;pong&rdquo;:</p>

<p><code class="prettyprint">{ &quot;event&quot;: &quot;ping&quot; }</code></p>

<p>A regular ping (i.e. every 20 seconds) allows the WebSocket to stay connected for a longer period of time.</p>

<h3 id="a-websockets-live-example">A WebSockets Live Example</h3>

<p>Using the example above, we can demonstrate a client-side WebSocket event stream directly from your browser. In that example, we will subscribe to all pooled transactions (new, unconfirmed transactions) by opening a new WebSocket and sending the filter (<strong>unconfirmed-tx</strong>). Upon notification of new transactions, we format them and add them into the page.</p>

<p><button class="tryme" type="button" id="browser-websocket">Try me!</button></p>

<h2 id="using-webhooks">Using WebHooks</h2>

<p>WebHooks leverage similar objects and interactions but with two key differences:</p>

<ul>
<li>The JSON <a href="#event">Event</a> should be sent using a POST request to the &ldquo;create webhook endpoint&rdquo; and include a <strong>url</strong> property to denote where payloads should be delivered.</li>
<li>The <a href="#tx">TX</a> or <a href="#block">Block</a> associated with the <a href="#event">Event</a> will be POSTed to the provided <strong>url</strong>. The POSTed payload will also include <em>X-EventType</em> and <em>X-EventId</em> metadata in the HTTP header specifying the <strong>event</strong> type and <strong>id</strong> of the WebHook which triggered the payload.</li>
</ul>

<aside class="warning">
To prevent eavesdropping, we recommend securing your callback <b>url</b> by using SSL and providing a <i>secret</i> parameter appended to the <a href="#event">Event</a> request. We POST the payload to the unaltered <b>url</b>, which allows you to check on your server that the parameter was not modified.
</aside>

<aside class="notice">
Testing WebHooks can be tricky; we recommend using <a href="http://requestb.in/">reqeustb.in</a> to set up a temporary server to test your events.
</aside>

<h3 id="create-webhook-endpoint">Create WebHook Endpoint</h3>
<pre class="highlight shell"><code>curl -d <span class="s1">'{"event": "unconfirmed-tx", "address": "15qx9ug952GWGTNn7Uiv6vode4RcGrRemh", "url": "https://my.domain.com/callbacks/new-tx"}'</span> https://api.blockcypher.com/v1/btc/main/hooks?token<span class="o">=</span>YOURTOKEN

<span class="o">{</span>
<span class="s2">"id"</span>: <span class="s2">"399d0923-e920-48ee-8928-2051cbfbc369"</span>
<span class="s2">"event"</span>: <span class="s2">"unconfirmed-tx"</span>,
<span class="s2">"address"</span>: <span class="s2">"15qx9ug952GWGTNn7Uiv6vode4RcGrRemh"</span>,
<span class="s2">"token"</span>: <span class="s2">"YOURTOKEN"</span>
<span class="s2">"url"</span>: <span class="s2">"https://my.domain.com/callbacks/new-tx"</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">webhook</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"event"</span><span class="p">:</span> <span class="s2">"unconfirmed-tx"</span><span class="p">,</span>
  <span class="s2">"address"</span><span class="p">:</span> <span class="s2">"15qx9ug952GWGTNn7Uiv6vode4RcGrRemh"</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://my.domain.com/callbacks/new-tx"</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s1">'https://api.blockcypher.com/v1/btc/main/hooks?token='</span><span class="o">+</span><span class="nx">TOKEN</span><span class="p">;</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">webhook</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span>
<span class="p">{</span>
<span class="s2">"id"</span><span class="err">:</span> <span class="s2">"399d0923-e920-48ee-8928-2051cbfbc369"</span>
<span class="s2">"event"</span><span class="err">:</span> <span class="s2">"unconfirmed-tx"</span><span class="p">,</span>
<span class="s2">"address"</span><span class="err">:</span> <span class="s2">"15qx9ug952GWGTNn7Uiv6vode4RcGrRemh"</span><span class="p">,</span>
<span class="s2">"token"</span><span class="err">:</span> <span class="s2">"YOURTOKEN"</span>
<span class="s2">"url"</span><span class="err">:</span> <span class="s2">"https://my.domain.com/callbacks/new-tx"</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight python"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">json</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">'event'</span><span class="p">:</span> <span class="s">'unconfirmed-tx'</span><span class="p">,</span> <span class="s">'address'</span><span class="p">:</span> <span class="s">'15qx9ug952GWGTNn7Uiv6vode4RcGrRemh'</span><span class="p">,</span> <span class="s">'url'</span><span class="p">:</span> <span class="s">'https://my.domain.com/callbacks/new-tx'</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s">'token'</span><span class="p">:</span> <span class="s">'YOUR_TOKEN'</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.blockcypher.com/v1/btc/main/hooks'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s">'filter'</span><span class="p">:</span> <span class="s">'addr=15qx9ug952GWGTNn7Uiv6vode4RcGrRemh&amp;event=unconfirmed-tx'</span><span class="p">,</span>
 <span class="s">'id'</span><span class="p">:</span> <span class="s">'50d1fb13-2bd4-47d0-8e1b-0695e0322581'</span><span class="p">,</span>
 <span class="s">'token'</span><span class="p">:</span> <span class="s">'YOUR_TOKEN'</span><span class="p">,</span>
 <span class="s">'address'</span><span class="p">:</span> <span class="s">'15qx9ug952GWGTNn7Uiv6vode4RcGrRemh'</span><span class="p">,</span>
 <span class="s">'url'</span><span class="p">:</span> <span class="s">'https://my.domain.com/callbacks/new-tx'</span><span class="p">,</span>
 <span class="s">'event'</span><span class="p">:</span> <span class="s">'unconfirmed-tx'</span><span class="p">,</span>
 <span class="s">'callback_errors'</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\hook-api\CreateWebHookEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\WebHook</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$webHook</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WebHook</span><span class="p">();</span>
<span class="nv">$webHook</span><span class="o">-&gt;</span><span class="na">setUrl</span><span class="p">(</span><span class="s2">"http://requestb.in/rwp6jirw?uniqid="</span> <span class="o">.</span> <span class="nb">uniqid</span><span class="p">());</span>
<span class="nv">$webHook</span><span class="o">-&gt;</span><span class="na">setEvent</span><span class="p">(</span><span class="s1">'unconfirmed-tx'</span><span class="p">);</span>
<span class="nv">$webHook</span><span class="o">-&gt;</span><span class="na">setHash</span><span class="p">(</span><span class="s1">'2b17f5589528f97436b5d563635b4b27ca8980aa20c300abdc538f2a8bfa871b'</span><span class="p">);</span>

<span class="c1">// For Sample Purposes Only.
</span><span class="nv">$request</span> <span class="o">=</span> <span class="k">clone</span> <span class="nv">$webHook</span><span class="p">;</span>

<span class="nv">$output</span> <span class="o">=</span> <span class="nv">$webHook</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">{</span>
  <span class="s2">"url"</span><span class="o">:</span><span class="s2">"http://requestb.in/rwp6jirw?uniqid=5581998e19114"</span><span class="p">,</span>
  <span class="s2">"event"</span><span class="o">:</span><span class="s2">"unconfirmed-tx"</span><span class="p">,</span>
  <span class="s2">"hash"</span><span class="o">:</span><span class="s2">"2b17f5589528f97436b5d563635b4b27ca8980aa20c300abdc538f2a8bfa871b"</span><span class="p">,</span>
  <span class="s2">"id"</span><span class="o">:</span><span class="s2">"d5ca3bd3-5dfb-477d-9fb4-ac3510af258d"</span><span class="p">,</span>
  <span class="s2">"token"</span><span class="o">:</span><span class="s2">"c0afcccdde5081d6429de37d16166ead"</span><span class="p">,</span>
  <span class="s2">"callback_errors"</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span>
  <span class="s2">"filter"</span><span class="o">:</span><span class="s2">"event=unconfirmed-tx\u0026hash=2b17f5589528f97436b5d563635b4b27ca8980aa20c300abdc538f2a8bfa871b"</span>
<span class="p">}</span>
</code></pre>

<p>Using a partially filled out <a href="#event">Event</a>, you can create a WebHook using this resource. Check the <a href="#event">Event object description</a> and <a href="#types-of-events">types of events</a> to understand the options available for your events.</p>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Request Object</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/hooks</td>
<td>POST</td>
<td><a href="#event">Event</a></td>
<td><a href="#event">Event</a></td>
</tr>
</tbody></table>

<p>If successful, it will return the <a href="#event">Event</a> with a newly generated <strong>id</strong>.</p>

<h3 id="list-webhooks-endpoint">List WebHooks Endpoint</h3>
<pre class="highlight shell"><code>curl https://api.blockcypher.com/v1/btc/main/hooks?token<span class="o">=</span>YOURTOKEN

<span class="o">[</span>
    <span class="o">{</span>
    <span class="s2">"id"</span>: <span class="s2">"399d0923-e920-48ee-8928-2051cbfbc369"</span>
    <span class="s2">"event"</span>: <span class="s2">"unconfirmed-tx"</span>,
    <span class="s2">"address"</span>: <span class="s2">"15qx9ug952GWGTNn7Uiv6vode4RcGrRemh"</span>,
    <span class="s2">"token"</span>: <span class="s2">"YOURTOKEN"</span>
    <span class="s2">"url"</span>: <span class="s2">"https://my.domain.com/callbacks/new-tx"</span>
    <span class="o">}</span>
<span class="o">]</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'https://api.blockcypher.com/v1/btc/main/hooks?token='</span><span class="o">+</span><span class="nx">TOKEN</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span>
<span class="p">[</span>
    <span class="p">{</span>
    <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"399d0923-e920-48ee-8928-2051cbfbc369"</span>
    <span class="s2">"event"</span><span class="p">:</span> <span class="s2">"unconfirmed-tx"</span><span class="p">,</span>
    <span class="s2">"address"</span><span class="p">:</span> <span class="s2">"15qx9ug952GWGTNn7Uiv6vode4RcGrRemh"</span><span class="p">,</span>
    <span class="s2">"token"</span><span class="p">:</span> <span class="s2">"YOURTOKEN"</span>
    <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://my.domain.com/callbacks/new-tx"</span>
    <span class="p">}</span>
<span class="p">]</span>
</code></pre>
<pre class="highlight python"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s">'token'</span><span class="p">:</span> <span class="s">'YOUR_TOKEN'</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.blockcypher.com/v1/btc/main/hooks'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">[{</span><span class="s">'filter'</span><span class="p">:</span> <span class="s">'addr=15qx9ug952GWGTNn7Uiv6vode4RcGrRemh&amp;event=unconfirmed-tx'</span><span class="p">,</span>
  <span class="s">'id'</span><span class="p">:</span> <span class="s">'50d1fb13-2bd4-47d0-8e1b-0695e0322581'</span><span class="p">,</span>
  <span class="s">'token'</span><span class="p">:</span> <span class="s">'YOUR_TOKEN'</span><span class="p">,</span>
  <span class="s">'address'</span><span class="p">:</span> <span class="s">'15qx9ug952GWGTNn7Uiv6vode4RcGrRemh'</span><span class="p">,</span>
  <span class="s">'url'</span><span class="p">:</span> <span class="s">'https://my.domain.com/callbacks/new-tx'</span><span class="p">,</span>
  <span class="s">'event'</span><span class="p">:</span> <span class="s">'unconfirmed-tx'</span><span class="p">,</span>
  <span class="s">'callback_errors'</span><span class="p">:</span> <span class="mi">0</span><span class="p">}]</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\hook-api\ListWebHooksEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\WebHook</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$webHooks</span> <span class="o">=</span> <span class="nx">WebHook</span><span class="o">::</span><span class="na">getAll</span><span class="p">(</span><span class="k">array</span><span class="p">(),</span> <span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"id"</span><span class="o">:</span><span class="s2">"d5ca3bd3-5dfb-477d-9fb4-ac3510af258d"</span><span class="p">,</span>
    <span class="s2">"token"</span><span class="o">:</span><span class="s2">"c0afcccdde5081d6429de37d16166ead"</span><span class="p">,</span>
    <span class="s2">"url"</span><span class="o">:</span><span class="s2">"http://requestb.in/rwp6jirw?uniqid=5581998e19114"</span><span class="p">,</span>
    <span class="s2">"callback_errors"</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="s2">"event"</span><span class="o">:</span><span class="s2">"unconfirmed-tx"</span><span class="p">,</span>
    <span class="s2">"hash"</span><span class="o">:</span><span class="s2">"2b17f5589528f97436b5d563635b4b27ca8980aa20c300abdc538f2a8bfa871b"</span><span class="p">,</span>
    <span class="s2">"filter"</span><span class="o">:</span><span class="s2">"event=unconfirmed-tx\u0026hash=2b17f5589528f97436b5d563635b4b27ca8980aa20c300abdc538f2a8bfa871b"</span>
  <span class="p">}</span>
<span class="p">]</span>
</code></pre>

<p>This resource lists your currently active events, according the base resource and $YOURTOKEN.</p>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/hooks?token=$YOURTOKEN</td>
<td>GET</td>
<td>Array[<a href="#event">Event</a>]</td>
</tr>
</tbody></table>

<h3 id="webhook-id-endpoint">WebHook ID Endpoint</h3>
<pre class="highlight shell"><code>curl https://api.blockcypher.com/v1/btc/main/hooks/399d0923-e920-48ee-8928-2051cbfbc369

<span class="o">{</span>
<span class="s2">"id"</span>: <span class="s2">"399d0923-e920-48ee-8928-2051cbfbc369"</span>
<span class="s2">"event"</span>: <span class="s2">"unconfirmed-tx"</span>,
<span class="s2">"address"</span>: <span class="s2">"15qx9ug952GWGTNn7Uiv6vode4RcGrRemh"</span>,
<span class="s2">"token"</span>: <span class="s2">"YOURTOKEN"</span>
<span class="s2">"url"</span>: <span class="s2">"https://my.domain.com/callbacks/new-tx"</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'https://api.blockcypher.com/v1/btc/main/hooks/399d0923-e920-48ee-8928-2051cbfbc369'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span>
<span class="p">{</span>
<span class="s2">"id"</span><span class="err">:</span> <span class="s2">"399d0923-e920-48ee-8928-2051cbfbc369"</span>
<span class="s2">"event"</span><span class="err">:</span> <span class="s2">"unconfirmed-tx"</span><span class="p">,</span>
<span class="s2">"address"</span><span class="err">:</span> <span class="s2">"15qx9ug952GWGTNn7Uiv6vode4RcGrRemh"</span><span class="p">,</span>
<span class="s2">"token"</span><span class="err">:</span> <span class="s2">"YOURTOKEN"</span>
<span class="s2">"url"</span><span class="err">:</span> <span class="s2">"https://my.domain.com/callbacks/new-tx"</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight python"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.blockcypher.com/v1/btc/main/hooks/50d1fb13-2bd4-47d0-8e1b-0695e0322581'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s">'filter'</span><span class="p">:</span> <span class="s">'addr=15qx9ug952GWGTNn7Uiv6vode4RcGrRemh&amp;event=unconfirmed-tx'</span><span class="p">,</span>
 <span class="s">'id'</span><span class="p">:</span> <span class="s">'50d1fb13-2bd4-47d0-8e1b-0695e0322581'</span><span class="p">,</span>
 <span class="s">'token'</span><span class="p">:</span> <span class="s">'YOUR_TOKEN'</span><span class="p">,</span>
 <span class="s">'address'</span><span class="p">:</span> <span class="s">'15qx9ug952GWGTNn7Uiv6vode4RcGrRemh'</span><span class="p">,</span>
 <span class="s">'url'</span><span class="p">:</span> <span class="s">'https://my.domain.com/callbacks/new-tx'</span><span class="p">,</span>
 <span class="s">'event'</span><span class="p">:</span> <span class="s">'unconfirmed-tx'</span><span class="p">,</span>
 <span class="s">'callback_errors'</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\hook-api\WebHookIdEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\WebHook</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$webHook</span> <span class="o">=</span> <span class="nx">WebHook</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">'d5ca3bd3-5dfb-477d-9fb4-ac3510af258d'</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="nv">$apiContext</span><span class="p">);</span>

<span class="p">{</span>
  <span class="s2">"id"</span><span class="o">:</span><span class="s2">"d5ca3bd3-5dfb-477d-9fb4-ac3510af258d"</span><span class="p">,</span>
  <span class="s2">"token"</span><span class="o">:</span><span class="s2">"c0afcccdde5081d6429de37d16166ead"</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="o">:</span><span class="s2">"http://requestb.in/rwp6jirw?uniqid=5581998e19114"</span><span class="p">,</span>
  <span class="s2">"callback_errors"</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span>
  <span class="s2">"event"</span><span class="o">:</span><span class="s2">"unconfirmed-tx"</span><span class="p">,</span>
  <span class="s2">"hash"</span><span class="o">:</span><span class="s2">"2b17f5589528f97436b5d563635b4b27ca8980aa20c300abdc538f2a8bfa871b"</span><span class="p">,</span>
  <span class="s2">"filter"</span><span class="o">:</span><span class="s2">"event=unconfirmed-tx\u0026hash=2b17f5589528f97436b5d563635b4b27ca8980aa20c300abdc538f2a8bfa871b"</span>
<span class="p">}</span>
</code></pre>

<p>This resource returns an <a href="#event">Event</a> based on its generated <em>id</em>.</p>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/hooks/$WEBHOOKID</td>
<td>GET</td>
<td><a href="#event">Event</a></td>
</tr>
</tbody></table>

<p>WEBHOOKID is a string representing the event&rsquo;s generated <em>id</em>, for example:</p>

<p><code class="prettyprint">399d0923-e920-48ee-8928-2051cbfbc369</code></p>

<h3 id="delete-webhook-endpoint">Delete WebHook Endpoint</h3>
<pre class="highlight shell"><code><span class="c"># Piping into grep to get status code</span>
curl -X DELETE -IsL https://api.blockcypher.com/v1/btc/main/hooks/399d0923-e920-48ee-8928-2051cbfbc369?token<span class="o">=</span>YOURTOKEN | grep <span class="s2">"HTTP/1.1"</span>

HTTP/1.1 204 OK
</code></pre>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"https://api.blockcypher.com/v1/btc/main/hooks/399d0923-e920-48ee-8928-2051cbfbc369?token="</span><span class="o">+</span><span class="nx">TOKEN</span><span class="p">,</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"DELETE"</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Fund existing address with faucet</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s">'https://api.blockcypher.com/v1/btc/main/hooks/50d1fb13-2bd4-47d0-8e1b-0695e0322581'</span><span class="p">)</span>
<span class="c"># Will return nothing, but we can confirm the status code to be sure</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">assert</span> <span class="n">r</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">204</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Run on console:
// php -f .\sample\hook-api\DeleteWebHookEndpoint.php
</span>
<span class="k">require</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">'/../bootstrap.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">BlockCypher\Api\WebHook</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Auth\SimpleTokenCredential</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BlockCypher\Rest\ApiContext</span><span class="p">;</span>

<span class="nv">$apiContext</span> <span class="o">=</span> <span class="nx">ApiContext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
    <span class="s1">'main'</span><span class="p">,</span> <span class="s1">'btc'</span><span class="p">,</span> <span class="s1">'v1'</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">SimpleTokenCredential</span><span class="p">(</span><span class="s1">'c0afcccdde5081d6429de37d16166ead'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'log.LogEnabled'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'log.FileName'</span> <span class="o">=&gt;</span> <span class="s1">'BlockCypher.log'</span><span class="p">,</span> <span class="s1">'log.LogLevel'</span> <span class="o">=&gt;</span> <span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">// Option 1: get the object before removing it
//$webHook = WebHook::get('d5ca3bd3-5dfb-477d-9fb4-ac3510af258d', array(), $apiContext);
</span>
<span class="c1">// Option 2: create a new empty object only with its ID. You save one API request
</span><span class="nv">$webHook</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WebHook</span><span class="p">();</span>
<span class="nv">$webHook</span><span class="o">-&gt;</span><span class="na">setId</span><span class="p">(</span><span class="s1">'d5ca3bd3-5dfb-477d-9fb4-ac3510af258d'</span><span class="p">);</span>

<span class="nv">$webHook</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">(</span><span class="nv">$apiContext</span><span class="p">);</span>

<span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">204</span> <span class="nx">OK</span>
</code></pre>

<p>This resource deletes an active <a href="#event">Event</a> based on its <em>id</em>. Remember to include your token, or the request will fail.</p>

<table><thead>
<tr>
<th>Resource</th>
<th>Method</th>
<th>Return Object</th>
</tr>
</thead><tbody>
<tr>
<td>/hooks/$WEBHOOKID</td>
<td>DELETE</td>
<td><em>nil</em></td>
</tr>
</tbody></table>

<p>WEBHOOKID is a string representing the event&rsquo;s generated <em>id</em>, for example:</p>

<p><code class="prettyprint">399d0923-e920-48ee-8928-2051cbfbc369</code></p>

<p>If successful, it won&rsquo;t return any objects, but will respond with an HTTP Status Code 204.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="javascript">JavaScript</a>
                <a href="#" data-language-name="python">Python</a>
                <a href="#" data-language-name="php">PHP</a>
          </div>
      </div>
    </div>
  </body>
</html>
